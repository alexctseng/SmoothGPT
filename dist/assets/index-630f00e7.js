(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function N(){}const Yi=r=>r;function kt(r,e){for(const t in e)r[t]=e[t];return r}function Wi(r){return r()}function sr(){return Object.create(null)}function Re(r){r.forEach(Wi)}function Ms(r){return typeof r=="function"}function re(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let bn;function Ue(r,e){return bn||(bn=document.createElement("a")),bn.href=e,r===bn.href}function Ll(r){return Object.keys(r).length===0}function Ki(r,...e){if(r==null)return N;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function D(r){let e;return Ki(r,t=>e=t)(),e}function ge(r,e,t){r.$$.on_destroy.push(Ki(e,t))}function Ae(r,e,t,n){if(r){const s=Zi(r,e,t,n);return r[0](s)}}function Zi(r,e,t,n){return r[1]&&n?kt(t.ctx.slice(),r[1](n(e))):t.ctx}function Pe(r,e,t,n){if(r[2]&&n){const s=r[2](n(t));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],l=Math.max(e.dirty.length,s.length);for(let o=0;o<l;o+=1)i[o]=e.dirty[o]|s[o];return i}return e.dirty|s}return e.dirty}function Ee(r,e,t,n,s,i){if(s){const l=Zi(e,t,n,i);r.p(l,s)}}function Te(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ql(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function rr(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function En(r){return r??""}function an(r,e,t){return r.set(t),e}const Xi=typeof window<"u";let Dl=Xi?()=>window.performance.now():()=>Date.now(),Fs=Xi?r=>requestAnimationFrame(r):N;const Kt=new Set;function el(r){Kt.forEach(e=>{e.c(r)||(Kt.delete(e),e.f())}),Kt.size!==0&&Fs(el)}function Nl(r){let e;return Kt.size===0&&Fs(el),{promise:new Promise(t=>{Kt.add(e={c:r,f:t})}),abort(){Kt.delete(e)}}}function g(r,e){r.appendChild(e)}function tl(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function zl(r){const e=_("style");return Hl(tl(r),e),e.sheet}function Hl(r,e){return g(r.head||r,e),e.sheet}function O(r,e,t){r.insertBefore(e,t||null)}function k(r){r.parentNode&&r.parentNode.removeChild(r)}function ft(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function _(r){return document.createElement(r)}function wn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function X(r){return document.createTextNode(r)}function P(){return X(" ")}function ye(){return X("")}function j(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Xt(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function p(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Jl(r){return Array.from(r.childNodes)}function be(r,e){e=""+e,r.data!==e&&(r.data=e)}function _e(r,e){r.value=e??""}function ct(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Ye(r,e,t){for(let n=0;n<r.options.length;n+=1){const s=r.options[n];if(s.__value===e){s.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function Pt(r){const e=r.querySelector(":checked");return e&&e.__value}function Wt(r,e,t){r.classList[t?"add":"remove"](e)}function nl(r,e,{bubbles:t=!1,cancelable:n=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(r,t,n,e),s}class Gl{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=wn(t.nodeName):this.e=_(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)O(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function Ve(r,e){return new r(e)}const Tn=new Map;let Cn=0;function Ql(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function Yl(r,e){const t={stylesheet:zl(e),rules:{}};return Tn.set(r,t),t}function ir(r,e,t,n,s,i,l,o=0){const a=16.666/n;let c=`{
`;for(let v=0;v<=1;v+=a){const w=e+(t-e)*i(v);c+=v*100+`%{${l(w,1-w)}}
`}const u=c+`100% {${l(t,1-t)}}
}`,f=`__svelte_${Ql(u)}_${o}`,d=tl(r),{stylesheet:h,rules:m}=Tn.get(d)||Yl(d,r);m[f]||(m[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const b=r.style.animation||"";return r.style.animation=`${b?`${b}, `:""}${f} ${n}ms linear ${s}ms 1 both`,Cn+=1,f}function Wl(r,e){const t=(r.style.animation||"").split(", "),n=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),s=t.length-n.length;s&&(r.style.animation=n.join(", "),Cn-=s,Cn||Kl())}function Kl(){Fs(()=>{Cn||(Tn.forEach(r=>{const{ownerNode:e}=r.stylesheet;e&&k(e)}),Tn.clear())})}let hn;function un(r){hn=r}function nn(){if(!hn)throw new Error("Function called outside component initialization");return hn}function en(r){nn().$$.on_mount.push(r)}function Zl(r){nn().$$.after_update.push(r)}function Xl(r){nn().$$.on_destroy.push(r)}function Ut(){const r=nn();return(e,t,{cancelable:n=!1}={})=>{const s=r.$$.callbacks[e];if(s){const i=nl(e,t,{cancelable:n});return s.slice().forEach(l=>{l.call(r,i)}),!i.defaultPrevented}return!0}}function eo(r,e){return nn().$$.context.set(r,e),e}function to(r){return nn().$$.context.get(r)}const Qt=[],Et=[];let Zt=[];const gs=[],no=Promise.resolve();let _s=!1;function so(){_s||(_s=!0,no.then(sl))}function ut(r){Zt.push(r)}function ro(r){gs.push(r)}const Qn=new Set;let zt=0;function sl(){if(zt!==0)return;const r=hn;do{try{for(;zt<Qt.length;){const e=Qt[zt];zt++,un(e),io(e.$$)}}catch(e){throw Qt.length=0,zt=0,e}for(un(null),Qt.length=0,zt=0;Et.length;)Et.pop()();for(let e=0;e<Zt.length;e+=1){const t=Zt[e];Qn.has(t)||(Qn.add(t),t())}Zt.length=0}while(Qt.length);for(;gs.length;)gs.pop()();_s=!1,Qn.clear(),un(r)}function io(r){if(r.fragment!==null){r.update(),Re(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(ut)}}function lo(r){const e=[],t=[];Zt.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Zt=e}let cn;function oo(){return cn||(cn=Promise.resolve(),cn.then(()=>{cn=null})),cn}function Yn(r,e,t){r.dispatchEvent(nl(`${e?"intro":"outro"}${t}`))}const yn=new Set;let yt;function de(){yt={r:0,c:[],p:yt}}function he(){yt.r||Re(yt.c),yt=yt.p}function E(r,e){r&&r.i&&(yn.delete(r),r.i(e))}function $(r,e,t,n){if(r&&r.o){if(yn.has(r))return;yn.add(r),yt.c.push(()=>{yn.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}const ao={duration:0};function lr(r,e,t,n){const s={direction:"both"};let i=e(r,t,s),l=n?0:1,o=null,a=null,c=null;function u(){c&&Wl(r,c)}function f(h,m){const b=h.b-l;return m*=Math.abs(b),{a:l,b:h.b,d:b,duration:m,start:h.start,end:h.start+m,group:h.group}}function d(h){const{delay:m=0,duration:b=300,easing:v=Yi,tick:w=N,css:S}=i||ao,A={start:Dl()+m,b:h};h||(A.group=yt,yt.r+=1),o||a?a=A:(S&&(u(),c=ir(r,l,h,b,m,v,S)),h&&w(0,1),o=f(A,b),ut(()=>Yn(r,h,"start")),Nl(y=>{if(a&&y>a.start&&(o=f(a,b),a=null,Yn(r,o.b,"start"),S&&(u(),c=ir(r,l,o.b,o.duration,0,v,i.css))),o){if(y>=o.end)w(l=o.b,1-l),Yn(r,o.b,"end"),a||(o.b?u():--o.group.r||Re(o.group.c)),o=null;else if(y>=o.start){const x=y-o.start;l=o.a+o.d*v(x/o.duration),w(l,1-l)}}return!!(o||a)}))}return{run(h){Ms(i)?oo().then(()=>{i=i(s),d(h)}):d(h)},end(){u(),o=a=null}}}function rl(r,e){r.d(1),e.delete(r.key)}function il(r,e,t,n,s,i,l,o,a,c,u,f){let d=r.length,h=i.length,m=d;const b={};for(;m--;)b[r[m].key]=m;const v=[],w=new Map,S=new Map,A=[];for(m=h;m--;){const C=f(s,i,m),T=t(C);let B=l.get(T);B?n&&A.push(()=>B.p(C,e)):(B=c(T,C),B.c()),w.set(T,v[m]=B),T in b&&S.set(T,Math.abs(m-b[T]))}const y=new Set,x=new Set;function R(C){E(C,1),C.m(o,u),l.set(C.key,C),u=C.first,h--}for(;d&&h;){const C=v[h-1],T=r[d-1],B=C.key,V=T.key;C===T?(u=C.first,d--,h--):w.has(V)?!l.has(B)||y.has(B)?R(C):x.has(V)?d--:S.get(B)>S.get(V)?(x.add(B),R(C)):(y.add(V),d--):(a(T,l),d--)}for(;d--;){const C=r[d];w.has(C.key)||a(C,l)}for(;h;)R(v[h-1]);return Re(A),v}function sn(r,e){const t={},n={},s={$$scope:1};let i=r.length;for(;i--;){const l=r[i],o=e[i];if(o){for(const a in l)a in o||(n[a]=1);for(const a in o)s[a]||(t[a]=o[a],s[a]=1);r[i]=o}else for(const a in l)s[a]=1}for(const l in n)l in t||(t[l]=void 0);return t}function rn(r){return typeof r=="object"&&r!==null?r:{}}function co(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function se(r){r&&r.c()}function ee(r,e,t,n){const{fragment:s,after_update:i}=r.$$;s&&s.m(e,t),n||ut(()=>{const l=r.$$.on_mount.map(Wi).filter(Ms);r.$$.on_destroy?r.$$.on_destroy.push(...l):Re(l),r.$$.on_mount=[]}),i.forEach(ut)}function te(r,e){const t=r.$$;t.fragment!==null&&(lo(t.after_update),Re(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function uo(r,e){r.$$.dirty[0]===-1&&(Qt.push(r),so(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ie(r,e,t,n,s,i,l,o=[-1]){const a=hn;un(r);const c=r.$$={fragment:null,ctx:[],props:i,update:N,not_equal:s,bound:sr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:sr(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(c.root);let u=!1;if(c.ctx=t?t(r,e.props||{},(f,d,...h)=>{const m=h.length?h[0]:d;return c.ctx&&s(c.ctx[f],c.ctx[f]=m)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](m),u&&uo(r,f)),d}):[],c.update(),u=!0,Re(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=Jl(e.target);c.fragment&&c.fragment.l(f),f.forEach(k)}else c.fragment&&c.fragment.c();e.intro&&E(r.$$.fragment),ee(r,e.target,e.anchor,e.customElement),sl()}un(a)}class le{$destroy(){te(this,1),this.$destroy=N}$on(e,t){if(!Ms(t))return N;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!Ll(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ht=[];function Se(r,e=N){let t;const n=new Set;function s(o){if(re(r,o)&&(r=o,t)){const a=!Ht.length;for(const c of n)c[1](),Ht.push(c,r);if(a){for(let c=0;c<Ht.length;c+=2)Ht[c][0](Ht[c+1]);Ht.length=0}}}function i(o){s(o(r))}function l(o,a=N){const c=[o,a];return n.add(c),n.size===1&&(t=e(s)||N),o(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:l}}var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bs={},ll={},Vs={exports:{}},ol=function(e,t){return function(){for(var s=new Array(arguments.length),i=0;i<s.length;i++)s[i]=arguments[i];return e.apply(t,s)}},fo=ol,Rt=Object.prototype.toString;function Us(r){return Array.isArray(r)}function vs(r){return typeof r>"u"}function ho(r){return r!==null&&!vs(r)&&r.constructor!==null&&!vs(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function al(r){return Rt.call(r)==="[object ArrayBuffer]"}function po(r){return Rt.call(r)==="[object FormData]"}function mo(r){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&al(r.buffer),e}function go(r){return typeof r=="string"}function _o(r){return typeof r=="number"}function cl(r){return r!==null&&typeof r=="object"}function kn(r){if(Rt.call(r)!=="[object Object]")return!1;var e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}function bo(r){return Rt.call(r)==="[object Date]"}function vo(r){return Rt.call(r)==="[object File]"}function wo(r){return Rt.call(r)==="[object Blob]"}function ul(r){return Rt.call(r)==="[object Function]"}function yo(r){return cl(r)&&ul(r.pipe)}function ko(r){return Rt.call(r)==="[object URLSearchParams]"}function Oo(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function So(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Bs(r,e){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),Us(r))for(var t=0,n=r.length;t<n;t++)e.call(null,r[t],t,r);else for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.call(null,r[s],s,r)}function ws(){var r={};function e(s,i){kn(r[i])&&kn(s)?r[i]=ws(r[i],s):kn(s)?r[i]=ws({},s):Us(s)?r[i]=s.slice():r[i]=s}for(var t=0,n=arguments.length;t<n;t++)Bs(arguments[t],e);return r}function Ao(r,e,t){return Bs(e,function(s,i){t&&typeof s=="function"?r[i]=fo(s,t):r[i]=s}),r}function Po(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}var it={isArray:Us,isArrayBuffer:al,isBuffer:ho,isFormData:po,isArrayBufferView:mo,isString:go,isNumber:_o,isObject:cl,isPlainObject:kn,isUndefined:vs,isDate:bo,isFile:vo,isBlob:wo,isFunction:ul,isStream:yo,isURLSearchParams:ko,isStandardBrowserEnv:So,forEach:Bs,merge:ws,extend:Ao,trim:Oo,stripBOM:Po},Jt=it;function or(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var fl=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(Jt.isURLSearchParams(t))s=t.toString();else{var i=[];Jt.forEach(t,function(a,c){a===null||typeof a>"u"||(Jt.isArray(a)?c=c+"[]":a=[a],Jt.forEach(a,function(f){Jt.isDate(f)?f=f.toISOString():Jt.isObject(f)&&(f=JSON.stringify(f)),i.push(or(c)+"="+or(f))}))}),s=i.join("&")}if(s){var l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e},Eo=it;function Bn(){this.handlers=[]}Bn.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Bn.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Bn.prototype.forEach=function(e){Eo.forEach(this.handlers,function(n){n!==null&&e(n)})};var To=Bn,Co=it,$o=function(e,t){Co.forEach(e,function(s,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=s,delete e[i])})},dl=function(e,t,n,s,i){return e.config=t,n&&(e.code=n),e.request=s,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},hl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wn,ar;function pl(){if(ar)return Wn;ar=1;var r=dl;return Wn=function(t,n,s,i,l){var o=new Error(t);return r(o,n,s,i,l)},Wn}var Kn,cr;function Ro(){if(cr)return Kn;cr=1;var r=pl();return Kn=function(t,n,s){var i=s.config.validateStatus;!s.status||!i||i(s.status)?t(s):n(r("Request failed with status code "+s.status,s.config,null,s.request,s))},Kn}var Zn,ur;function xo(){if(ur)return Zn;ur=1;var r=it;return Zn=r.isStandardBrowserEnv()?function(){return{write:function(n,s,i,l,o,a){var c=[];c.push(n+"="+encodeURIComponent(s)),r.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),r.isString(l)&&c.push("path="+l),r.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){var s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Zn}var Xn,fr;function Io(){return fr||(fr=1,Xn=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),Xn}var es,dr;function jo(){return dr||(dr=1,es=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),es}var ts,hr;function Mo(){if(hr)return ts;hr=1;var r=Io(),e=jo();return ts=function(n,s){return n&&!r(s)?e(n,s):s},ts}var ns,pr;function Fo(){if(pr)return ns;pr=1;var r=it,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ns=function(n){var s={},i,l,o;return n&&r.forEach(n.split(`
`),function(c){if(o=c.indexOf(":"),i=r.trim(c.substr(0,o)).toLowerCase(),l=r.trim(c.substr(o+1)),i){if(s[i]&&e.indexOf(i)>=0)return;i==="set-cookie"?s[i]=(s[i]?s[i]:[]).concat([l]):s[i]=s[i]?s[i]+", "+l:l}}),s},ns}var ss,mr;function Vo(){if(mr)return ss;mr=1;var r=it;return ss=r.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s;function i(l){var o=l;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=i(window.location.href),function(o){var a=r.isString(o)?i(o):o;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}(),ss}var rs,gr;function Ln(){if(gr)return rs;gr=1;function r(e){this.message=e}return r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,rs=r,rs}var is,_r;function br(){if(_r)return is;_r=1;var r=it,e=Ro(),t=xo(),n=fl,s=Mo(),i=Fo(),l=Vo(),o=pl(),a=hl,c=Ln();return is=function(f){return new Promise(function(h,m){var b=f.data,v=f.headers,w=f.responseType,S;function A(){f.cancelToken&&f.cancelToken.unsubscribe(S),f.signal&&f.signal.removeEventListener("abort",S)}r.isFormData(b)&&delete v["Content-Type"];var y=new XMLHttpRequest;if(f.auth){var x=f.auth.username||"",R=f.auth.password?unescape(encodeURIComponent(f.auth.password)):"";v.Authorization="Basic "+btoa(x+":"+R)}var C=s(f.baseURL,f.url);y.open(f.method.toUpperCase(),n(C,f.params,f.paramsSerializer),!0),y.timeout=f.timeout;function T(){if(y){var V="getAllResponseHeaders"in y?i(y.getAllResponseHeaders()):null,L=!w||w==="text"||w==="json"?y.responseText:y.response,J={data:L,status:y.status,statusText:y.statusText,headers:V,config:f,request:y};e(function(Y){h(Y),A()},function(Y){m(Y),A()},J),y=null}}if("onloadend"in y?y.onloadend=T:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(T)},y.onabort=function(){y&&(m(o("Request aborted",f,"ECONNABORTED",y)),y=null)},y.onerror=function(){m(o("Network Error",f,null,y)),y=null},y.ontimeout=function(){var L=f.timeout?"timeout of "+f.timeout+"ms exceeded":"timeout exceeded",J=f.transitional||a;f.timeoutErrorMessage&&(L=f.timeoutErrorMessage),m(o(L,f,J.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var B=(f.withCredentials||l(C))&&f.xsrfCookieName?t.read(f.xsrfCookieName):void 0;B&&(v[f.xsrfHeaderName]=B)}"setRequestHeader"in y&&r.forEach(v,function(L,J){typeof b>"u"&&J.toLowerCase()==="content-type"?delete v[J]:y.setRequestHeader(J,L)}),r.isUndefined(f.withCredentials)||(y.withCredentials=!!f.withCredentials),w&&w!=="json"&&(y.responseType=f.responseType),typeof f.onDownloadProgress=="function"&&y.addEventListener("progress",f.onDownloadProgress),typeof f.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",f.onUploadProgress),(f.cancelToken||f.signal)&&(S=function(V){y&&(m(!V||V&&V.type?new c("canceled"):V),y.abort(),y=null)},f.cancelToken&&f.cancelToken.subscribe(S),f.signal&&(f.signal.aborted?S():f.signal.addEventListener("abort",S))),b||(b=null),y.send(b)})},is}var Ge=it,vr=$o,Uo=dl,Bo=hl,Lo={"Content-Type":"application/x-www-form-urlencoded"};function wr(r,e){!Ge.isUndefined(r)&&Ge.isUndefined(r["Content-Type"])&&(r["Content-Type"]=e)}function qo(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=br()),r}function Do(r,e,t){if(Ge.isString(r))try{return(e||JSON.parse)(r),Ge.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}var qn={transitional:Bo,adapter:qo(),transformRequest:[function(e,t){return vr(t,"Accept"),vr(t,"Content-Type"),Ge.isFormData(e)||Ge.isArrayBuffer(e)||Ge.isBuffer(e)||Ge.isStream(e)||Ge.isFile(e)||Ge.isBlob(e)?e:Ge.isArrayBufferView(e)?e.buffer:Ge.isURLSearchParams(e)?(wr(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Ge.isObject(e)||t&&t["Content-Type"]==="application/json"?(wr(t,"application/json"),Do(e)):e}],transformResponse:[function(e){var t=this.transitional||qn.transitional,n=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,i=!n&&this.responseType==="json";if(i||s&&Ge.isString(e)&&e.length)try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?Uo(l,this,"E_JSON_PARSE"):l}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ge.forEach(["delete","get","head"],function(e){qn.headers[e]={}});Ge.forEach(["post","put","patch"],function(e){qn.headers[e]=Ge.merge(Lo)});var Ls=qn,No=it,zo=Ls,Ho=function(e,t,n){var s=this||zo;return No.forEach(n,function(l){e=l.call(s,e,t)}),e},ls,yr;function ml(){return yr||(yr=1,ls=function(e){return!!(e&&e.__CANCEL__)}),ls}var kr=it,os=Ho,Jo=ml(),Go=Ls,Qo=Ln();function as(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Qo("canceled")}var Yo=function(e){as(e),e.headers=e.headers||{},e.data=os.call(e,e.data,e.headers,e.transformRequest),e.headers=kr.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),kr.forEach(["delete","get","head","post","put","patch","common"],function(s){delete e.headers[s]});var t=e.adapter||Go.adapter;return t(e).then(function(s){return as(e),s.data=os.call(e,s.data,s.headers,e.transformResponse),s},function(s){return Jo(s)||(as(e),s&&s.response&&(s.response.data=os.call(e,s.response.data,s.response.headers,e.transformResponse))),Promise.reject(s)})},at=it,gl=function(e,t){t=t||{};var n={};function s(u,f){return at.isPlainObject(u)&&at.isPlainObject(f)?at.merge(u,f):at.isPlainObject(f)?at.merge({},f):at.isArray(f)?f.slice():f}function i(u){if(at.isUndefined(t[u])){if(!at.isUndefined(e[u]))return s(void 0,e[u])}else return s(e[u],t[u])}function l(u){if(!at.isUndefined(t[u]))return s(void 0,t[u])}function o(u){if(at.isUndefined(t[u])){if(!at.isUndefined(e[u]))return s(void 0,e[u])}else return s(void 0,t[u])}function a(u){if(u in t)return s(e[u],t[u]);if(u in e)return s(void 0,e[u])}var c={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a};return at.forEach(Object.keys(e).concat(Object.keys(t)),function(f){var d=c[f]||i,h=d(f);at.isUndefined(h)&&d!==a||(n[f]=h)}),n},cs,Or;function _l(){return Or||(Or=1,cs={version:"0.26.1"}),cs}var Wo=_l().version,qs={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){qs[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var Sr={};qs.transitional=function(e,t,n){function s(i,l){return"[Axios v"+Wo+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return function(i,l,o){if(e===!1)throw new Error(s(l," has been removed"+(t?" in "+t:"")));return t&&!Sr[l]&&(Sr[l]=!0,console.warn(s(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,l,o):!0}};function Ko(r,e,t){if(typeof r!="object")throw new TypeError("options must be an object");for(var n=Object.keys(r),s=n.length;s-- >0;){var i=n[s],l=e[i];if(l){var o=r[i],a=o===void 0||l(o,i,r);if(a!==!0)throw new TypeError("option "+i+" must be "+a);continue}if(t!==!0)throw Error("Unknown option "+i)}}var Zo={assertOptions:Ko,validators:qs},bl=it,Xo=fl,Ar=To,Pr=Yo,Dn=gl,vl=Zo,Gt=vl.validators;function _n(r){this.defaults=r,this.interceptors={request:new Ar,response:new Ar}}_n.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Dn(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;n!==void 0&&vl.assertOptions(n,{silentJSONParsing:Gt.transitional(Gt.boolean),forcedJSONParsing:Gt.transitional(Gt.boolean),clarifyTimeoutError:Gt.transitional(Gt.boolean)},!1);var s=[],i=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(t)===!1||(i=i&&h.synchronous,s.unshift(h.fulfilled,h.rejected))});var l=[];this.interceptors.response.forEach(function(h){l.push(h.fulfilled,h.rejected)});var o;if(!i){var a=[Pr,void 0];for(Array.prototype.unshift.apply(a,s),a=a.concat(l),o=Promise.resolve(t);a.length;)o=o.then(a.shift(),a.shift());return o}for(var c=t;s.length;){var u=s.shift(),f=s.shift();try{c=u(c)}catch(d){f(d);break}}try{o=Pr(c)}catch(d){return Promise.reject(d)}for(;l.length;)o=o.then(l.shift(),l.shift());return o};_n.prototype.getUri=function(e){return e=Dn(this.defaults,e),Xo(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};bl.forEach(["delete","get","head","options"],function(e){_n.prototype[e]=function(t,n){return this.request(Dn(n||{},{method:e,url:t,data:(n||{}).data}))}});bl.forEach(["post","put","patch"],function(e){_n.prototype[e]=function(t,n,s){return this.request(Dn(s||{},{method:e,url:t,data:n}))}});var ea=_n,us,Er;function ta(){if(Er)return us;Er=1;var r=Ln();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(l){n=l});var s=this;this.promise.then(function(i){if(s._listeners){var l,o=s._listeners.length;for(l=0;l<o;l++)s._listeners[l](i);s._listeners=null}}),this.promise.then=function(i){var l,o=new Promise(function(a){s.subscribe(a),l=a}).then(i);return o.cancel=function(){s.unsubscribe(l)},o},t(function(l){s.reason||(s.reason=new r(l),n(s.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},e.prototype.unsubscribe=function(n){if(this._listeners){var s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}},e.source=function(){var n,s=new e(function(l){n=l});return{token:s,cancel:n}},us=e,us}var fs,Tr;function na(){return Tr||(Tr=1,fs=function(e){return function(n){return e.apply(null,n)}}),fs}var ds,Cr;function sa(){if(Cr)return ds;Cr=1;var r=it;return ds=function(t){return r.isObject(t)&&t.isAxiosError===!0},ds}var $r=it,ra=ol,On=ea,ia=gl,la=Ls;function wl(r){var e=new On(r),t=ra(On.prototype.request,e);return $r.extend(t,On.prototype,e),$r.extend(t,e),t.create=function(s){return wl(ia(r,s))},t}var _t=wl(la);_t.Axios=On;_t.Cancel=Ln();_t.CancelToken=ta();_t.isCancel=ml();_t.VERSION=_l().version;_t.all=function(e){return Promise.all(e)};_t.spread=na();_t.isAxiosError=sa();Vs.exports=_t;Vs.exports.default=_t;var oa=Vs.exports,yl=oa,Le={},Ds={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.RequiredError=r.BaseAPI=r.COLLECTION_FORMATS=r.BASE_PATH=void 0;const e=yl;r.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),r.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class t{constructor(i,l=r.BASE_PATH,o=e.default){this.basePath=l,this.axios=o,i&&(this.configuration=i,this.basePath=i.basePath||this.basePath)}}r.BaseAPI=t;class n extends Error{constructor(i,l){super(l),this.field=i,this.name="RequiredError"}}r.RequiredError=n})(Ds);var Ns=Tt&&Tt.__awaiter||function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function o(u){try{c(n.next(u))}catch(f){l(f)}}function a(u){try{c(n.throw(u))}catch(f){l(f)}}function c(u){u.done?i(u.value):s(u.value).then(o,a)}c((n=n.apply(r,e||[])).next())})};Object.defineProperty(Le,"__esModule",{value:!0});Le.createRequestFunction=Le.toPathString=Le.serializeDataIfNeeded=Le.setSearchParams=Le.setOAuthToObject=Le.setBearerAuthToObject=Le.setBasicAuthToObject=Le.setApiKeyToObject=Le.assertParamExists=Le.DUMMY_BASE_URL=void 0;const aa=Ds;Le.DUMMY_BASE_URL="https://example.com";Le.assertParamExists=function(r,e,t){if(t==null)throw new aa.RequiredError(e,`Required parameter ${e} was null or undefined when calling ${r}.`)};Le.setApiKeyToObject=function(r,e,t){return Ns(this,void 0,void 0,function*(){if(t&&t.apiKey){const n=typeof t.apiKey=="function"?yield t.apiKey(e):yield t.apiKey;r[e]=n}})};Le.setBasicAuthToObject=function(r,e){e&&(e.username||e.password)&&(r.auth={username:e.username,password:e.password})};Le.setBearerAuthToObject=function(r,e){return Ns(this,void 0,void 0,function*(){if(e&&e.accessToken){const t=typeof e.accessToken=="function"?yield e.accessToken():yield e.accessToken;r.Authorization="Bearer "+t}})};Le.setOAuthToObject=function(r,e,t,n){return Ns(this,void 0,void 0,function*(){if(n&&n.accessToken){const s=typeof n.accessToken=="function"?yield n.accessToken(e,t):yield n.accessToken;r.Authorization="Bearer "+s}})};function ys(r,e,t=""){e!=null&&(typeof e=="object"?Array.isArray(e)?e.forEach(n=>ys(r,n,t)):Object.keys(e).forEach(n=>ys(r,e[n],`${t}${t!==""?".":""}${n}`)):r.has(t)?r.append(t,e):r.set(t,e))}Le.setSearchParams=function(r,...e){const t=new URLSearchParams(r.search);ys(t,e),r.search=t.toString()};Le.serializeDataIfNeeded=function(r,e,t){const n=typeof r!="string";return(n&&t&&t.isJsonMime?t.isJsonMime(e.headers["Content-Type"]):n)?JSON.stringify(r!==void 0?r:{}):r||""};Le.toPathString=function(r){return r.pathname+r.search+r.hash};Le.createRequestFunction=function(r,e,t,n){return(s=e,i=t)=>{const l=Object.assign(Object.assign({},r.options),{url:(n?.basePath||i)+r.url});return s.request(l)}};(function(r){var e=Tt&&Tt.__awaiter||function(l,o,a,c){function u(f){return f instanceof a?f:new a(function(d){d(f)})}return new(a||(a=Promise))(function(f,d){function h(v){try{b(c.next(v))}catch(w){d(w)}}function m(v){try{b(c.throw(v))}catch(w){d(w)}}function b(v){v.done?f(v.value):u(v.value).then(h,m)}b((c=c.apply(l,o||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0}),r.OpenAIApi=r.OpenAIApiFactory=r.OpenAIApiFp=r.OpenAIApiAxiosParamCreator=r.CreateImageRequestResponseFormatEnum=r.CreateImageRequestSizeEnum=r.ChatCompletionResponseMessageRoleEnum=r.ChatCompletionRequestMessageRoleEnum=void 0;const t=yl,n=Le,s=Ds;r.ChatCompletionRequestMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},r.ChatCompletionResponseMessageRoleEnum={System:"system",User:"user",Assistant:"assistant",Function:"function"},r.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},r.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},r.OpenAIApiAxiosParamCreator=function(l){return{cancelFineTune:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("cancelFineTune","fineTuneId",o);const c="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(o))),u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),h={},m={};n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),{url:n.toPathString(u),options:d}}),createAnswer:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createAnswer","createAnswerRequest",o);const c="/answers",u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),h={},m={};h["Content-Type"]="application/json",n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(u),options:d}}),createChatCompletion:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createChatCompletion","createChatCompletionRequest",o);const c="/chat/completions",u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),h={},m={};h["Content-Type"]="application/json",n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(u),options:d}}),createClassification:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createClassification","createClassificationRequest",o);const c="/classifications",u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),h={},m={};h["Content-Type"]="application/json",n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(u),options:d}}),createCompletion:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createCompletion","createCompletionRequest",o);const c="/completions",u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),h={},m={};h["Content-Type"]="application/json",n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(u),options:d}}),createEdit:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createEdit","createEditRequest",o);const c="/edits",u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),h={},m={};h["Content-Type"]="application/json",n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(u),options:d}}),createEmbedding:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createEmbedding","createEmbeddingRequest",o);const c="/embeddings",u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),h={},m={};h["Content-Type"]="application/json",n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(u),options:d}}),createFile:(o,a,c={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createFile","file",o),n.assertParamExists("createFile","purpose",a);const u="/files",f=new URL(u,n.DUMMY_BASE_URL);let d;l&&(d=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},d),c),m={},b={},v=new(l&&l.formDataCtor||FormData);o!==void 0&&v.append("file",o),a!==void 0&&v.append("purpose",a),m["Content-Type"]="multipart/form-data",n.setSearchParams(f,b);let w=d&&d.headers?d.headers:{};return h.headers=Object.assign(Object.assign(Object.assign(Object.assign({},m),v.getHeaders()),w),c.headers),h.data=v,{url:n.toPathString(f),options:h}}),createFineTune:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createFineTune","createFineTuneRequest",o);const c="/fine-tunes",u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),h={},m={};h["Content-Type"]="application/json",n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(u),options:d}}),createImage:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createImage","createImageRequest",o);const c="/images/generations",u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),h={},m={};h["Content-Type"]="application/json",n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(u),options:d}}),createImageEdit:(o,a,c,u,f,d,h,m={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createImageEdit","image",o),n.assertParamExists("createImageEdit","prompt",a);const b="/images/edits",v=new URL(b,n.DUMMY_BASE_URL);let w;l&&(w=l.baseOptions);const S=Object.assign(Object.assign({method:"POST"},w),m),A={},y={},x=new(l&&l.formDataCtor||FormData);o!==void 0&&x.append("image",o),c!==void 0&&x.append("mask",c),a!==void 0&&x.append("prompt",a),u!==void 0&&x.append("n",u),f!==void 0&&x.append("size",f),d!==void 0&&x.append("response_format",d),h!==void 0&&x.append("user",h),A["Content-Type"]="multipart/form-data",n.setSearchParams(v,y);let R=w&&w.headers?w.headers:{};return S.headers=Object.assign(Object.assign(Object.assign(Object.assign({},A),x.getHeaders()),R),m.headers),S.data=x,{url:n.toPathString(v),options:S}}),createImageVariation:(o,a,c,u,f,d={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createImageVariation","image",o);const h="/images/variations",m=new URL(h,n.DUMMY_BASE_URL);let b;l&&(b=l.baseOptions);const v=Object.assign(Object.assign({method:"POST"},b),d),w={},S={},A=new(l&&l.formDataCtor||FormData);o!==void 0&&A.append("image",o),a!==void 0&&A.append("n",a),c!==void 0&&A.append("size",c),u!==void 0&&A.append("response_format",u),f!==void 0&&A.append("user",f),w["Content-Type"]="multipart/form-data",n.setSearchParams(m,S);let y=b&&b.headers?b.headers:{};return v.headers=Object.assign(Object.assign(Object.assign(Object.assign({},w),A.getHeaders()),y),d.headers),v.data=A,{url:n.toPathString(m),options:v}}),createModeration:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createModeration","createModerationRequest",o);const c="/moderations",u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"POST"},f),a),h={},m={};h["Content-Type"]="application/json",n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),d.data=n.serializeDataIfNeeded(o,d,l),{url:n.toPathString(u),options:d}}),createSearch:(o,a,c={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createSearch","engineId",o),n.assertParamExists("createSearch","createSearchRequest",a);const u="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(o))),f=new URL(u,n.DUMMY_BASE_URL);let d;l&&(d=l.baseOptions);const h=Object.assign(Object.assign({method:"POST"},d),c),m={},b={};m["Content-Type"]="application/json",n.setSearchParams(f,b);let v=d&&d.headers?d.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),c.headers),h.data=n.serializeDataIfNeeded(a,h,l),{url:n.toPathString(f),options:h}}),createTranscription:(o,a,c,u,f,d,h={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createTranscription","file",o),n.assertParamExists("createTranscription","model",a);const m="/audio/transcriptions",b=new URL(m,n.DUMMY_BASE_URL);let v;l&&(v=l.baseOptions);const w=Object.assign(Object.assign({method:"POST"},v),h),S={},A={},y=new(l&&l.formDataCtor||FormData);o!==void 0&&y.append("file",o),a!==void 0&&y.append("model",a),c!==void 0&&y.append("prompt",c),u!==void 0&&y.append("response_format",u),f!==void 0&&y.append("temperature",f),d!==void 0&&y.append("language",d),S["Content-Type"]="multipart/form-data",n.setSearchParams(b,A);let x=v&&v.headers?v.headers:{};return w.headers=Object.assign(Object.assign(Object.assign(Object.assign({},S),y.getHeaders()),x),h.headers),w.data=y,{url:n.toPathString(b),options:w}}),createTranslation:(o,a,c,u,f,d={})=>e(this,void 0,void 0,function*(){n.assertParamExists("createTranslation","file",o),n.assertParamExists("createTranslation","model",a);const h="/audio/translations",m=new URL(h,n.DUMMY_BASE_URL);let b;l&&(b=l.baseOptions);const v=Object.assign(Object.assign({method:"POST"},b),d),w={},S={},A=new(l&&l.formDataCtor||FormData);o!==void 0&&A.append("file",o),a!==void 0&&A.append("model",a),c!==void 0&&A.append("prompt",c),u!==void 0&&A.append("response_format",u),f!==void 0&&A.append("temperature",f),w["Content-Type"]="multipart/form-data",n.setSearchParams(m,S);let y=b&&b.headers?b.headers:{};return v.headers=Object.assign(Object.assign(Object.assign(Object.assign({},w),A.getHeaders()),y),d.headers),v.data=A,{url:n.toPathString(m),options:v}}),deleteFile:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("deleteFile","fileId",o);const c="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(o))),u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"DELETE"},f),a),h={},m={};n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),{url:n.toPathString(u),options:d}}),deleteModel:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("deleteModel","model",o);const c="/models/{model}".replace("{model}",encodeURIComponent(String(o))),u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"DELETE"},f),a),h={},m={};n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),{url:n.toPathString(u),options:d}}),downloadFile:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("downloadFile","fileId",o);const c="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(o))),u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"GET"},f),a),h={},m={};n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),{url:n.toPathString(u),options:d}}),listEngines:(o={})=>e(this,void 0,void 0,function*(){const a="/engines",c=new URL(a,n.DUMMY_BASE_URL);let u;l&&(u=l.baseOptions);const f=Object.assign(Object.assign({method:"GET"},u),o),d={},h={};n.setSearchParams(c,h);let m=u&&u.headers?u.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},d),m),o.headers),{url:n.toPathString(c),options:f}}),listFiles:(o={})=>e(this,void 0,void 0,function*(){const a="/files",c=new URL(a,n.DUMMY_BASE_URL);let u;l&&(u=l.baseOptions);const f=Object.assign(Object.assign({method:"GET"},u),o),d={},h={};n.setSearchParams(c,h);let m=u&&u.headers?u.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},d),m),o.headers),{url:n.toPathString(c),options:f}}),listFineTuneEvents:(o,a,c={})=>e(this,void 0,void 0,function*(){n.assertParamExists("listFineTuneEvents","fineTuneId",o);const u="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(o))),f=new URL(u,n.DUMMY_BASE_URL);let d;l&&(d=l.baseOptions);const h=Object.assign(Object.assign({method:"GET"},d),c),m={},b={};a!==void 0&&(b.stream=a),n.setSearchParams(f,b);let v=d&&d.headers?d.headers:{};return h.headers=Object.assign(Object.assign(Object.assign({},m),v),c.headers),{url:n.toPathString(f),options:h}}),listFineTunes:(o={})=>e(this,void 0,void 0,function*(){const a="/fine-tunes",c=new URL(a,n.DUMMY_BASE_URL);let u;l&&(u=l.baseOptions);const f=Object.assign(Object.assign({method:"GET"},u),o),d={},h={};n.setSearchParams(c,h);let m=u&&u.headers?u.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},d),m),o.headers),{url:n.toPathString(c),options:f}}),listModels:(o={})=>e(this,void 0,void 0,function*(){const a="/models",c=new URL(a,n.DUMMY_BASE_URL);let u;l&&(u=l.baseOptions);const f=Object.assign(Object.assign({method:"GET"},u),o),d={},h={};n.setSearchParams(c,h);let m=u&&u.headers?u.headers:{};return f.headers=Object.assign(Object.assign(Object.assign({},d),m),o.headers),{url:n.toPathString(c),options:f}}),retrieveEngine:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveEngine","engineId",o);const c="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(o))),u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"GET"},f),a),h={},m={};n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),{url:n.toPathString(u),options:d}}),retrieveFile:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveFile","fileId",o);const c="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(o))),u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"GET"},f),a),h={},m={};n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),{url:n.toPathString(u),options:d}}),retrieveFineTune:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveFineTune","fineTuneId",o);const c="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(o))),u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"GET"},f),a),h={},m={};n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),{url:n.toPathString(u),options:d}}),retrieveModel:(o,a={})=>e(this,void 0,void 0,function*(){n.assertParamExists("retrieveModel","model",o);const c="/models/{model}".replace("{model}",encodeURIComponent(String(o))),u=new URL(c,n.DUMMY_BASE_URL);let f;l&&(f=l.baseOptions);const d=Object.assign(Object.assign({method:"GET"},f),a),h={},m={};n.setSearchParams(u,m);let b=f&&f.headers?f.headers:{};return d.headers=Object.assign(Object.assign(Object.assign({},h),b),a.headers),{url:n.toPathString(u),options:d}})}},r.OpenAIApiFp=function(l){const o=r.OpenAIApiAxiosParamCreator(l);return{cancelFineTune(a,c){return e(this,void 0,void 0,function*(){const u=yield o.cancelFineTune(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},createAnswer(a,c){return e(this,void 0,void 0,function*(){const u=yield o.createAnswer(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},createChatCompletion(a,c){return e(this,void 0,void 0,function*(){const u=yield o.createChatCompletion(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},createClassification(a,c){return e(this,void 0,void 0,function*(){const u=yield o.createClassification(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},createCompletion(a,c){return e(this,void 0,void 0,function*(){const u=yield o.createCompletion(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},createEdit(a,c){return e(this,void 0,void 0,function*(){const u=yield o.createEdit(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},createEmbedding(a,c){return e(this,void 0,void 0,function*(){const u=yield o.createEmbedding(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},createFile(a,c,u){return e(this,void 0,void 0,function*(){const f=yield o.createFile(a,c,u);return n.createRequestFunction(f,t.default,s.BASE_PATH,l)})},createFineTune(a,c){return e(this,void 0,void 0,function*(){const u=yield o.createFineTune(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},createImage(a,c){return e(this,void 0,void 0,function*(){const u=yield o.createImage(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},createImageEdit(a,c,u,f,d,h,m,b){return e(this,void 0,void 0,function*(){const v=yield o.createImageEdit(a,c,u,f,d,h,m,b);return n.createRequestFunction(v,t.default,s.BASE_PATH,l)})},createImageVariation(a,c,u,f,d,h){return e(this,void 0,void 0,function*(){const m=yield o.createImageVariation(a,c,u,f,d,h);return n.createRequestFunction(m,t.default,s.BASE_PATH,l)})},createModeration(a,c){return e(this,void 0,void 0,function*(){const u=yield o.createModeration(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},createSearch(a,c,u){return e(this,void 0,void 0,function*(){const f=yield o.createSearch(a,c,u);return n.createRequestFunction(f,t.default,s.BASE_PATH,l)})},createTranscription(a,c,u,f,d,h,m){return e(this,void 0,void 0,function*(){const b=yield o.createTranscription(a,c,u,f,d,h,m);return n.createRequestFunction(b,t.default,s.BASE_PATH,l)})},createTranslation(a,c,u,f,d,h){return e(this,void 0,void 0,function*(){const m=yield o.createTranslation(a,c,u,f,d,h);return n.createRequestFunction(m,t.default,s.BASE_PATH,l)})},deleteFile(a,c){return e(this,void 0,void 0,function*(){const u=yield o.deleteFile(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},deleteModel(a,c){return e(this,void 0,void 0,function*(){const u=yield o.deleteModel(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},downloadFile(a,c){return e(this,void 0,void 0,function*(){const u=yield o.downloadFile(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},listEngines(a){return e(this,void 0,void 0,function*(){const c=yield o.listEngines(a);return n.createRequestFunction(c,t.default,s.BASE_PATH,l)})},listFiles(a){return e(this,void 0,void 0,function*(){const c=yield o.listFiles(a);return n.createRequestFunction(c,t.default,s.BASE_PATH,l)})},listFineTuneEvents(a,c,u){return e(this,void 0,void 0,function*(){const f=yield o.listFineTuneEvents(a,c,u);return n.createRequestFunction(f,t.default,s.BASE_PATH,l)})},listFineTunes(a){return e(this,void 0,void 0,function*(){const c=yield o.listFineTunes(a);return n.createRequestFunction(c,t.default,s.BASE_PATH,l)})},listModels(a){return e(this,void 0,void 0,function*(){const c=yield o.listModels(a);return n.createRequestFunction(c,t.default,s.BASE_PATH,l)})},retrieveEngine(a,c){return e(this,void 0,void 0,function*(){const u=yield o.retrieveEngine(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},retrieveFile(a,c){return e(this,void 0,void 0,function*(){const u=yield o.retrieveFile(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},retrieveFineTune(a,c){return e(this,void 0,void 0,function*(){const u=yield o.retrieveFineTune(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})},retrieveModel(a,c){return e(this,void 0,void 0,function*(){const u=yield o.retrieveModel(a,c);return n.createRequestFunction(u,t.default,s.BASE_PATH,l)})}}},r.OpenAIApiFactory=function(l,o,a){const c=r.OpenAIApiFp(l);return{cancelFineTune(u,f){return c.cancelFineTune(u,f).then(d=>d(a,o))},createAnswer(u,f){return c.createAnswer(u,f).then(d=>d(a,o))},createChatCompletion(u,f){return c.createChatCompletion(u,f).then(d=>d(a,o))},createClassification(u,f){return c.createClassification(u,f).then(d=>d(a,o))},createCompletion(u,f){return c.createCompletion(u,f).then(d=>d(a,o))},createEdit(u,f){return c.createEdit(u,f).then(d=>d(a,o))},createEmbedding(u,f){return c.createEmbedding(u,f).then(d=>d(a,o))},createFile(u,f,d){return c.createFile(u,f,d).then(h=>h(a,o))},createFineTune(u,f){return c.createFineTune(u,f).then(d=>d(a,o))},createImage(u,f){return c.createImage(u,f).then(d=>d(a,o))},createImageEdit(u,f,d,h,m,b,v,w){return c.createImageEdit(u,f,d,h,m,b,v,w).then(S=>S(a,o))},createImageVariation(u,f,d,h,m,b){return c.createImageVariation(u,f,d,h,m,b).then(v=>v(a,o))},createModeration(u,f){return c.createModeration(u,f).then(d=>d(a,o))},createSearch(u,f,d){return c.createSearch(u,f,d).then(h=>h(a,o))},createTranscription(u,f,d,h,m,b,v){return c.createTranscription(u,f,d,h,m,b,v).then(w=>w(a,o))},createTranslation(u,f,d,h,m,b){return c.createTranslation(u,f,d,h,m,b).then(v=>v(a,o))},deleteFile(u,f){return c.deleteFile(u,f).then(d=>d(a,o))},deleteModel(u,f){return c.deleteModel(u,f).then(d=>d(a,o))},downloadFile(u,f){return c.downloadFile(u,f).then(d=>d(a,o))},listEngines(u){return c.listEngines(u).then(f=>f(a,o))},listFiles(u){return c.listFiles(u).then(f=>f(a,o))},listFineTuneEvents(u,f,d){return c.listFineTuneEvents(u,f,d).then(h=>h(a,o))},listFineTunes(u){return c.listFineTunes(u).then(f=>f(a,o))},listModels(u){return c.listModels(u).then(f=>f(a,o))},retrieveEngine(u,f){return c.retrieveEngine(u,f).then(d=>d(a,o))},retrieveFile(u,f){return c.retrieveFile(u,f).then(d=>d(a,o))},retrieveFineTune(u,f){return c.retrieveFineTune(u,f).then(d=>d(a,o))},retrieveModel(u,f){return c.retrieveModel(u,f).then(d=>d(a,o))}}};class i extends s.BaseAPI{cancelFineTune(o,a){return r.OpenAIApiFp(this.configuration).cancelFineTune(o,a).then(c=>c(this.axios,this.basePath))}createAnswer(o,a){return r.OpenAIApiFp(this.configuration).createAnswer(o,a).then(c=>c(this.axios,this.basePath))}createChatCompletion(o,a){return r.OpenAIApiFp(this.configuration).createChatCompletion(o,a).then(c=>c(this.axios,this.basePath))}createClassification(o,a){return r.OpenAIApiFp(this.configuration).createClassification(o,a).then(c=>c(this.axios,this.basePath))}createCompletion(o,a){return r.OpenAIApiFp(this.configuration).createCompletion(o,a).then(c=>c(this.axios,this.basePath))}createEdit(o,a){return r.OpenAIApiFp(this.configuration).createEdit(o,a).then(c=>c(this.axios,this.basePath))}createEmbedding(o,a){return r.OpenAIApiFp(this.configuration).createEmbedding(o,a).then(c=>c(this.axios,this.basePath))}createFile(o,a,c){return r.OpenAIApiFp(this.configuration).createFile(o,a,c).then(u=>u(this.axios,this.basePath))}createFineTune(o,a){return r.OpenAIApiFp(this.configuration).createFineTune(o,a).then(c=>c(this.axios,this.basePath))}createImage(o,a){return r.OpenAIApiFp(this.configuration).createImage(o,a).then(c=>c(this.axios,this.basePath))}createImageEdit(o,a,c,u,f,d,h,m){return r.OpenAIApiFp(this.configuration).createImageEdit(o,a,c,u,f,d,h,m).then(b=>b(this.axios,this.basePath))}createImageVariation(o,a,c,u,f,d){return r.OpenAIApiFp(this.configuration).createImageVariation(o,a,c,u,f,d).then(h=>h(this.axios,this.basePath))}createModeration(o,a){return r.OpenAIApiFp(this.configuration).createModeration(o,a).then(c=>c(this.axios,this.basePath))}createSearch(o,a,c){return r.OpenAIApiFp(this.configuration).createSearch(o,a,c).then(u=>u(this.axios,this.basePath))}createTranscription(o,a,c,u,f,d,h){return r.OpenAIApiFp(this.configuration).createTranscription(o,a,c,u,f,d,h).then(m=>m(this.axios,this.basePath))}createTranslation(o,a,c,u,f,d){return r.OpenAIApiFp(this.configuration).createTranslation(o,a,c,u,f,d).then(h=>h(this.axios,this.basePath))}deleteFile(o,a){return r.OpenAIApiFp(this.configuration).deleteFile(o,a).then(c=>c(this.axios,this.basePath))}deleteModel(o,a){return r.OpenAIApiFp(this.configuration).deleteModel(o,a).then(c=>c(this.axios,this.basePath))}downloadFile(o,a){return r.OpenAIApiFp(this.configuration).downloadFile(o,a).then(c=>c(this.axios,this.basePath))}listEngines(o){return r.OpenAIApiFp(this.configuration).listEngines(o).then(a=>a(this.axios,this.basePath))}listFiles(o){return r.OpenAIApiFp(this.configuration).listFiles(o).then(a=>a(this.axios,this.basePath))}listFineTuneEvents(o,a,c){return r.OpenAIApiFp(this.configuration).listFineTuneEvents(o,a,c).then(u=>u(this.axios,this.basePath))}listFineTunes(o){return r.OpenAIApiFp(this.configuration).listFineTunes(o).then(a=>a(this.axios,this.basePath))}listModels(o){return r.OpenAIApiFp(this.configuration).listModels(o).then(a=>a(this.axios,this.basePath))}retrieveEngine(o,a){return r.OpenAIApiFp(this.configuration).retrieveEngine(o,a).then(c=>c(this.axios,this.basePath))}retrieveFile(o,a){return r.OpenAIApiFp(this.configuration).retrieveFile(o,a).then(c=>c(this.axios,this.basePath))}retrieveFineTune(o,a){return r.OpenAIApiFp(this.configuration).retrieveFineTune(o,a).then(c=>c(this.axios,this.basePath))}retrieveModel(o,a){return r.OpenAIApiFp(this.configuration).retrieveModel(o,a).then(c=>c(this.axios,this.basePath))}}r.OpenAIApi=i})(ll);var Nn={};const ca="openai",ua="3.3.0",fa="Node.js library for the OpenAI API",da={type:"git",url:"git@github.com:openai/openai-node.git"},ha=["openai","open","ai","gpt-3","gpt3"],pa="OpenAI",ma="MIT",ga="./dist/index.js",_a="./dist/index.d.ts",ba={build:"tsc --outDir dist/"},va={axios:"^0.26.0","form-data":"^4.0.0"},wa={"@types/node":"^12.11.5",typescript:"^3.6.4"},ya={name:ca,version:ua,description:fa,repository:da,keywords:ha,author:pa,license:ma,main:ga,types:_a,scripts:ba,dependencies:va,devDependencies:wa};var hs,Rr;function ka(){return Rr||(Rr=1,hs=typeof self=="object"?self.FormData:window.FormData),hs}Object.defineProperty(Nn,"__esModule",{value:!0});Nn.Configuration=void 0;const Oa=ya;class Sa{constructor(e={}){this.apiKey=e.apiKey,this.organization=e.organization,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.baseOptions=e.baseOptions,this.formDataCtor=e.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${Oa.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=ka())}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return e!==null&&(t.test(e)||e.toLowerCase()==="application/json-patch+json")}}Nn.Configuration=Sa;(function(r){var e=Tt&&Tt.__createBinding||(Object.create?function(n,s,i,l){l===void 0&&(l=i),Object.defineProperty(n,l,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,l){l===void 0&&(l=i),n[l]=s[i]}),t=Tt&&Tt.__exportStar||function(n,s){for(var i in n)i!=="default"&&!s.hasOwnProperty(i)&&e(s,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(ll,r),t(Nn,r)})(bs);const $n=Se(!1),Rn=Se(!1),ks=Se(!1);let xr=localStorage.getItem("api_key"),Aa=xr!==null?JSON.parse(xr):null;const rt=Se(Aa);rt.subscribe(r=>{localStorage.setItem("api_key",JSON.stringify(r))});let Ir=localStorage.getItem("combined_tokens"),Pa=Ir!==null?JSON.parse(Ir):0;const Vt=Se(Pa);Vt.subscribe(r=>localStorage.setItem("combined_tokens",JSON.stringify(r)));let jr=localStorage.getItem("default_assistant_role"),Ea=jr!==null?JSON.parse(jr):0;const Ct=Se(Ea||{role:"You are a helpful assistant.",type:"system"});Ct.subscribe(r=>localStorage.setItem("default_assistant_role",JSON.stringify(r)));const We=Se(0);let Mr=localStorage.getItem("conversations"),Ta=Mr!==null?JSON.parse(Mr):null;const pe=Se(Ta||[{history:[],conversationTokens:0,assistantRole:"You are a helpful assistant.",title:""}]);pe.subscribe(r=>{localStorage.setItem("conversations",JSON.stringify(r))});const ze=Se(localStorage.getItem("selectedModel")||"gpt-4-1106-preview"),fn=Se(localStorage.getItem("selectedVoice")||"alloy"),Mt=Se(localStorage.getItem("selectedMode")||"GPT"),xn=Se(localStorage.getItem("selectedSize")||"1024x1024"),In=Se(localStorage.getItem("selectedQuality")||"standard");ze.subscribe(r=>{localStorage.setItem("selectedModel",r)});fn.subscribe(r=>{localStorage.setItem("selectedVoice",r)});xn.subscribe(r=>{localStorage.setItem("selectedSize",r)});In.subscribe(r=>{localStorage.setItem("selectedQuality",r)});Mt.subscribe(r=>{localStorage.setItem("selectedMode",r)});const tn=Se([]),Os=Se(!1),Ke=Se(!1),gt=Se(!1),pn=Se({streamText:"",convId:null});let Fr=localStorage.getItem("show_tokens"),Ca=Fr!==null?JSON.parse(Fr):!1;const mn=Se(Ca);mn.subscribe(r=>{localStorage.setItem("show_tokens",JSON.stringify(r))});let Vr=localStorage.getItem("variable_prompt_templates"),$a=Vr!==null?JSON.parse(Vr):[];const Sn=Se($a);Sn.subscribe(r=>{localStorage.setItem("variable_prompt_templates",JSON.stringify(r))});const An=Se(null),Yt=Se({});let Ra="";function pt(r,e=D(We)){return new Promise((t,n)=>{try{let s=D(pe);s[e].history=r,pe.set(s),t()}catch(s){console.error("Failed to update history",s),n(s)}})}function Ur(r){const e=D(We),t=D(pe),n=t[e].history.filter((s,i)=>i!==r);t[e].history=n,pe.set(t)}function zn(r){const e=["role","content"];let t=Object.keys(r).filter(n=>e.includes(n)).reduce((n,s)=>(n[s]=r[s],n),{});return Array.isArray(t.content)||(t.content=t.content.toString()),t}async function Br(r,e,t){let n=D(pe)[e].history,s=n;n=[...n,{role:"user",content:r}],pt(n);const i="gpt-3.5-turbo",l="alloy",o=D(ze)||i,a=D(fn)||l;let c;c=[...s,{role:"user",content:r}];const u=D(An);if(u){const f=D(Yt);let d=u.template;Object.entries(f).forEach(([h,m])=>{d=d.replace(new RegExp(`::${h}::`,"g"),m)}),c[c.length-1].content=d}if(o.includes("tts"))await rc(r,o,a);else if(o.includes("vision")){const f=D(tn);await ic(c,f,e)}else o.includes("dall-e")?await ac(c,e):t?await oc(c,e,t):await lc(c,e);(D(pe)[e].history.length===1||D(pe)[e].title==="")&&await Ia(r)}function xa(r){let e=D(pe);e[D(We)].title=r,pe.set(e)}async function Ia(r){let t=await sc([{role:"user",content:r},{role:"user",content:"Generate a title for this conversation, so I can easily reference it later. Maximum 6 words. Don't provide anything other than the title. Don't use quotes."}],"gpt-4-turbo-preview");if(t){let n=t.data.choices[0].message.content;xa(n.toString())}}function ja(r){const e={role:"assistant",content:"Audio file generated.",audioUrl:r,isAudio:!0};pt([...D(pe)[D(We)].history,e])}function Ma(r){let e=D(pe);e[D(We)].conversationTokens=e[D(We)].conversationTokens+r.total_tokens,pe.set(e),Vt.set(D(Vt)+r.total_tokens),console.log("Counted tokens: "+r.total_tokens)}function zs(r,e){let t=0;r.map(i=>{t+=i.content.length}),t+=Ra.length;let n=t/4,s=D(pe);s[e].conversationTokens=s[e].conversationTokens+n,pe.set(s),Vt.set(D(Vt)+n)}var Hn={};(function(r){var e=function(t,n){if(!(this instanceof e))return new e(t,n);this.INITIALIZING=-1,this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,this.url=t,n=n||{},this.headers=n.headers||{},this.payload=n.payload!==void 0?n.payload:"",this.method=n.method||this.payload&&"POST"||"GET",this.withCredentials=!!n.withCredentials,this.FIELD_SEPARATOR=":",this.listeners={},this.xhr=null,this.readyState=this.INITIALIZING,this.progress=0,this.chunk="",this.addEventListener=function(s,i){this.listeners[s]===void 0&&(this.listeners[s]=[]),this.listeners[s].indexOf(i)===-1&&this.listeners[s].push(i)},this.removeEventListener=function(s,i){if(this.listeners[s]!==void 0){var l=[];this.listeners[s].forEach(function(o){o!==i&&l.push(o)}),l.length===0?delete this.listeners[s]:this.listeners[s]=l}},this.dispatchEvent=function(s){if(!s)return!0;s.source=this;var i="on"+s.type;return this.hasOwnProperty(i)&&(this[i].call(this,s),s.defaultPrevented)?!1:this.listeners[s.type]?this.listeners[s.type].every(function(l){return l(s),!s.defaultPrevented}):!0},this._setReadyState=function(s){var i=new CustomEvent("readystatechange");i.readyState=s,this.readyState=s,this.dispatchEvent(i)},this._onStreamFailure=function(s){var i=new CustomEvent("error");i.data=s.currentTarget.response,this.dispatchEvent(i),this.close()},this._onStreamAbort=function(s){this.dispatchEvent(new CustomEvent("abort")),this.close()},this._onStreamProgress=function(s){if(this.xhr){if(this.xhr.status!==200){this._onStreamFailure(s);return}this.readyState==this.CONNECTING&&(this.dispatchEvent(new CustomEvent("open")),this._setReadyState(this.OPEN));var i=this.xhr.responseText.substring(this.progress);this.progress+=i.length,i.split(/(\r\n|\r|\n){2}/g).forEach(function(l){l.trim().length===0?(this.dispatchEvent(this._parseEventChunk(this.chunk.trim())),this.chunk=""):this.chunk+=l}.bind(this))}},this._onStreamLoaded=function(s){this._onStreamProgress(s),this.dispatchEvent(this._parseEventChunk(this.chunk)),this.chunk=""},this._parseEventChunk=function(s){if(!s||s.length===0)return null;var i={id:null,retry:null,data:"",event:"message"};s.split(/\n|\r\n|\r/).forEach(function(o){o=o.trimRight();var a=o.indexOf(this.FIELD_SEPARATOR);if(!(a<=0)){var c=o.substring(0,a);if(c in i){var u=o.substring(a+1).trimLeft();c==="data"?i[c]+=u:i[c]=u}}}.bind(this));var l=new CustomEvent(i.event);return l.data=i.data,l.id=i.id,l},this._checkStreamClosed=function(){this.xhr&&this.xhr.readyState===XMLHttpRequest.DONE&&this._setReadyState(this.CLOSED)},this.stream=function(){this._setReadyState(this.CONNECTING),this.xhr=new XMLHttpRequest,this.xhr.addEventListener("progress",this._onStreamProgress.bind(this)),this.xhr.addEventListener("load",this._onStreamLoaded.bind(this)),this.xhr.addEventListener("readystatechange",this._checkStreamClosed.bind(this)),this.xhr.addEventListener("error",this._onStreamFailure.bind(this)),this.xhr.addEventListener("abort",this._onStreamAbort.bind(this)),this.xhr.open(this.method,this.url);for(var s in this.headers)this.xhr.setRequestHeader(s,this.headers[s]);this.xhr.withCredentials=this.withCredentials,this.xhr.send(this.payload)},this.close=function(){this.readyState!==this.CLOSED&&(this.xhr.abort(),this.xhr=null,this._setReadyState(this.CLOSED))}};r.SSE=e})(Hn);function jn(r){return r.replace(/\n/g,`  
`)}async function Fa(r){try{return await navigator.clipboard.writeText(r),console.log("Text successfully copied to clipboard"),!0}catch(e){return console.error("Failed to copy text to clipboard: ",e),!1}}function Ss(r){return r.isAudio===!0}function Hs(r){return r.split("").filter(t=>t==="`").length}const As=(r,e)=>e.some(t=>r instanceof t);let Lr,qr;function Va(){return Lr||(Lr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ua(){return qr||(qr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ps=new WeakMap,ps=new WeakMap,Jn=new WeakMap;function Ba(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",i),r.removeEventListener("error",l)},i=()=>{t(Ft(r.result)),s()},l=()=>{n(r.error),s()};r.addEventListener("success",i),r.addEventListener("error",l)});return Jn.set(e,r),e}function La(r){if(Ps.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",i),r.removeEventListener("error",l),r.removeEventListener("abort",l)},i=()=>{t(),s()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",i),r.addEventListener("error",l),r.addEventListener("abort",l)});Ps.set(r,e)}let Es={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ps.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ft(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function kl(r){Es=r(Es)}function qa(r){return Ua().includes(r)?function(...e){return r.apply(Ts(this),e),Ft(this.request)}:function(...e){return Ft(r.apply(Ts(this),e))}}function Da(r){return typeof r=="function"?qa(r):(r instanceof IDBTransaction&&La(r),As(r,Va())?new Proxy(r,Es):r)}function Ft(r){if(r instanceof IDBRequest)return Ba(r);if(ps.has(r))return ps.get(r);const e=Da(r);return e!==r&&(ps.set(r,e),Jn.set(e,r)),e}const Ts=r=>Jn.get(r);function Na(r,e,{blocked:t,upgrade:n,blocking:s,terminated:i}={}){const l=indexedDB.open(r,e),o=Ft(l);return n&&l.addEventListener("upgradeneeded",a=>{n(Ft(l.result),a.oldVersion,a.newVersion,Ft(l.transaction),a)}),t&&l.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),o.then(a=>{i&&a.addEventListener("close",()=>i()),s&&a.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const za=["get","getKey","getAll","getAllKeys","count"],Ha=["put","add","delete","clear"],ms=new Map;function Dr(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ms.get(e))return ms.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=Ha.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||za.includes(t)))return;const i=async function(l,...o){const a=this.transaction(l,s?"readwrite":"readonly");let c=a.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[t](...o),s&&a.done]))[0]};return ms.set(e,i),i}kl(r=>({...r,get:(e,t,n)=>Dr(e,t)||r.get(e,t,n),has:(e,t)=>!!Dr(e,t)||r.has(e,t)}));const Ja=["continue","continuePrimaryKey","advance"],Nr={},Cs=new WeakMap,Ol=new WeakMap,Ga={get(r,e){if(!Ja.includes(e))return r[e];let t=Nr[e];return t||(t=Nr[e]=function(...n){Cs.set(this,Ol.get(this)[e](...n))}),t}};async function*Qa(...r){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...r)),!e)return;e=e;const t=new Proxy(e,Ga);for(Ol.set(t,e),Jn.set(t,Ts(e));e;)yield t,e=await(Cs.get(t)||e.continue()),Cs.delete(t)}function zr(r,e){return e===Symbol.asyncIterator&&As(r,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&As(r,[IDBIndex,IDBObjectStore])}kl(r=>({...r,get(e,t,n){return zr(e,t)?Qa:r.get(e,t,n)},has(e,t){return zr(e,t)||r.has(e,t)}}));const Js=Na("audio-store",1,{upgrade(r){r.createObjectStore("audios",{keyPath:"id"})}});async function Ya(r,e,t){const s=(await Js).transaction("audios","readwrite");return s.objectStore("audios").put({id:r,blob:e,conversationId:t}),s.done}async function Wa(r){return(await(await Js).transaction("audios","readonly").objectStore("audios").get(r))?.blob}async function Ka(){const e=(await Js).transaction("audios","readwrite");return await e.objectStore("audios").clear(),e.done}function Za(r){dn();const e=r.target.files;for(let t of e){const n=new FileReader;n.onloadend=()=>{tn.update(s=>[...s,n.result])},n.readAsDataURL(t)}}function dn(){tn.set([]),Os.set(!0)}let $s=null,Mn=null,gn=null;const Xa=async()=>{if(gn){gn.close(),console.log("Stream closed by user."),Ke.set(!1);const{streamText:r,convId:e}=D(pn);if(r&&e!==null){const t=r.replace(/█+$/,""),n=D(pe)[e].history;let s=n.length?n[n.length-1]:null;s&&s.content.endsWith("█")?n[n.length-1]={...s,content:t}:n.push({role:"assistant",content:t}),await pt(n,e),pn.set({streamText:"",convId:null})}gt.set(!0),dn()}},ec=[{role:"assistant",content:"There was an error. Maybe the API key is wrong? Or the servers could be down?"}];function Rs(){const r=D(rt)||void 0;$s=new bs.Configuration({apiKey:r}),Mn=new bs.OpenAIApi($s),console.log("OpenAI API initialized."),r||console.warn("API key is not set. Some features may not work until an API key is provided.")}function tc(){Rs(),console.log("Configuration reloaded.")}async function nc(r,e){if(!Mn)throw new Error("OpenAI API is not initialized");const t=[{role:"system",content:"You are an AI assistant that helps to improve and modify prompts based on given instructions."},{role:"user",content:`Current prompt: "${r}"

Mutation instructions: ${e}

Please provide an improved version of the prompt based on these instructions. Only return the mutated prompt, without any additional explanations or text.`}];try{const n=await Mn.createChatCompletion({model:"gpt-3.5-turbo",messages:t,max_tokens:150,n:1,temperature:.7});if(n.data.choices&&n.data.choices.length>0&&n.data.choices[0].message)return n.data.choices[0].message.content.trim();throw new Error("Failed to generate a mutated prompt")}catch(n){throw console.error("Error in mutatePrompt:",n),n}}async function sc(r,e=D(ze)){try{r=[{role:"system",content:D(pe)[D(We)].assistantRole},...r];const t=await Mn.createChatCompletion({model:e,messages:r});if(t)return Ma(t.data.usage),t}catch(t){throw console.error("Error in sendRequest:",t),$s=null,await pt(ec),t}}function Gs(r){try{const e=/\{"id".*?\]\}/g;return(r.match(e)||[]).map(JSON.parse)}catch(e){return console.error("Error parsing JSON chunk:",e),null}}async function rc(r,e,t,n){console.log("Sending TTS message.");const s={model:e,voice:t,input:r};try{const i=await fetch("https://api.openai.com/v1/audio/speech",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D(rt)}`},body:JSON.stringify(s)});if(!i.ok)throw new Error(`Failed to generate audio, response status: ${i.status}`);const l=await i.blob(),o=`audio-${Date.now()}-${Math.floor(Math.random()*1e4)}`;Ya(o,l).then(()=>{console.log("Audio blob saved to IndexedDB with ID:",o)}).catch(console.error),Wa(o).then(a=>{if(console.log(o),console.log(a),a instanceof Blob)if(a){const c=URL.createObjectURL(a);ja(c)}else console.error("Blob is null or undefined");else console.error("Retrieved object is not a Blob:",a)}).catch(a=>console.error("Error retrieving audio blob:",a))}catch(i){console.error("TTS request error:",i)}}async function ic(r,e,t){console.log("Sending vision message."),gt.set(!1);let n=!1,s=0,i=!1,l=D(pe)[t].history,o=l.map(w=>({role:w.role,content:typeof w.content=="string"?[{type:"text",text:w.content}]:w.content})),a=[...r].reverse().find(w=>w.role==="user")?.content||"",c=e.map(w=>({type:"image_url",image_url:{url:w}})),f={role:"user",content:a?[{type:"text",text:a},...c]:c},h=[...o.map(zn),f],m=!1,b="";l=[...l],Ke.set(!0);let v=new Hn.SSE("https://api.openai.com/v1/chat/completions",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${D(rt)}`},method:"POST",payload:JSON.stringify({model:D(ze),messages:h,stream:!0})});console.log("payload",JSON.stringify({model:D(ze),messages:h,stream:!0})),v.addEventListener("message",async w=>{if(w.data!=="[DONE]")try{n||Gs(w.data).forEach(A=>{let y=A.choices[0]?.delta?.content;if(y){let x=Hs(y);s+=x,x===0&&(s=0),s===3&&(i=!i,s=0),b+=y,pn.set({streamText:b,convId:t}),pt([...l,{role:"assistant",content:b+"█"+(i?"\n```":"")}],t)}})}catch(S){console.error("Error parsing JSON:",S),n=!0,v.close(),dn(),console.log("Stream closed due to parsing error."),Ke.set(!1);return}else m=!0,D(gt)&&(b=b.replace(/█+$/,""),gt.set(!1)),await pt([...l,{role:"assistant",content:b}],t),zs(r,t),b="",m=!0,console.log("Stream closed"),v.close(),dn(),Ke.set(!1)}),v.addEventListener("error",w=>{try{if(m)return;console.error("Stream error:",w)}finally{v.close(),dn(),Ke.set(!1)}}),v.stream(),gn=v}async function lc(r,e){gt.set(!1);let t=!1,n=0,s=!1,i=D(pe)[e].history;r=[{role:D(Ct).type,content:D(pe)[e].assistantRole},...r];const o=r.map(zn);let a=!1,c="";i=[...i],Ke.set(!0);let u=new Hn.SSE("https://api.openai.com/v1/chat/completions",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${D(rt)}`},method:"POST",payload:JSON.stringify({model:D(ze),messages:o,stream:!0})});console.log("payload",JSON.stringify({model:D(ze),messages:o,stream:!0})),u.addEventListener("message",async f=>{if(f.data!=="[DONE]")try{t||Gs(f.data).forEach(h=>{let m=h.choices[0]?.delta?.content;if(m){let b=Hs(m);n+=b,b===0&&(n=0),n===3&&(s=!s,n=0),c+=m,pn.set({streamText:c,convId:e}),pt([...i,{role:"assistant",content:c+"█"+(s?"\n```":"")}],e)}})}catch(d){console.error("Error parsing JSON:",d),t=!0,u.close(),console.log("Stream closed due to parsing error."),Ke.set(!1);return}else a=!0,D(gt)&&(c=c.replace(/█+$/,""),gt.set(!1)),await pt([...i,{role:"assistant",content:c}],e),zs(r,e),c="",a=!0,console.log("Stream closed"),u.close(),Ke.set(!1)}),u.addEventListener("error",f=>{try{if(a)return;console.error("Stream error:",f)}finally{u.close(),Ke.set(!1)}}),u.stream(),gn=u}async function oc(r,e,t){gt.set(!1);let n=!1,s=0,i=!1,l=D(pe)[e].history,o={role:D(Ct).type,content:D(pe)[e].assistantRole},a={role:"system",content:t};l.push(a),r=[o,a,...r],console.log(r);const c=r.map(zn);let u=!1,f="";l=[...l],Ke.set(!0);let d=new Hn.SSE("https://api.openai.com/v1/chat/completions",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${D(rt)}`},method:"POST",payload:JSON.stringify({model:D(ze),messages:c,stream:!0})});console.log("payload",JSON.stringify({model:D(ze),messages:c,stream:!0})),d.addEventListener("message",async h=>{if(h.data!=="[DONE]")try{n||Gs(h.data).forEach(b=>{let v=b.choices[0]?.delta?.content;if(v){let w=Hs(v);s+=w,w===0&&(s=0),s===3&&(i=!i,s=0),f+=v,pn.set({streamText:f,convId:e}),pt([...l,{role:"assistant",content:f+"█"+(i?"\n```":"")}],e)}})}catch(m){console.error("Error parsing JSON:",m),n=!0,d.close(),console.log("Stream closed due to parsing error."),Ke.set(!1);return}else u=!0,D(gt)&&(f=f.replace(/█+$/,""),gt.set(!1)),await pt([...l,{role:"assistant",content:f}],e),zs(r,e),f="",u=!0,console.log("Stream closed"),d.close(),Ke.set(!1)}),d.addEventListener("error",h=>{try{if(u)return;console.error("Stream error:",h)}finally{d.close(),Ke.set(!1)}}),d.stream(),gn=d}async function ac(r,e){Ke.set(!0);let t=D(pe)[e].history;r=[{role:D(Ct).type,content:D(pe)[e].assistantRole},...r];const s=r.map(zn),i=s[s.length-1].content;try{let l=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D(rt)}`},body:JSON.stringify({model:D(ze),prompt:i,size:D(xn),quality:D(In),n:1})});if(!l.ok)throw new Error("HTTP error, status = "+l.status);let a=(await l.json()).data[0].url;pt([...t,{role:"assistant",content:a,type:"image"}],e)}catch(l){console.error("Error generating image:",l)}finally{Ke.set(!1)}}function xs(){const r=window.innerHeight*.01;document.documentElement.style.setProperty("--app-height",`${r}px`)}async function cc(){D(pe).length>0&&We.set(D(pe).length-1),xs(),window.addEventListener("resize",xs);try{await Ka()}catch(r){console.error("Failed to clear audio blobs:",r)}tn.set([]),Rs(),rt.subscribe(r=>{r&&Rs()})}function uc(){window.removeEventListener("resize",xs)}function fc(r){let e,t,n,s,i,l,o,a,c,u,f,d,h;return{c(){e=_("div"),t=_("div"),t.textContent="Your audio file is ready:",n=P(),s=_("button"),s.innerHTML='<span class="playbutton svelte-2tsp55">▶ Play</span>',i=X(`
    | `),l=_("span"),o=_("a"),a=X("⇓ Download"),c=_("div"),c.textContent="(unavailable after refresh!)",u=P(),f=_("audio"),p(t,"class","mb-2"),p(o,"href",r[0]),p(o,"download","response.mp3"),p(l,"class","downloadbutton svelte-2tsp55"),p(c,"class","notice svelte-2tsp55"),ct(f,"display","none")},m(m,b){O(m,e,b),g(e,t),g(e,n),g(e,s),g(e,i),g(e,l),g(l,o),g(o,a),g(e,c),g(e,u),g(e,f),r[3](f),d||(h=j(s,"click",r[2]),d=!0)},p(m,[b]){b&1&&p(o,"href",m[0])},i:N,o:N,d(m){m&&k(e),r[3](null),d=!1,h()}}}function dc(r,e,t){let{audioUrl:n=""}=e,s;function i(){s&&s.paused?s.play():s&&(s.pause(),t(1,s.currentTime=0,s))}function l(o){Et[o?"unshift":"push"](()=>{s=o,t(1,s),t(0,n)})}return r.$$set=o=>{"audioUrl"in o&&t(0,n=o.audioUrl)},r.$$.update=()=>{r.$$.dirty&3&&s&&n&&(t(1,s.src=n,s),s.load())},[n,s,i,l]}class hc extends le{constructor(e){super(),ie(this,e,dc,fc,re,{audioUrl:0})}}const pc="/assets/menu-fd7c077d.svg",Qs="/assets/edit-b1f72403.svg";function mc(r){let e,t=(r[0]===""?"New Conversation":r[0])+"",n;return{c(){e=_("span"),n=X(t),p(e,"class","transition-all duration-200"),Wt(e,"underline",r[2])},m(s,i){O(s,e,i),g(e,n)},p(s,i){i&1&&t!==(t=(s[0]===""?"New Conversation":s[0])+"")&&be(n,t),i&4&&Wt(e,"underline",s[2])},d(s){s&&k(e)}}}function gc(r){let e,t,n;return{c(){e=_("input"),p(e,"type","text"),p(e,"class","bg-transparent text-center w-full outline-none border-b border-white/50 svelte-1vfba79")},m(s,i){O(s,e,i),_e(e,r[4]),t||(n=[j(e,"input",r[10]),j(e,"blur",r[6]),j(e,"keydown",r[7])],t=!0)},p(s,i){i&16&&e.value!==s[4]&&_e(e,s[4])},d(s){s&&k(e),t=!1,Re(n)}}}function Hr(r){let e,t;return{c(){e=_("img"),p(e,"class","icon-white w-4 h-4 ml-2"),p(e,"alt","Edit"),Ue(e.src,t=Qs)||p(e,"src",t)},m(n,s){O(n,e,s)},p:N,d(n){n&&k(e)}}}function _c(r){let e,t,n,s,i,l,o,a,c;function u(m,b){return m[3]?gc:mc}let f=u(r),d=f(r),h=r[1]&&!r[3]&&Hr();return{c(){e=_("div"),t=_("button"),n=_("img"),i=P(),l=_("div"),d.c(),o=P(),h&&h.c(),p(n,"class","icon-white w-8"),p(n,"alt","Menu"),Ue(n.src,s=pc)||p(n,"src",s),p(t,"class","text-lg font-medium md:hidden svelte-1vfba79"),p(l,"class","flex-grow text-lg font-medium text-center overflow-hidden h-8 flex items-center justify-center cursor-text svelte-1vfba79"),p(l,"tabindex","0"),p(l,"role","button"),p(l,"aria-label","Edit conversation title"),Wt(l,"hover:text-white",r[2]),p(e,"class","bg-secondary text-white/90 py-2 px-4 flex justify-between items-center shrink grow-0 max-h-16 transition-colors duration-200"),p(e,"role","banner"),Wt(e,"hover:bg-hover2",r[1])},m(m,b){O(m,e,b),g(e,t),g(t,n),g(e,i),g(e,l),d.m(l,null),g(l,o),h&&h.m(l,null),a||(c=[j(t,"click",r[9]),j(l,"mouseenter",r[11]),j(l,"mouseleave",r[12]),j(l,"click",r[5]),j(l,"keydown",r[8]),j(e,"mouseenter",r[13]),j(e,"mouseleave",r[14])],a=!0)},p(m,[b]){f===(f=u(m))&&d?d.p(m,b):(d.d(1),d=f(m),d&&(d.c(),d.m(l,o))),m[1]&&!m[3]?h?h.p(m,b):(h=Hr(),h.c(),h.m(l,null)):h&&(h.d(1),h=null),b&4&&Wt(l,"hover:text-white",m[2]),b&2&&Wt(e,"hover:bg-hover2",m[1])},i:N,o:N,d(m){m&&k(e),d.d(),h&&h.d(),a=!1,Re(c)}}}function bc(r,e,t){const n=Ut();let{conversation_title:s}=e,i=!1,l=!1,o=!1,a="";function c(){t(3,o=!0),t(4,a=s),setTimeout(()=>{const A=document.querySelector('input[type="text"]');A&&A.focus()},0)}function u(){a.trim()!==""&&n("update-title",a.trim()),t(3,o=!1)}function f(A){A.key==="Enter"&&(A.preventDefault(),u())}function d(A){(A.key==="Enter"||A.key===" ")&&c()}const h=()=>ks.set(!0);function m(){a=this.value,t(4,a)}const b=()=>t(2,l=!0),v=()=>t(2,l=!1),w=()=>t(1,i=!0),S=()=>t(1,i=!1);return r.$$set=A=>{"conversation_title"in A&&t(0,s=A.conversation_title)},[s,i,l,o,a,c,u,f,d,h,m,b,v,w,S]}class vc extends le{constructor(e){super(),ie(this,e,bc,_c,re,{conversation_title:0})}}const Fn="/assets/close-301080ff.svg",Sl="/assets/NewChat-b5234abe.svg";function Jr(r,e,t){const n=r.slice();return n[32]=e[t],n[34]=t,n}function wc(r){let e,t,n,s,i,l,o,a,c;return{c(){e=_("button"),t=_("img"),s=P(),i=_("button"),i.innerHTML='<span class="text-2xl">?</span>',l=P(),o=_("button"),o.innerHTML='<span class="text-2xl">⚙️</span>',Ue(t.src,n=Sl)||p(t,"src",n),p(t,"alt","New chat"),p(t,"class","w-6 h-6 filter-white mx-auto"),p(e,"class","w-full py-3 px-1 cursor-pointer hover:bg-gray-700 rounded-lg z-20"),p(i,"class","w-full py-3 px-1 cursor-pointer hover:bg-gray-700 rounded-lg z-20"),p(o,"class","w-full py-3 px-1 cursor-pointer hover:bg-gray-700 rounded-lg z-20")},m(u,f){O(u,e,f),g(e,t),O(u,s,f),O(u,i,f),O(u,l,f),O(u,o,f),a||(c=[j(e,"click",r[10]),j(i,"click",r[12]),j(o,"click",r[11])],a=!0)},p:N,d(u){u&&k(e),u&&k(s),u&&k(i),u&&k(l),u&&k(o),a=!1,Re(c)}}}function yc(r){let e,t,n,s,i,l,o,a,c,u,f,d,h,m,b,v,w,S,A,y,x,R,C,T=r[7]===null?"(Insert API key)":"",B,V,L;function J(z,ne){return z[5][z[4]]?Oc:kc}let U=J(r),Y=U(r),Q=r[5].slice().reverse(),fe=[];for(let z=0;z<Q.length;z+=1)fe[z]=Yr(Jr(r,Q,z));return{c(){e=_("button"),e.textContent="Close menu",t=P(),n=_("button"),s=_("span"),s.textContent="Prompt Composer",i=P(),l=_("img"),a=P(),c=_("div"),u=_("label"),u.textContent="System Role:",f=P(),Y.c(),d=P(),h=_("div");for(let z=0;z<fe.length;z+=1)fe[z].c();m=P(),b=_("div"),v=_("button"),v.textContent="Export",w=P(),S=_("button"),S.textContent="Import",A=P(),y=_("button"),y.textContent="Help",x=P(),R=_("button"),C=X("Settings "),B=X(T),p(e,"class","md:hidden z-20 flex py-3 px-3 items-center gap-3 rounded-md hover:bg-hover hover:opacity-hover transition-colors duration-200 cursor-pointer text-sm mb-2 flex-shrink-0 border border-white/50"),p(s,"class","font-semibold text-lg"),Ue(l.src,o=Sl)||p(l,"src",o),p(l,"alt","New chat"),p(l,"class","w-5 h-5 filter-white"),p(n,"class","flex justify-between items-center py-3 px-4 w-full text-left bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors duration-200"),p(u,"for","system-role"),p(u,"class","text-xs font-medium text-gray-400"),p(c,"class","space-y-2"),p(h,"class","flex-grow overflow-y-auto space-y-1 my-4"),p(v,"class","flex-1 py-2 px-3 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium rounded-md transition-colors duration-200"),p(S,"class","flex-1 py-2 px-3 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium rounded-md transition-colors duration-200"),p(b,"class","flex space-x-2"),p(y,"class","w-full py-2 px-3 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium rounded-md transition-colors duration-200"),p(R,"class","w-full py-2 px-3 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium rounded-md transition-colors duration-200")},m(z,ne){O(z,e,ne),O(z,t,ne),O(z,n,ne),g(n,s),g(n,i),g(n,l),O(z,a,ne),O(z,c,ne),g(c,u),g(c,f),Y.m(c,null),O(z,d,ne),O(z,h,ne);for(let M=0;M<fe.length;M+=1)fe[M]&&fe[M].m(h,null);O(z,m,ne),O(z,b,ne),g(b,v),g(b,w),g(b,S),O(z,A,ne),O(z,y,ne),O(z,x,ne),O(z,R,ne),g(R,C),g(R,B),V||(L=[j(e,"click",r[18]),j(n,"click",r[10]),j(v,"click",r[16]),j(S,"click",r[17]),j(y,"click",r[12]),j(R,"click",r[11])],V=!0)},p(z,ne){if(U===(U=J(z))&&Y?Y.p(z,ne):(Y.d(1),Y=U(z),Y&&(Y.c(),Y.m(c,null))),ne[0]&57406){Q=z[5].slice().reverse();let M;for(M=0;M<Q.length;M+=1){const Z=Jr(z,Q,M);fe[M]?fe[M].p(Z,ne):(fe[M]=Yr(Z),fe[M].c(),fe[M].m(h,null))}for(;M<fe.length;M+=1)fe[M].d(1);fe.length=Q.length}ne[0]&128&&T!==(T=z[7]===null?"(Insert API key)":"")&&be(B,T)},d(z){z&&k(e),z&&k(t),z&&k(n),z&&k(a),z&&k(c),Y.d(),z&&k(d),z&&k(h),ft(fe,z),z&&k(m),z&&k(b),z&&k(A),z&&k(y),z&&k(x),z&&k(R),V=!1,Re(L)}}}function kc(r){let e;return{c(){e=_("textarea"),p(e,"placeholder","Select a conversation or start a new one..."),p(e,"class","w-full bg-gray-800 px-3 py-2 text-sm rounded-md border border-gray-700 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200"),e.disabled=!0},m(t,n){O(t,e,n)},p:N,d(t){t&&k(e)}}}function Oc(r){let e,t,n;return{c(){e=_("textarea"),p(e,"id","system-role"),p(e,"placeholder",r[8]),p(e,"class","w-full bg-gray-800 px-3 py-2 text-sm rounded-md border border-gray-700 focus:border-blue-500 focus:ring focus:ring-blue-500 focus:ring-opacity-50 transition-all duration-200")},m(s,i){O(s,e,i),_e(e,r[5][r[4]].assistantRole),t||(n=j(e,"input",r[19]),t=!0)},p(s,i){i[0]&48&&_e(e,s[5][s[4]].assistantRole)},d(s){s&&k(e),t=!1,n()}}}function Sc(r){let e,t=(r[32].title===""?"New conversation":r[32].title)+"",n,s;return{c(){e=_("p"),n=X(t),p(e,"class",s="text-left text-sm flex-grow title-text "+(r[3],"")+" svelte-mc5cug")},m(i,l){O(i,e,l),g(e,n)},p(i,l){l[0]&32&&t!==(t=(i[32].title===""?"New conversation":i[32].title)+"")&&be(n,t),l[0]&8&&s!==(s="text-left text-sm flex-grow title-text "+(i[3],"")+" svelte-mc5cug")&&p(e,"class",s)},d(i){i&&k(e)}}}function Ac(r){let e,t,n;function s(){return r[21](r[34])}function i(...l){return r[22](r[34],...l)}return{c(){e=_("input"),p(e,"type","text"),p(e,"class","edit-input svelte-mc5cug")},m(l,o){O(l,e,o),_e(e,r[2]),t||(n=[j(e,"input",r[20]),j(e,"blur",s),j(e,"keydown",i)],t=!0)},p(l,o){r=l,o[0]&4&&e.value!==r[2]&&_e(e,r[2])},d(l){l&&k(e),t=!1,Re(n)}}}function Gr(r){let e,t,n,s,i;function l(...a){return r[25](r[34],...a)}function o(...a){return r[26](r[34],...a)}return{c(){e=_("button"),t=_("img"),Ue(t.src,n=Fn)||p(t,"src",n),p(t,"alt","Delete"),p(t,"class","icon-white min-w-5 w-5 h-5"),p(e,"tabindex","0"),p(e,"class","delete hidden rounded w-7 h-7 font-bold flex justify-center items-center hover:bg-warning svelte-mc5cug")},m(a,c){O(a,e,c),g(e,t),s||(i=[j(e,"click",Xt(l)),j(e,"keydown",Xt(o))],s=!0)},p(a,c){r=a},d(a){a&&k(e),s=!1,Re(i)}}}function Qr(r){let e,t=r[32].conversationTokens.toFixed(0)+"",n;return{c(){e=_("p"),n=X(t),p(e,"class","text-blue-200 tokens z-20 ml-5 svelte-mc5cug")},m(s,i){O(s,e,i),g(e,n)},p(s,i){i[0]&32&&t!==(t=s[32].conversationTokens.toFixed(0)+"")&&be(n,t)},d(s){s&&k(e)}}}function Yr(r){let e,t,n,s,i,l,o,a,c,u,f,d,h;function m(C,T){return C[1]===C[5].length-C[34]-1?Ac:Sc}let b=m(r),v=b(r);function w(...C){return r[23](r[34],r[32],...C)}function S(...C){return r[24](r[34],r[32],...C)}let A=r[5].length>=2&&Gr(r),y=r[3]===!0&&Qr(r);function x(){return r[27](r[34])}function R(...C){return r[28](r[34],...C)}return{c(){e=_("div"),v.c(),t=P(),n=_("div"),s=_("button"),i=_("img"),o=P(),A&&A.c(),a=P(),y&&y.c(),c=P(),Ue(i.src,l=Qs)||p(i,"src",l),p(i,"alt","Edit"),p(i,"class","icon-white min-w-4 w-4 h-4"),p(s,"tabindex","0"),p(s,"class","edit hidden rounded w-7 h-7 font-bold flex justify-center items-center hover:bg-blue-600 svelte-mc5cug"),p(n,"class","flex items-center gap-2"),p(e,"class",u=En(Vn("flex justify-between items-center py-2 px-3 rounded-md cursor-pointer transition-colors duration-200",r[4]===r[5].length-r[34]-1?"bg-gray-700 hover:bg-gray-600":"hover:bg-gray-800"))+" svelte-mc5cug"),p(e,"tabindex","0"),p(e,"role","button"),p(e,"aria-label",f=`Select conversation: ${r[32].title===""?"New conversation":r[32].title}`)},m(C,T){O(C,e,T),v.m(e,null),g(e,t),g(e,n),g(n,s),g(s,i),g(n,o),A&&A.m(n,null),g(e,a),y&&y.m(e,null),g(e,c),d||(h=[j(s,"click",Xt(w)),j(s,"keydown",Xt(S)),j(e,"click",x),j(e,"keydown",R)],d=!0)},p(C,T){r=C,b===(b=m(r))&&v?v.p(r,T):(v.d(1),v=b(r),v&&(v.c(),v.m(e,t))),r[5].length>=2?A?A.p(r,T):(A=Gr(r),A.c(),A.m(n,null)):A&&(A.d(1),A=null),r[3]===!0?y?y.p(r,T):(y=Qr(r),y.c(),y.m(e,c)):y&&(y.d(1),y=null),T[0]&48&&u!==(u=En(Vn("flex justify-between items-center py-2 px-3 rounded-md cursor-pointer transition-colors duration-200",r[4]===r[5].length-r[34]-1?"bg-gray-700 hover:bg-gray-600":"hover:bg-gray-800"))+" svelte-mc5cug")&&p(e,"class",u),T[0]&32&&f!==(f=`Select conversation: ${r[32].title===""?"New conversation":r[32].title}`)&&p(e,"aria-label",f)},d(C){C&&k(e),v.d(),A&&A.d(),y&&y.d(),d=!1,Re(h)}}}function Pc(r){let e,t,n,s,i,l,o=r[0]?"▶":"◀",a,c,u,f;function d(b,v){return b[0]?wc:yc}let h=d(r),m=h(r);return{c(){e=_("div"),t=_("div"),n=_("nav"),m.c(),i=P(),l=_("button"),a=X(o),p(n,"class","flex h-full flex-1 flex-col space-y-4 p-4"),p(t,"class",s=En(Vn("duration-200 h-full fixed md:flex flex-col bg-gray-900 z-40 shadow-lg",r[6]?"translate-x-0":"-translate-x-full md:translate-x-0",r[0]?"w-16":"w-72"))+" svelte-mc5cug"),p(e,"class","flex flex-col text-gray-100"),p(l,"class",c="fixed top-1/2 transform -translate-y-1/2 "+(r[0]?"left-[60px]":"left-[280px]")+" bg-secondary text-white p-2 rounded-r-md cursor-pointer z-50")},m(b,v){O(b,e,v),g(e,t),g(t,n),m.m(n,null),O(b,i,v),O(b,l,v),g(l,a),u||(f=j(l,"click",r[9]),u=!0)},p(b,v){h===(h=d(b))&&m?m.p(b,v):(m.d(1),m=h(b),m&&(m.c(),m.m(n,null))),v[0]&65&&s!==(s=En(Vn("duration-200 h-full fixed md:flex flex-col bg-gray-900 z-40 shadow-lg",b[6]?"translate-x-0":"-translate-x-full md:translate-x-0",b[0]?"w-16":"w-72"))+" svelte-mc5cug")&&p(t,"class",s),v[0]&1&&o!==(o=b[0]?"▶":"◀")&&be(a,o),v[0]&1&&c!==(c="fixed top-1/2 transform -translate-y-1/2 "+(b[0]?"left-[60px]":"left-[280px]")+" bg-secondary text-white p-2 rounded-r-md cursor-pointer z-50")&&p(l,"class",c)},i:N,o:N,d(b){b&&k(e),m.d(),b&&k(i),b&&k(l),u=!1,f()}}}function Vn(...r){return r.filter(Boolean).join(" ")}function Ec(r,e,t){let n,s,i,l,o,a,c;ge(r,mn,M=>t(3,n=M)),ge(r,ze,M=>t(29,s=M)),ge(r,Ct,M=>t(30,i=M)),ge(r,We,M=>t(4,l=M)),ge(r,pe,M=>t(5,o=M)),ge(r,ks,M=>t(6,a=M)),ge(r,rt,M=>t(7,c=M));const u=Ut();let f="You are a helpful assistant.",d=!1;function h(){t(0,d=!d),u("toggle-sidebar",{isCollapsed:d})}function m(){u("new-chat")}function b(){Rn.set(!1),$n.set(!0)}function v(){$n.set(!1),Rn.set(!0)}async function w(M){if(console.log("Attempting to delete conversation at index:",M),o.length<=1){console.log("Deletion aborted: Cannot delete the last conversation.");return}let Z=o.filter((me,H)=>H!==M);console.log("Updated conversations list after deletion attempt:",Z),M===l?(We.set(M>0?M-1:0),console.log("Selected conversation index adjusted to:",M>0?M-1:0)):M<l&&(We.set(l-1),console.log("Selected conversation index adjusted due to deletion before it. New index:",l-1)),pe.set(Z)}let S=null,A="";function y(M,Z){t(1,S=M),t(2,A=Z)}function x(M){pe.update(Z=>{let me=[...Z];return me[M].title=A,me}),t(1,S=null)}function R(){let Z=JSON.stringify({conversations:o,chosenConversationId:l,defaultAssistantRole:i,selectedModel:s,showTokens:n}),me=new Blob([Z],{type:"application/json"}),H=URL.createObjectURL(me),oe=document.createElement("a");oe.href=H,oe.download="smoothgpt-session.json",oe.click(),URL.revokeObjectURL(H)}function C(){let M=document.createElement("input");M.type="file",M.accept=".json",M.onchange=async Z=>{let me=M.files[0],H=new FileReader;H.onload=async oe=>{let we=oe.target.result,ke=JSON.parse(we);pe.set(ke.conversations),We.set(ke.chosenConversationId),Ct.set(ke.defaultAssistantRole),ze.set(ke.selectedModel),mn.set(ke.showTokens)},H.readAsText(me)},M.click()}const T=()=>{ks.set(!1)};function B(){o[l].assistantRole=this.value,pe.set(o)}function V(){A=this.value,t(2,A)}return[d,S,A,n,l,o,a,c,f,h,m,b,v,w,y,x,R,C,T,B,V,M=>x(o.length-M-1),(M,Z)=>{Z.key==="Enter"&&(x(o.length-M-1),Z.preventDefault())},(M,Z,me)=>{let H=o.length-M-1;y(H,Z.title)},(M,Z,me)=>{if(me.key==="Enter"){me.preventDefault();let H=o.length-M-1;y(H,Z.title)}},(M,Z)=>{let me=o.length-M-1;w(me)},(M,Z)=>{if(Z.key==="Enter"){Z.preventDefault();let me=o.length-M-1;w(me)}},M=>{let Z=o.length-M-1;We.set(Z)},(M,Z)=>{if(Z.key==="Enter"||Z.key===" "){Z.preventDefault();let me=o.length-M-1;We.set(me)}}]}class Tc extends le{constructor(e){super(),ie(this,e,Ec,Pc,re,{},null,[-1,-1])}}function Wr(r,e,t){const n=r.slice();return n[40]=e[t],n}function Kr(r){let e,t=r[40].id+"",n,s;return{c(){e=_("option"),n=X(t),e.__value=s=r[40].id,e.value=e.__value},m(i,l){O(i,e,l),g(e,n)},p(i,l){l[0]&256&&t!==(t=i[40].id+"")&&be(n,t),l[0]&256&&s!==(s=i[40].id)&&(e.__value=s,e.value=e.__value)},d(i){i&&k(e)}}}function Zr(r){let e,t,n,s,i,l,o,a,c,u,f,d;return{c(){e=_("div"),t=_("label"),t.textContent="Voice Selection",n=P(),s=_("select"),i=_("option"),i.textContent="Alloy",l=_("option"),l.textContent="Echo",o=_("option"),o.textContent="Fable",a=_("option"),a.textContent="Onyx",c=_("option"),c.textContent="Nova",u=_("option"),u.textContent="Shimmer",p(t,"for","voice-selection"),p(t,"class","block font-medium mb-2"),i.__value="alloy",i.value=i.__value,l.__value="echo",l.value=l.__value,o.__value="fable",o.value=o.__value,a.__value="onyx",a.value=a.__value,c.__value="nova",c.value=c.__value,u.__value="shimmer",u.value=u.__value,p(s,"class","border text-black border-gray-300 p-2 rounded w-full"),p(s,"id","voice-selection"),r[9]===void 0&&ut(()=>r[27].call(s)),p(e,"class","mb-4")},m(h,m){O(h,e,m),g(e,t),g(e,n),g(e,s),g(s,i),g(s,l),g(s,o),g(s,a),g(s,c),g(s,u),Ye(s,r[9],!0),f||(d=j(s,"change",r[27]),f=!0)},p(h,m){m[0]&512&&Ye(s,h[9])},d(h){h&&k(e),f=!1,d()}}}function Xr(r){let e,t,n,s,i,l,o,a,c,u,f,d,h,m,b,v;return{c(){e=_("div"),t=_("label"),t.textContent="Image Size",n=P(),s=_("select"),i=_("option"),i.textContent="1024x1024",l=_("option"),l.textContent="1024x1792",o=_("option"),o.textContent="1792x1024",a=P(),c=_("div"),u=_("label"),u.textContent="Image Quality",f=P(),d=_("select"),h=_("option"),h.textContent="standard",m=_("option"),m.textContent="hd",p(t,"for","size-selection"),p(t,"class","block font-medium mb-2"),i.__value="1024x1024",i.value=i.__value,l.__value="1024x1792",l.value=l.__value,o.__value="1792x1024",o.value=o.__value,p(s,"class","border text-black border-gray-300 p-2 rounded w-full"),p(s,"id","size-selection"),r[10]===void 0&&ut(()=>r[28].call(s)),p(e,"class","mb-4"),p(u,"for","quality-selection"),p(u,"class","block font-medium mb-2"),h.__value="standard",h.value=h.__value,m.__value="hd",m.value=m.__value,p(d,"class","border text-black border-gray-300 p-2 rounded w-full"),p(d,"id","quality-selection"),r[11]===void 0&&ut(()=>r[29].call(d)),p(c,"class","mb-4")},m(w,S){O(w,e,S),g(e,t),g(e,n),g(e,s),g(s,i),g(s,l),g(s,o),Ye(s,r[10],!0),O(w,a,S),O(w,c,S),g(c,u),g(c,f),g(c,d),g(d,h),g(d,m),Ye(d,r[11],!0),b||(v=[j(s,"change",r[28]),j(d,"change",r[29])],b=!0)},p(w,S){S[0]&1024&&Ye(s,w[10]),S[0]&2048&&Ye(d,w[11])},d(w){w&&k(e),w&&k(a),w&&k(c),b=!1,Re(v)}}}function Cc(r){let e,t,n,s,i,l,o,a,c,u,f,d,h,m,b,v,w,S,A,y,x,R,C,T,B,V,L,J,U,Y,Q,fe,z,ne,M,Z=r[7].startsWith("tts"),me,H=r[7].startsWith("dall-e"),oe,we,ke,ht,G,xe,$e,Oe,qe,De,St,Ze,lt,dt,Xe,mt,bt,He=r[12].toFixed(0)+"",je,Be,vt,xt,wt=(r[12]/1e3*.02).toFixed(2)+"",tt,It,Ie,jt,ot,Me,I,ae,ve,Fe,F,ce,ln,At,Zs,qt,Dt,Xs,er,on,Gn,tr,Nt=r[8],et=[];for(let ue=0;ue<Nt.length;ue+=1)et[ue]=Kr(Wr(r,Nt,ue));let nt=Z&&Zr(r),st=H&&Xr(r);return{c(){e=_("div"),t=_("div"),n=_("div"),s=_("button"),i=_("img"),o=P(),a=_("h2"),a.textContent="Settings",c=P(),u=_("div"),f=_("label"),f.textContent="API Key",d=P(),h=_("div"),m=_("input"),b=P(),v=_("button"),v.textContent="Check API",w=P(),S=_("p"),A=X(r[6]),x=P(),R=_("div"),C=_("label"),C.textContent="Mode Selection",T=P(),B=_("select"),V=_("option"),V.textContent="GPT",L=_("option"),L.textContent="GPT + Vision",J=_("option"),J.textContent="Dall-E",U=_("option"),U.textContent="TTS",Y=P(),Q=_("div"),fe=_("label"),fe.textContent="Model Selection",z=P(),ne=_("select");for(let ue=0;ue<et.length;ue+=1)et[ue].c();M=P(),nt&&nt.c(),me=P(),st&&st.c(),oe=P(),we=_("div"),ke=_("label"),ke.textContent="Default Assistant role",ht=P(),G=_("input"),xe=P(),$e=_("div"),Oe=_("select"),qe=_("option"),qe.textContent="System",De=_("option"),De.textContent="User",St=P(),Ze=_("a"),Ze.textContent="Which should I use?",lt=P(),dt=_("div"),Xe=_("div"),mt=_("p"),bt=X("Estimated Token Usage: "),je=X(He),Be=P(),vt=_("p"),xt=X("Estimated Cost with GPT-4: $"),tt=X(wt),It=P(),Ie=_("p"),Ie.innerHTML='<a href="https://openai.com/pricing" target="_blank" rel="noreferrer">See all API pricing</a>',jt=P(),ot=_("div"),Me=_("label"),I=_("div"),ae=_("input"),ve=P(),Fe=_("div"),F=P(),ce=_("div"),ln=P(),At=_("div"),At.textContent="Show estimated tokens in sidebar",Zs=P(),qt=_("button"),Dt=_("img"),er=P(),on=_("button"),on.textContent="Save",p(i,"class","icon-white w-8"),p(i,"alt","Close"),Ue(i.src,l=Fn)||p(i,"src",l),p(s,"class","absolute top-0 right-0 mt-2 mr-2 text-gray-500 hover:text-gray-600"),p(a,"class","text-xl font-bold mb-4"),p(f,"for","api-key"),p(f,"class","block font-medium mb-2"),p(m,"type","password"),p(m,"id","api-key"),p(m,"name","api-key"),p(m,"class","border text-black border-gray-300 p-2 rounded w-full"),p(v,"class","ml-2 bg-blue-600 hover:bg-blue-400 transition-colors duration-800 text-white p-2 rounded text-xs"),p(h,"class","flex items-center"),p(S,"class",y="mt-2 text-white rounded-lg p-2 "+(r[5]==="yellow"?"bg-yellow-600":"")+" "+(r[5]==="red"?"bg-red-600":"")+" "+(r[5]==="green"?"bg-green-600":"")),ct(S,"display",r[14]?"block":"none"),p(u,"class","mb-4"),p(C,"for","mode-selection"),p(C,"class","block font-medium mb-2"),V.__value="GPT",V.value=V.__value,L.__value="GPT + Vision",L.value=L.__value,J.__value="Dall-E",J.value=J.__value,U.__value="TTS",U.value=U.__value,p(B,"class","border text-black border-gray-300 p-2 rounded w-full"),p(B,"id","mode-selection"),r[0]===void 0&&ut(()=>r[25].call(B)),p(R,"class","mb-4"),p(fe,"for","model-selection"),p(fe,"class","block font-medium mb-2"),p(ne,"class","border text-black border-gray-300 p-2 rounded w-full"),p(ne,"id","model-selection"),r[7]===void 0&&ut(()=>r[26].call(ne)),p(Q,"class","mb-4"),p(ke,"for","api-key"),p(ke,"class","block font-medium mb-2"),p(G,"class","border text-black border-gray-300 p-2 rounded w-full"),qe.__value="system",qe.value=qe.__value,De.__value="user",De.value=De.__value,p(Oe,"class","text-black p-2 rounded focus:outline-none focus:bg-white max-w-24"),r[3]===void 0&&ut(()=>r[31].call(Oe)),p(Ze,"href","https://platform.openai.com/docs/guides/prompt-engineering/tactic-ask-the-model-to-adopt-a-persona"),p(Ze,"target","_blank"),p(Ze,"rel","noreferrer"),p(Ze,"class","text-blue-300 transition underline text-xs hover:text-blue-500"),p($e,"class","flex items-center my-2 space-x-2"),p(we,"class","mb-4"),p(mt,"class","font-bold mb-2"),p(vt,"class",""),p(Ie,"class","text-blue-300 transition underline text-xs hover:text-blue-500 mt-2"),p(ae,"type","checkbox"),p(ae,"id","show-tokens-toggle"),p(ae,"class","sr-only"),p(Fe,"class","block bg-gray-600 w-14 h-8 rounded-full"),p(ce,"class","dot absolute left-1 top-1 bg-gray-100 w-6 h-6 rounded-full transition"),p(I,"class","relative"),p(At,"class","ml-3 text-gray-200"),p(Me,"for","show-tokens-toggle"),p(Me,"class","flex items-center cursor-pointer"),p(ot,"class","mt-4"),p(Xe,"class","flex flex-col"),p(Dt,"class","icon-white w-3"),p(Dt,"alt","Close"),Ue(Dt.src,Xs=Fn)||p(Dt,"src",Xs),p(qt,"class","bg-warning hover:bg-warningHover transition-colors duration-200 text-white ml-10 px-4 py-2 flex align-middle justify-center rounded"),ct(qt,"font-size","1rem"),p(dt,"class","flex justify-between items-start"),p(on,"class","bg-good hover:bg-good2 transition-colors duration-200 text-white py-2 px-4 mt-8 rounded"),p(n,"class","bg-primary text-white rounded-lg shadow-xl p-8 relative"),p(t,"class","flex items-center justify-center min-h-screen"),p(e,"class","fixed z-50 inset-0 overflow-y-auto animate-fade-in")},m(ue,Ne){O(ue,e,Ne),g(e,t),g(t,n),g(n,s),g(s,i),g(n,o),g(n,a),g(n,c),g(n,u),g(u,f),g(u,d),g(u,h),g(h,m),_e(m,r[1]),g(h,b),g(h,v),g(u,w),g(u,S),g(S,A),g(n,x),g(n,R),g(R,C),g(R,T),g(R,B),g(B,V),g(B,L),g(B,J),g(B,U),Ye(B,r[0],!0),g(n,Y),g(n,Q),g(Q,fe),g(Q,z),g(Q,ne);for(let Je=0;Je<et.length;Je+=1)et[Je]&&et[Je].m(ne,null);Ye(ne,r[7],!0),g(n,M),nt&&nt.m(n,null),g(n,me),st&&st.m(n,null),g(n,oe),g(n,we),g(we,ke),g(we,ht),g(we,G),_e(G,r[2]),g(we,xe),g(we,$e),g($e,Oe),g(Oe,qe),g(Oe,De),Ye(Oe,r[3],!0),g($e,St),g($e,Ze),g(n,lt),g(n,dt),g(dt,Xe),g(Xe,mt),g(mt,bt),g(mt,je),g(Xe,Be),g(Xe,vt),g(vt,xt),g(vt,tt),g(Xe,It),g(Xe,Ie),g(Xe,jt),g(Xe,ot),g(ot,Me),g(Me,I),g(I,ae),ae.checked=r[4],g(I,ve),g(I,Fe),g(I,F),g(I,ce),g(Me,ln),g(Me,At),g(dt,Zs),g(dt,qt),g(qt,Dt),g(n,er),g(n,on),Gn||(tr=[j(s,"click",r[20]),j(m,"input",r[24]),j(v,"click",r[18]),j(B,"change",r[25]),j(ne,"change",r[26]),j(G,"input",r[30]),j(Oe,"change",r[31]),j(ae,"change",r[32]),j(ae,"change",r[17]),j(qt,"click",r[19]),j(on,"click",r[21])],Gn=!0)},p(ue,Ne){if(Ne[0]&2&&m.value!==ue[1]&&_e(m,ue[1]),Ne[0]&64&&be(A,ue[6]),Ne[0]&32&&y!==(y="mt-2 text-white rounded-lg p-2 "+(ue[5]==="yellow"?"bg-yellow-600":"")+" "+(ue[5]==="red"?"bg-red-600":"")+" "+(ue[5]==="green"?"bg-green-600":""))&&p(S,"class",y),Ne[0]&1&&Ye(B,ue[0]),Ne[0]&256){Nt=ue[8];let Je;for(Je=0;Je<Nt.length;Je+=1){const nr=Wr(ue,Nt,Je);et[Je]?et[Je].p(nr,Ne):(et[Je]=Kr(nr),et[Je].c(),et[Je].m(ne,null))}for(;Je<et.length;Je+=1)et[Je].d(1);et.length=Nt.length}Ne[0]&384&&Ye(ne,ue[7]),Ne[0]&128&&(Z=ue[7].startsWith("tts")),Z?nt?nt.p(ue,Ne):(nt=Zr(ue),nt.c(),nt.m(n,me)):nt&&(nt.d(1),nt=null),Ne[0]&128&&(H=ue[7].startsWith("dall-e")),H?st?st.p(ue,Ne):(st=Xr(ue),st.c(),st.m(n,oe)):st&&(st.d(1),st=null),Ne[0]&4&&G.value!==ue[2]&&_e(G,ue[2]),Ne[0]&8&&Ye(Oe,ue[3]),Ne[0]&4096&&He!==(He=ue[12].toFixed(0)+"")&&be(je,He),Ne[0]&4096&&wt!==(wt=(ue[12]/1e3*.02).toFixed(2)+"")&&be(tt,wt),Ne[0]&16&&(ae.checked=ue[4])},i:N,o:N,d(ue){ue&&k(e),ft(et,ue),nt&&nt.d(),st&&st.d(),Gn=!1,Re(tr)}}}function $c(r,e,t){let n,s,i,l,o,a,c,u,f,d,h,m;ge(r,Ct,G=>t(34,n=G)),ge(r,rt,G=>t(22,s=G)),ge(r,Mt,G=>t(0,l=G)),ge(r,ze,G=>t(7,c=G)),ge(r,fn,G=>t(9,f=G)),ge(r,xn,G=>t(10,d=G)),ge(r,In,G=>t(11,h=G)),ge(r,Vt,G=>t(12,m=G));const b=Ut();let v=Se("");ge(r,v,G=>t(6,a=G));let w=Se("");ge(r,w,G=>t(5,o=G));let S=Se([]);ge(r,S,G=>t(23,i=G));let A=Se([]);ge(r,A,G=>t(8,u=G));let y=D(rt)||void 0||"",x="";rt.subscribe(G=>{x=G||void 0||"",t(1,y=x)});let R=n.role,C=n.type;rt.subscribe(G=>{localStorage.setItem("api_key",JSON.stringify(G))});let T=!1;mn.subscribe(G=>{t(4,T=G)}),en(async()=>{await L()});function B(){mn.set(T)}function V(){let G=D(Mt),xe=D(S),$e=[];G==="GPT"?$e=xe.filter(Oe=>Oe.id.includes("gpt")&&!Oe.id.includes("vision")):G==="GPT + Vision"?$e=xe.filter(Oe=>Oe.id.includes("vision")):G==="Dall-E"?$e=xe.filter(Oe=>Oe.id.includes("dall-e")):G==="TTS"&&($e=xe.filter(Oe=>Oe.id.includes("tts"))),A.set($e),$e.length>0&&(!D(ze)||!$e.some(Oe=>Oe.id===D(ze)))&&ze.set($e[0].id)}async function L(){const G=localStorage.getItem("selectedMode");if(Mt.set(G||"GPT"),x)await U(x);else{const xe=localStorage.getItem("models");xe&&S.set(JSON.parse(xe))}V()}async function J(){if(!y){w.set("yellow"),v.set("API key is missing.");return}try{const G=await fetch("https://api.openai.com/v1/models",{method:"GET",headers:{Authorization:`Bearer ${y}`,"Content-Type":"application/json"}});if(G.ok)w.set("green"),v.set("API connection succeeded."),Q(),await U(x),V();else throw new Error(`HTTP error! status: ${G.status}`)}catch(G){console.error("API connection failed:",G),w.set("red"),v.set("API connection failed.")}}async function U(G){if(!G){w.set("yellow"),console.log("showMessage",w),console.error("API key is missing.");return}try{const xe=await fetch("https://api.openai.com/v1/models",{method:"GET",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(!xe.ok)throw new Error(`HTTP error! status: ${xe.status}`);const Oe=(await xe.json()).data.sort((qe,De)=>qe.id.localeCompare(De.id));S.set(Oe),localStorage.setItem("models",JSON.stringify(Oe))}catch(xe){console.error("Failed to fetch models:",xe)}}function Y(){Vt.set(0)}function Q(){Ct.set({role:R,type:C}),rt.set(y),localStorage.setItem("selectedModel",D(ze)),localStorage.setItem("selectedVoice",D(fn)),localStorage.setItem("selectedMode",D(Mt)),b("settings-changed"),console.log("Settings saved.")}function fe(){$n.set(!1)}function z(){Q(),fe()}function ne(){y=this.value,t(1,y),t(22,s)}function M(){l=Pt(this),Mt.set(l)}function Z(){c=Pt(this),ze.set(c)}function me(){f=Pt(this),fn.set(f)}function H(){d=Pt(this),xn.set(d)}function oe(){h=Pt(this),In.set(h)}function we(){R=this.value,t(2,R)}function ke(){C=Pt(this),t(3,C)}function ht(){T=this.checked,t(4,T)}return r.$$.update=()=>{r.$$.dirty[0]&1&&V(),r.$$.dirty[0]&8388608&&V(),r.$$.dirty[0]&4194304&&t(1,y=s||void 0||"")},[l,y,R,C,T,o,a,c,u,f,d,h,m,v,w,S,A,B,J,Y,fe,z,s,i,ne,M,Z,me,H,oe,we,ke,ht]}class Rc extends le{constructor(e){super(),ie(this,e,$c,Cc,re,{},null,[-1,-1])}}function xc(r){let e,t,n,s,i,l,o,a,c,u,f,d,h,m;return{c(){e=_("div"),t=_("div"),n=_("div"),s=_("button"),i=_("img"),o=P(),a=_("h2"),a.textContent="Help & FAQ",c=P(),u=_("div"),u.innerHTML=`<h1 class="text-3xl font-bold mb-4">What is SmoothGPT?</h1> 
          <p class="mb-4">OpenAI offers ChatGPT Plus for a monthly subscription, which allows you to use their UI to converse with ChatGPT. However, this comes with usage limits, and the $20/mo fee is expensive. Alternatively, you can use the OpenAI API, which is much more affordable with a pay-as-you-go rate. But, the API is not end-user friendly! It&#39;s designed for developers who can build apps around it.</p> 
          <p class="mb-4"><strong>That&#39;s where SmoothGPT comes in!</strong> SmoothGPT provides a UI that is extremely similar to the ChatGPT official site.</p> 
  
          <h2 class="text-2xl font-bold mb-3">Key Features:</h2> 
          <ul class="list-disc list-inside mb-4"><li>Your API calls are safely made directly in the browser, not server-side. All data is stored in your browser cache or session.</li> 
              <li>Switch between GPT, Vision, Dall-E, and TTS models with shared conversation context.</li> 
              <li>Upload PDFs or images and ask the AI questions about their contents.</li> 
              <li>Copy or delete messages easily.</li> 
              <li>Edit messages to change the conversation.</li> 
              <li>Safely stop incoming messages.</li> 
              <li>Edit conversation titles.</li> 
              <li>It&#39;s absolutely free.</li></ul> 
  
          <div class="mb-1 mt-4"><a href="https://github.com/agambon/SmoothGPT" target="_blank" rel="noreferrer" class="text-blue-500 hover:text-blue-700">See the source code</a></div> 
          <div class="mb-1"><a href="https://platform.openai.com/api-keys" target="_blank" rel="noreferrer" class="text-blue-500 hover:text-blue-700">Get an API key</a></div> 
          <div class="mb-4"><a href="https://github.com/billmei/every-chatgpt-gui" target="_blank" rel="noreferrer" class="text-blue-500 hover:text-blue-700">Check out other API frontends</a></div> 
  
          <p class="mb-4"><strong>Note on data storage:</strong> If you browse away while a response is streaming in, you will miss that data. If you refresh your page, TTS MP3 files are lost, but conversations are maintained. Images generated by Dall-E are only available for 60 minutes. If you wipe your browser cache, ALL content is lost. You can download your session locally and restore it anytime.</p>`,f=P(),d=_("button"),d.textContent="Got it!",p(i,"class","icon-white w-8"),p(i,"alt","Close"),Ue(i.src,l=Fn)||p(i,"src",l),p(s,"class","absolute top-0 right-0 mt-2 mr-2 text-gray-500 hover:text-gray-600"),p(a,"class","text-xl font-bold mb-4"),p(u,"class","text-left"),p(d,"class","bg-good hover:bg-good2 transition-colors duration-200 text-white py-2 px-4 mt-4 rounded"),p(n,"class","bg-primary text-white rounded-lg shadow-xl p-8 relative max-w-lg mx-4"),p(t,"class","flex items-center justify-center min-h-screen"),p(e,"class","fixed z-50 inset-0 overflow-y-auto animate-fade-in")},m(b,v){O(b,e,v),g(e,t),g(t,n),g(n,s),g(s,i),g(n,o),g(n,a),g(n,c),g(n,u),g(n,f),g(n,d),h||(m=[j(s,"click",r[0]),j(d,"click",r[0])],h=!0)},p:N,i:N,o:N,d(b){b&&k(e),h=!1,Re(m)}}}function Ic(r){function e(){Rn.set(!1)}return[e]}class jc extends le{constructor(e){super(),ie(this,e,Ic,xc,re,{})}}function ei(r,e,t){const n=r.slice();return n[35]=e[t],n}function ti(r,e,t){const n=r.slice();return n[35]=e[t],n}function ni(r,e,t){const n=r.slice();return n[40]=e[t],n}function si(r,e,t){const n=r.slice();return n[35]=e[t],n}function ri(r){let e,t=r[35]+"",n,s;return{c(){e=_("option"),n=X(t),e.__value=s=r[35],e.value=e.__value},m(i,l){O(i,e,l),g(e,n)},p(i,l){l[0]&4&&t!==(t=i[35]+"")&&be(n,t),l[0]&4&&s!==(s=i[35])&&(e.__value=s,e.value=e.__value)},d(i){i&&k(e)}}}function ii(r,e){let t,n,s,i=e[40].title+"",l,o,a,c,u,f,d,h,m=e[40].description+"",b,v,w,S=(e[40].category||"No category")+"",A,y,x,R;function C(){return e[19](e[40])}function T(){return e[20](e[40])}function B(){return e[21](e[40])}return{key:r,first:null,c(){t=_("button"),n=_("div"),s=_("h3"),l=X(i),o=P(),a=_("div"),c=_("button"),c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>',u=P(),f=_("button"),f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>',d=P(),h=_("p"),b=X(m),v=P(),w=_("span"),A=X(S),y=P(),p(s,"class","prompt-title svelte-1qn05wv"),p(c,"class","action-button edit-button svelte-1qn05wv"),p(f,"class","action-button delete-button svelte-1qn05wv"),p(a,"class","prompt-actions svelte-1qn05wv"),p(n,"class","prompt-header svelte-1qn05wv"),p(h,"class","prompt-description svelte-1qn05wv"),p(w,"class","category-tag svelte-1qn05wv"),p(t,"class","prompt-item w-full text-left svelte-1qn05wv"),this.first=t},m(V,L){O(V,t,L),g(t,n),g(n,s),g(s,l),g(n,o),g(n,a),g(a,c),g(a,u),g(a,f),g(t,d),g(t,h),g(h,b),g(t,v),g(t,w),g(w,A),g(t,y),x||(R=[j(c,"click",Xt(C)),j(f,"click",Xt(T)),j(t,"click",B)],x=!0)},p(V,L){e=V,L[0]&128&&i!==(i=e[40].title+"")&&be(l,i),L[0]&128&&m!==(m=e[40].description+"")&&be(b,m),L[0]&128&&S!==(S=(e[40].category||"No category")+"")&&be(A,S)},d(V){V&&k(t),x=!1,Re(R)}}}function li(r){let e,t,n,s=r[6].id?"Edit Prompt":"Create New Prompt",i,l,o,a,c,u,f,d,h,m,b,v,w,S,A,y,x,R=r[2],C=[];for(let T=0;T<R.length;T+=1)C[T]=oi(ti(r,R,T));return{c(){e=_("div"),t=_("div"),n=_("h2"),i=X(s),l=P(),o=_("input"),a=P(),c=_("textarea"),u=P(),f=_("textarea"),d=P(),h=_("select"),m=_("option"),m.textContent="Select Category";for(let T=0;T<C.length;T+=1)C[T].c();b=P(),v=_("div"),w=_("button"),w.textContent="Save Prompt",S=P(),A=_("button"),A.textContent="Cancel",p(o,"type","text"),p(o,"placeholder","Prompt Title"),p(o,"class","input-field svelte-1qn05wv"),p(c,"placeholder","Description"),p(c,"class","input-field svelte-1qn05wv"),p(f,"placeholder","Prompt Text"),p(f,"class","input-field svelte-1qn05wv"),m.__value="",m.value=m.__value,p(h,"class","input-field svelte-1qn05wv"),r[6].category===void 0&&ut(()=>r[27].call(h)),p(w,"class","primary-button svelte-1qn05wv"),p(A,"class","secondary-button svelte-1qn05wv"),p(v,"class","modal-actions svelte-1qn05wv"),p(t,"class","modal-content svelte-1qn05wv"),p(e,"class","modal svelte-1qn05wv")},m(T,B){O(T,e,B),g(e,t),g(t,n),g(n,i),g(t,l),g(t,o),_e(o,r[6].title),g(t,a),g(t,c),_e(c,r[6].description),g(t,u),g(t,f),_e(f,r[6].text),g(t,d),g(t,h),g(h,m);for(let V=0;V<C.length;V+=1)C[V]&&C[V].m(h,null);Ye(h,r[6].category,!0),g(t,b),g(t,v),g(v,w),g(v,S),g(v,A),y||(x=[j(o,"input",r[24]),j(c,"input",r[25]),j(f,"input",r[26]),j(h,"change",r[27]),j(w,"click",r[10]),j(A,"click",r[28])],y=!0)},p(T,B){if(B[0]&64&&s!==(s=T[6].id?"Edit Prompt":"Create New Prompt")&&be(i,s),B[0]&68&&o.value!==T[6].title&&_e(o,T[6].title),B[0]&68&&_e(c,T[6].description),B[0]&68&&_e(f,T[6].text),B[0]&4){R=T[2];let V;for(V=0;V<R.length;V+=1){const L=ti(T,R,V);C[V]?C[V].p(L,B):(C[V]=oi(L),C[V].c(),C[V].m(h,null))}for(;V<C.length;V+=1)C[V].d(1);C.length=R.length}B[0]&68&&Ye(h,T[6].category)},d(T){T&&k(e),ft(C,T),y=!1,Re(x)}}}function oi(r){let e,t=r[35]+"",n,s;return{c(){e=_("option"),n=X(t),e.__value=s=r[35],e.value=e.__value},m(i,l){O(i,e,l),g(e,n)},p(i,l){l[0]&4&&t!==(t=i[35]+"")&&be(n,t),l[0]&4&&s!==(s=i[35])&&(e.__value=s,e.value=e.__value)},d(i){i&&k(e)}}}function ai(r){let e,t,n,s,i,l,o,a,c,u,f,d,h,m,b=r[2],v=[];for(let w=0;w<b.length;w+=1)v[w]=ci(ei(r,b,w));return{c(){e=_("div"),t=_("div"),n=_("h2"),n.textContent="Manage Categories",s=P(),i=_("ul");for(let w=0;w<v.length;w+=1)v[w].c();l=P(),o=_("div"),a=_("input"),c=P(),u=_("button"),u.textContent="Add Category",f=P(),d=_("button"),d.textContent="Close",p(i,"class","category-list svelte-1qn05wv"),p(a,"type","text"),p(a,"placeholder","New Category Name"),p(a,"class","input-field svelte-1qn05wv"),p(u,"class","primary-button svelte-1qn05wv"),p(o,"class","add-category svelte-1qn05wv"),p(d,"class","secondary-button svelte-1qn05wv"),p(t,"class","modal-content svelte-1qn05wv"),p(e,"class","modal svelte-1qn05wv")},m(w,S){O(w,e,S),g(e,t),g(t,n),g(t,s),g(t,i);for(let A=0;A<v.length;A+=1)v[A]&&v[A].m(i,null);g(t,l),g(t,o),g(o,a),_e(a,r[5]),g(o,c),g(o,u),g(t,f),g(t,d),h||(m=[j(a,"input",r[30]),j(u,"click",r[31]),j(d,"click",r[32])],h=!0)},p(w,S){if(S[0]&32772){b=w[2];let A;for(A=0;A<b.length;A+=1){const y=ei(w,b,A);v[A]?v[A].p(y,S):(v[A]=ci(y),v[A].c(),v[A].m(i,null))}for(;A<v.length;A+=1)v[A].d(1);v.length=b.length}S[0]&32&&a.value!==w[5]&&_e(a,w[5])},d(w){w&&k(e),ft(v,w),h=!1,Re(m)}}}function ci(r){let e,t=r[35]+"",n,s,i,l,o,a;function c(){return r[29](r[35])}return{c(){e=_("li"),n=X(t),s=P(),i=_("button"),i.textContent="Delete",l=P(),p(i,"class","delete-button svelte-1qn05wv"),p(e,"class","category-item svelte-1qn05wv")},m(u,f){O(u,e,f),g(e,n),g(e,s),g(e,i),g(e,l),o||(a=j(i,"click",c),o=!0)},p(u,f){r=u,f[0]&4&&t!==(t=r[35]+"")&&be(n,t)},d(u){u&&k(e),o=!1,a()}}}function Mc(r){let e,t,n,s,i,l,o,a,c,u,f=[],d=new Map,h,m,b,v,w,S,A,y,x,R,C=r[2],T=[];for(let U=0;U<C.length;U+=1)T[U]=ri(si(r,C,U));let B=r[7];const V=U=>U[40].id;for(let U=0;U<B.length;U+=1){let Y=ni(r,B,U),Q=V(Y);d.set(Q,f[U]=ii(Q,Y))}let L=r[3]&&li(r),J=r[4]&&ai(r);return{c(){e=_("div"),t=_("div"),n=_("div"),s=_("input"),i=P(),l=_("div"),o=_("select"),a=_("option"),a.textContent="No category selected";for(let U=0;U<T.length;U+=1)T[U].c();c=P(),u=_("div");for(let U=0;U<f.length;U+=1)f[U].c();h=P(),m=_("div"),b=_("div"),v=_("button"),v.textContent="+ Create",w=P(),S=_("button"),S.textContent="Manage",A=P(),L&&L.c(),y=P(),J&&J.c(),p(s,"type","text"),p(s,"placeholder","Search Prompt Library..."),p(s,"class","search-input mb-2 svelte-1qn05wv"),p(n,"class","search-bar mb-4 svelte-1qn05wv"),a.__value="",a.value=a.__value,p(o,"class","category-select w-full svelte-1qn05wv"),r[1]===void 0&&ut(()=>r[18].call(o)),p(l,"class","category-select-container mb-4"),p(u,"class","prompts-list flex-grow overflow-y-auto svelte-1qn05wv"),p(v,"class","primary-button svelte-1qn05wv"),p(S,"class","secondary-button svelte-1qn05wv"),p(b,"class","library-actions svelte-1qn05wv"),p(m,"class","border-t border-gray-600 mt-4 pt-4"),p(t,"class","flex flex-col h-full w-full"),p(e,"class","prompt-library h-full flex flex-col bg-secondary text-white/90 w-full svelte-1qn05wv")},m(U,Y){O(U,e,Y),g(e,t),g(t,n),g(n,s),_e(s,r[0]),g(t,i),g(t,l),g(l,o),g(o,a);for(let Q=0;Q<T.length;Q+=1)T[Q]&&T[Q].m(o,null);Ye(o,r[1],!0),g(t,c),g(t,u);for(let Q=0;Q<f.length;Q+=1)f[Q]&&f[Q].m(u,null);g(t,h),g(t,m),g(m,b),g(b,v),g(b,w),g(b,S),g(e,A),L&&L.m(e,null),g(e,y),J&&J.m(e,null),x||(R=[j(s,"input",r[17]),j(o,"change",r[18]),j(v,"click",r[22]),j(S,"click",r[23])],x=!0)},p(U,Y){if(Y[0]&1&&s.value!==U[0]&&_e(s,U[0]),Y[0]&4){C=U[2];let Q;for(Q=0;Q<C.length;Q+=1){const fe=si(U,C,Q);T[Q]?T[Q].p(fe,Y):(T[Q]=ri(fe),T[Q].c(),T[Q].m(o,null))}for(;Q<T.length;Q+=1)T[Q].d(1);T.length=C.length}Y[0]&6&&Ye(o,U[1]),Y[0]&14464&&(B=U[7],f=il(f,Y,V,1,U,B,d,u,rl,ii,null,ni)),U[3]?L?L.p(U,Y):(L=li(U),L.c(),L.m(e,y)):L&&(L.d(1),L=null),U[4]?J?J.p(U,Y):(J=ai(U),J.c(),J.m(e,null)):J&&(J.d(1),J=null)},i:N,o:N,d(U){U&&k(e),ft(T,U);for(let Y=0;Y<f.length;Y+=1)f[Y].d();L&&L.d(),J&&J.d(),x=!1,Re(R)}}}function Fc(r,e,t){let n,s,i;const l=Ut();let o=Se([{id:"1",title:"CaseBrief+",description:"Generate a comprehensive case brief",text:`You are an AI legal assistant specializing in creating concise case briefs. Your task is to analyze the attached case PDF and generate a simplified, shortened case brief following this structure:

**Case Brief from PromptComposer+**
[Case Name] 
([Citation])

Rule of Law:
[Concisely state the main legal principle or rule established by the case]

Facts:
- [List key facts of the case in bullet points]
- [Focus on the most relevant details]
- [Include procedural history if significant]

Issue:
[State the primary legal question(s) addressed by the court]

Opinions:
[Majority Opinion - Author]
[Summarize the court's decision and reasoning in 2-3 sentences]

[If applicable, include concurring or dissenting opinions in a similar format]

Analysis:
[Provide a brief analysis of the case's significance, impact, or implications in 2-3 sentences]

When creating the brief:
1. Use clear, concise language
2. Focus on the most important aspects of the case
3. Avoid legal jargon where possible, or explain it if necessary
4. Ensure accuracy in representing the court's decision and reasoning
5. Keep the entire brief to approximately 300-400 words

Please read the attached PDF carefully and create a case brief following this format. If any section is not applicable or information is not available, you may omit it or state that it's not provided in the source material.`,category:"Legal"},{id:"2",title:"Hallucination+",description:"Explore creative and imaginative scenarios",text:`You are an AI accuracy assessor specializing in detecting and evaluating potential hallucinations in AI-generated content. Your task is to analyze the last response in the chat and provide a "Hallucination Score" along with an explanation of your assessment.

First, provide a brief explanation of AI hallucinations:

**What is an AI Hallucination?**
An AI hallucination occurs when an AI model generates information that is not grounded in its training data or the given context. This can result in outputs that are incorrect, inconsistent, or entirely fabricated. Hallucinations can arise due to various factors:

1. Limitations in training data
2. Overfitting or underfitting of the model
3. Misinterpretation of context or prompts
4. Inherent biases in the model's architecture
5. Attempts to extrapolate beyond the model's knowledge base
6. Errors in the model's internal representations or calculations

Now, assess the last response in the chat and provide a Hallucination Score using the following format:

**Hallucination Score: [X] / 10**
(0 = Highly reliable, explicitly supported by citations or source documents
10 = Extremely unreliable or patently false/hallucinated information)

Explanation of Score:
[Provide a detailed explanation of your score, considering the following factors:]

1. Factual Accuracy: Assess the correctness of any stated facts or claims.
2. Consistency: Evaluate internal consistency and coherence with previous statements.
3. Specificity: Consider the level of detail provided and whether it's appropriate given the context.
4. Source Attribution: Note any citations or references to external sources.
5. Plausibility: Judge whether the information aligns with general knowledge or seems improbable.
6. Relevance: Determine if the response directly addresses the query or context.
7. Overconfidence: Identify any unsupported assertions or overly certain statements.

Potential Hallucination Indicators:
[List any specific phrases, claims, or elements that might indicate a hallucination]

Reliability Assessment:
[Provide an overall assessment of the response's reliability, highlighting strengths and weaknesses]

Recommendations:
[Suggest ways to verify or improve the reliability of the information, if applicable]

Additional Considerations:
- Be aware that even responses that seem plausible may contain subtle inaccuracies.
- Consider the complexity of the topic and the AI's potential limitations in that area.
- Remember that a low hallucination score doesn't guarantee 100% accuracy; it merely indicates a higher likelihood of reliability.
- When in doubt, always recommend verifying information from authoritative sources.`,category:"Creative"},{id:"3",title:"Research+",description:"Conduct in-depth research on a topic",text:`You are an AI legal research assistant with expertise in various areas of law. Your task is to analyze the conversation history or the attached case and generate a list of insightful research questions to guide further investigation. Follow these guidelines:

1. Carefully review the provided information (conversation history or attached case).
2. Identify key legal issues, concepts, and potential areas for deeper exploration.
3. Generate 5-10 thought-provoking research questions that:
   a. Address gaps in the current analysis
   b. Explore related legal doctrines or principles
   c. Consider potential counterarguments or alternative interpretations
   d. Investigate the broader implications or applications of the case
   e. Examine historical context or future trends related to the legal issues

4. For each question, provide a brief explanation (1-2 sentences) of why it's relevant or important.
5. Organize the questions in a logical order, starting with foundational issues and progressing to more complex or speculative inquiries.

Output your response in the following format:

**Legal Research Questions from PromptComposer+**

1. [Research Question 1]
   - Relevance: [Brief explanation of the question's importance]

2. [Research Question 2]
   - Relevance: [Brief explanation of the question's importance]

[Continue with additional questions...]

Conclusion:
[Provide a brief summary (2-3 sentences) of the main themes or areas of focus in the research questions, and how they might contribute to a deeper understanding of the legal issues at hand.]`,category:"Academic"}]);ge(r,o,H=>t(16,s=H));let a=Se(["Legal","Creative","Academic"]);ge(r,a,H=>t(2,i=H));let c="",u="",f=!1,d=!1,h="",m={id:"",title:"",description:"",text:"",category:""};en(()=>{const H=localStorage.getItem("prompts"),oe=localStorage.getItem("categories");H&&o.set(JSON.parse(H)),oe&&a.set(JSON.parse(oe))});function b(){t(6,m.id=Date.now().toString(),m),o.update(H=>[...H,m]),S(),t(3,f=!1)}function v(H){t(6,m={...H}),t(3,f=!0)}function w(H){o.update(oe=>oe.filter(we=>we.id!==H))}function S(){t(6,m={id:"",title:"",description:"",text:"",category:""})}function A(H){l("use-prompt",{text:H})}function y(H){H.trim()&&(a.update(oe=>[...oe,H.trim()]),t(5,h=""))}function x(H){a.update(oe=>oe.filter(we=>we!==H)),o.update(oe=>oe.map(we=>we.category===H?{...we,category:""}:we))}function R(){c=this.value,t(0,c)}function C(){u=Pt(this),t(1,u)}const T=H=>v(H),B=H=>w(H.id),V=H=>A(H.text),L=()=>t(3,f=!0),J=()=>t(4,d=!0);function U(){m.title=this.value,t(6,m)}function Y(){m.description=this.value,t(6,m)}function Q(){m.text=this.value,t(6,m)}function fe(){m.category=Pt(this),t(6,m)}const z=()=>t(3,f=!1),ne=H=>x(H);function M(){h=this.value,t(5,h)}const Z=()=>y(h),me=()=>t(4,d=!1);return r.$$.update=()=>{r.$$.dirty[0]&65540&&(localStorage.setItem("prompts",JSON.stringify(s)),localStorage.setItem("categories",JSON.stringify(i))),r.$$.dirty[0]&65539&&t(7,n=s.filter(H=>H.title.toLowerCase().includes(c.toLowerCase())&&(u===""||H.category===u)))},[c,u,i,f,d,h,m,n,o,a,b,v,w,A,y,x,s,R,C,T,B,V,L,J,U,Y,Q,fe,z,ne,M,Z,me]}class Vc extends le{constructor(e){super(),ie(this,e,Fc,Mc,re,{},null,[-1,-1])}}function ui(r,e,t){const n=r.slice();return n[11]=e[t],n}function fi(r,e){let t,n,s=e[11].name+"",i,l,o,a=e[11].template+"",c,u,f,d,h,m,b,v,w;function S(){return e[8](e[11])}function A(){return e[9](e[11])}return{key:r,first:null,c(){t=_("div"),n=_("h4"),i=X(s),l=P(),o=_("p"),c=X(a),u=P(),f=_("div"),d=_("button"),d.textContent="Use",h=P(),m=_("button"),m.textContent="Delete",b=P(),p(n,"class","text-lg font-semibold"),p(o,"class","mb-2"),p(d,"class","bg-green-500 hover:bg-green-600 text-white font-bold py-1 px-2 rounded text-sm"),p(m,"class","bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-2 rounded text-sm"),p(f,"class","flex justify-between"),p(t,"class","bg-primary p-4 rounded mb-4"),this.first=t},m(y,x){O(y,t,x),g(t,n),g(n,i),g(t,l),g(t,o),g(o,c),g(t,u),g(t,f),g(f,d),g(f,h),g(f,m),g(t,b),v||(w=[j(d,"click",S),j(m,"click",A)],v=!0)},p(y,x){e=y,x&4&&s!==(s=e[11].name+"")&&be(i,s),x&4&&a!==(a=e[11].template+"")&&be(c,a)},d(y){y&&k(t),v=!1,Re(w)}}}function Uc(r){let e,t,n,s,i,l,o,a,c,u,f,d,h,m,b,v=[],w=new Map,S,A,y=r[2];const x=R=>R[11].id;for(let R=0;R<y.length;R+=1){let C=ui(r,y,R),T=x(C);w.set(T,v[R]=fi(T,C))}return{c(){e=_("div"),t=_("h2"),t.textContent="Variable Prompt Templates",n=P(),s=_("div"),i=_("h3"),i.textContent="Add New Template",l=P(),o=_("input"),a=P(),c=_("textarea"),u=P(),f=_("button"),f.textContent="Add Template",d=P(),h=_("div"),m=_("h3"),m.textContent="Saved Templates",b=P();for(let R=0;R<v.length;R+=1)v[R].c();p(t,"class","text-2xl font-bold mb-4"),p(i,"class","text-xl font-semibold mb-2"),p(o,"type","text"),p(o,"placeholder","Template Name"),p(o,"class","w-full p-2 mb-2 bg-primary text-black rounded"),p(c,"placeholder","Template Content (Use ::VARIABLE:: for placeholders)"),p(c,"class","w-full p-2 mb-2 bg-primary text-black rounded h-32"),p(f,"class","bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded"),p(s,"class","mb-6"),p(m,"class","text-xl font-semibold mb-2"),p(e,"class","p-4 bg-secondary text-white h-full overflow-y-auto")},m(R,C){O(R,e,C),g(e,t),g(e,n),g(e,s),g(s,i),g(s,l),g(s,o),_e(o,r[0]),g(s,a),g(s,c),_e(c,r[1]),g(s,u),g(s,f),g(e,d),g(e,h),g(h,m),g(h,b);for(let T=0;T<v.length;T+=1)v[T]&&v[T].m(h,null);S||(A=[j(o,"input",r[6]),j(c,"input",r[7]),j(f,"click",r[3])],S=!0)},p(R,[C]){C&1&&o.value!==R[0]&&_e(o,R[0]),C&2&&_e(c,R[1]),C&52&&(y=R[2],v=il(v,C,x,1,R,y,w,h,rl,fi,null,ui))},i:N,o:N,d(R){R&&k(e);for(let C=0;C<v.length;C+=1)v[C].d();S=!1,Re(A)}}}function Bc(r,e,t){let n;ge(r,Sn,m=>t(2,n=m));const s=Ut();let i="",l="";function o(){if(i&&l){const m=[...l.matchAll(/::(\w+)::/g)].map(v=>v[1]),b={id:Date.now().toString(),name:i,template:l,variables:m};Sn.update(v=>[...v,b]),t(0,i=""),t(1,l="")}}function a(m){s("use-variable-prompt",{template:m.template,variables:m.variables})}function c(m){Sn.update(b=>b.filter(v=>v.id!==m))}function u(){i=this.value,t(0,i)}function f(){l=this.value,t(1,l)}return[i,l,n,o,a,c,u,f,m=>a(m),m=>c(m.id)]}class Lc extends le{constructor(e){super(),ie(this,e,Bc,Uc,re,{})}}function di(r,{delay:e=0,duration:t=400,easing:n=Yi}={}){const s=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*s}`}}function qc(r){let e;return{c(){e=X("Mutate")},m(t,n){O(t,e,n)},d(t){t&&k(e)}}}function Dc(r){let e,t,n,s;return{c(){e=wn("svg"),t=wn("circle"),n=wn("path"),s=X(`
          Mutating...`),p(t,"class","opacity-25"),p(t,"cx","12"),p(t,"cy","12"),p(t,"r","10"),p(t,"stroke","currentColor"),p(t,"stroke-width","4"),p(n,"class","opacity-75"),p(n,"fill","currentColor"),p(n,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),p(e,"class","animate-spin -ml-1 mr-3 h-5 w-5 text-white"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24")},m(i,l){O(i,e,l),g(e,t),g(e,n),O(i,s,l)},d(i){i&&k(e),i&&k(s)}}}function Nc(r){let e,t,n,s,i,l,o,a,c,u,f,d,h,m,b,v,w,S,A,y,x,R,C,T;function B(J,U){return J[2]?Dc:qc}let V=B(r),L=V(r);return{c(){e=_("div"),t=_("div"),n=_("h2"),n.textContent="Mutate Prompt",s=P(),i=_("div"),l=_("label"),l.textContent="Current Prompt:",o=P(),a=_("div"),c=X(r[0]),u=P(),f=_("div"),d=_("label"),d.textContent="Enter instructions to mutate the prompt:",h=P(),m=_("textarea"),b=P(),v=_("div"),w=_("button"),S=X("Cancel"),A=P(),y=_("button"),L.c(),p(n,"class","text-2xl font-bold mb-6 text-center"),p(l,"for","currentPrompt"),p(l,"class","block text-sm font-medium mb-2"),p(a,"id","currentPrompt"),p(a,"class","w-full p-3 border border-gray-600 rounded-md bg-gray-700 text-gray-200 min-h-[80px] max-h-[150px] overflow-y-auto"),p(i,"class","mb-6"),p(d,"for","mutationInstructions"),p(d,"class","block text-sm font-medium mb-2"),p(m,"id","mutationInstructions"),p(m,"class","w-full p-3 border border-gray-600 rounded-md bg-gray-700 text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-transparent"),p(m,"rows","4"),p(m,"placeholder","e.g., Make it more formal, add examples, etc."),p(f,"class","mb-6"),p(w,"class","px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 transition-colors duration-200"),w.disabled=r[2],p(y,"class","px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-500 transition-colors duration-200 flex items-center justify-center"),y.disabled=r[2],p(v,"class","flex justify-end space-x-4"),p(t,"class","bg-gray-800 p-8 rounded-xl shadow-2xl max-w-2xl w-full text-white"),p(e,"class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50")},m(J,U){O(J,e,U),g(e,t),g(t,n),g(t,s),g(t,i),g(i,l),g(i,o),g(i,a),g(a,c),g(t,u),g(t,f),g(f,d),g(f,h),g(f,m),_e(m,r[1]),g(t,b),g(t,v),g(v,w),g(w,S),g(v,A),g(v,y),L.m(y,null),R=!0,C||(T=[j(m,"input",r[5]),j(w,"click",r[4]),j(y,"click",r[3])],C=!0)},p(J,[U]){(!R||U&1)&&be(c,J[0]),U&2&&_e(m,J[1]),(!R||U&4)&&(w.disabled=J[2]),V!==(V=B(J))&&(L.d(1),L=V(J),L&&(L.c(),L.m(y,null))),(!R||U&4)&&(y.disabled=J[2])},i(J){R||(ut(()=>{R&&(x||(x=lr(e,di,{duration:200},!0)),x.run(1))}),R=!0)},o(J){x||(x=lr(e,di,{duration:200},!1)),x.run(0),R=!1},d(J){J&&k(e),L.d(),J&&x&&x.end(),C=!1,Re(T)}}}function zc(r,e,t){let{currentPrompt:n}=e,s="",i=!1;const l=Ut();async function o(){t(2,i=!0),l("mutate",{currentPrompt:n,mutationInstructions:s})}function a(){l("cancel")}function c(){s=this.value,t(1,s)}return r.$$set=u=>{"currentPrompt"in u&&t(0,n=u.currentPrompt)},[n,s,i,o,a,c]}class Hc extends le{constructor(e){super(),ie(this,e,zc,Nc,re,{currentPrompt:0})}}function Jc(){const r=console.warn;console.warn=e=>{e.includes("unknown prop")||e.includes("unexpected slot")||r(e)},en(()=>{console.warn=r})}function hi(r,e,t){const n=r.slice();return n[18]=e[t],n}function pi(r,e,t){const n=r.slice();return n[18]=e[t],n}function mi(r,e,t){const n=r.slice();return n[10]=e[t],n}function gi(r,e,t){const n=r.slice();return n[13]=e[t],n[15]=t,n}function _i(r,e,t){const n=r.slice();return n[16]=e[t],n[15]=t,n}function bi(r,e,t){const n=r.slice();return n[7]=e[t],n}function Gc(r){let e,t,n,s;const i=[Kc,Wc,Yc],l=[];function o(a,c){return a[0]==="table"?0:a[0]==="list"?1:2}return e=o(r),t=l[e]=i[e](r),{c(){t.c(),n=ye()},m(a,c){l[e].m(a,c),O(a,n,c),s=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(de(),$(l[u],1,1,()=>{l[u]=null}),he(),t=l[e],t?t.p(a,c):(t=l[e]=i[e](a),t.c()),E(t,1),t.m(n.parentNode,n))},i(a){s||(E(t),s=!0)},o(a){$(t),s=!1},d(a){l[e].d(a),a&&k(n)}}}function Qc(r){let e,t,n=r[1],s=[];for(let l=0;l<n.length;l+=1)s[l]=Si(bi(r,n,l));const i=l=>$(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=ye()},m(l,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,o);O(l,e,o),t=!0},p(l,o){if(o&34){n=l[1];let a;for(a=0;a<n.length;a+=1){const c=bi(l,n,a);s[a]?(s[a].p(c,o),E(s[a],1)):(s[a]=Si(c),s[a].c(),E(s[a],1),s[a].m(e.parentNode,e))}for(de(),a=n.length;a<s.length;a+=1)i(a);he()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)E(s[o]);t=!0}},o(l){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)$(s[o]);t=!1},d(l){ft(s,l),l&&k(e)}}}function Yc(r){let e,t,n;const s=[r[6]];var i=r[5][r[0]];function l(o){let a={$$slots:{default:[eu]},$$scope:{ctx:o}};for(let c=0;c<s.length;c+=1)a=kt(a,s[c]);return{props:a}}return i&&(e=Ve(i,l(r))),{c(){e&&se(e.$$.fragment),t=ye()},m(o,a){e&&ee(e,o,a),O(o,t,a),n=!0},p(o,a){const c=a&64?sn(s,[rn(o[6])]):{};if(a&8388706&&(c.$$scope={dirty:a,ctx:o}),a&33&&i!==(i=o[5][o[0]])){if(e){de();const u=e;$(u.$$.fragment,1,0,()=>{te(u,1)}),he()}i?(e=Ve(i,l(o)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(o){n||(e&&E(e.$$.fragment,o),n=!0)},o(o){e&&$(e.$$.fragment,o),n=!1},d(o){o&&k(t),e&&te(e,o)}}}function Wc(r){let e,t,n,s;const i=[nu,tu],l=[];function o(a,c){return a[4]?0:1}return e=o(r),t=l[e]=i[e](r),{c(){t.c(),n=ye()},m(a,c){l[e].m(a,c),O(a,n,c),s=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(de(),$(l[u],1,1,()=>{l[u]=null}),he(),t=l[e],t?t.p(a,c):(t=l[e]=i[e](a),t.c()),E(t,1),t.m(n.parentNode,n))},i(a){s||(E(t),s=!0)},o(a){$(t),s=!1},d(a){l[e].d(a),a&&k(n)}}}function Kc(r){let e,t,n;var s=r[5].table;function i(l){return{props:{$$slots:{default:[hu]},$$scope:{ctx:l}}}}return s&&(e=Ve(s,i(r))),{c(){e&&se(e.$$.fragment),t=ye()},m(l,o){e&&ee(e,l,o),O(l,t,o),n=!0},p(l,o){const a={};if(o&8388716&&(a.$$scope={dirty:o,ctx:l}),o&32&&s!==(s=l[5].table)){if(e){de();const c=e;$(c.$$.fragment,1,0,()=>{te(c,1)}),he()}s?(e=Ve(s,i(l)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(l){n||(e&&E(e.$$.fragment,l),n=!0)},o(l){e&&$(e.$$.fragment,l),n=!1},d(l){l&&k(t),e&&te(e,l)}}}function Zc(r){let e=r[6].raw+"",t;return{c(){t=X(e)},m(n,s){O(n,t,s)},p(n,s){s&64&&e!==(e=n[6].raw+"")&&be(t,e)},i:N,o:N,d(n){n&&k(t)}}}function Xc(r){let e,t;return e=new Bt({props:{tokens:r[1],renderers:r[5]}}),{c(){se(e.$$.fragment)},m(n,s){ee(e,n,s),t=!0},p(n,s){const i={};s&2&&(i.tokens=n[1]),s&32&&(i.renderers=n[5]),e.$set(i)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){te(e,n)}}}function eu(r){let e,t,n,s;const i=[Xc,Zc],l=[];function o(a,c){return a[1]?0:1}return e=o(r),t=l[e]=i[e](r),{c(){t.c(),n=ye()},m(a,c){l[e].m(a,c),O(a,n,c),s=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(de(),$(l[u],1,1,()=>{l[u]=null}),he(),t=l[e],t?t.p(a,c):(t=l[e]=i[e](a),t.c()),E(t,1),t.m(n.parentNode,n))},i(a){s||(E(t),s=!0)},o(a){$(t),s=!1},d(a){l[e].d(a),a&&k(n)}}}function tu(r){let e,t,n;const s=[{ordered:r[4]},r[6]];var i=r[5].list;function l(o){let a={$$slots:{default:[ru]},$$scope:{ctx:o}};for(let c=0;c<s.length;c+=1)a=kt(a,s[c]);return{props:a}}return i&&(e=Ve(i,l(r))),{c(){e&&se(e.$$.fragment),t=ye()},m(o,a){e&&ee(e,o,a),O(o,t,a),n=!0},p(o,a){const c=a&80?sn(s,[a&16&&{ordered:o[4]},a&64&&rn(o[6])]):{};if(a&8388704&&(c.$$scope={dirty:a,ctx:o}),a&32&&i!==(i=o[5].list)){if(e){de();const u=e;$(u.$$.fragment,1,0,()=>{te(u,1)}),he()}i?(e=Ve(i,l(o)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(o){n||(e&&E(e.$$.fragment,o),n=!0)},o(o){e&&$(e.$$.fragment,o),n=!1},d(o){o&&k(t),e&&te(e,o)}}}function nu(r){let e,t,n;const s=[{ordered:r[4]},r[6]];var i=r[5].list;function l(o){let a={$$slots:{default:[lu]},$$scope:{ctx:o}};for(let c=0;c<s.length;c+=1)a=kt(a,s[c]);return{props:a}}return i&&(e=Ve(i,l(r))),{c(){e&&se(e.$$.fragment),t=ye()},m(o,a){e&&ee(e,o,a),O(o,t,a),n=!0},p(o,a){const c=a&80?sn(s,[a&16&&{ordered:o[4]},a&64&&rn(o[6])]):{};if(a&8388704&&(c.$$scope={dirty:a,ctx:o}),a&32&&i!==(i=o[5].list)){if(e){de();const u=e;$(u.$$.fragment,1,0,()=>{te(u,1)}),he()}i?(e=Ve(i,l(o)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(o){n||(e&&E(e.$$.fragment,o),n=!0)},o(o){e&&$(e.$$.fragment,o),n=!1},d(o){o&&k(t),e&&te(e,o)}}}function su(r){let e,t,n;return e=new Bt({props:{tokens:r[18].tokens,renderers:r[5]}}),{c(){se(e.$$.fragment),t=P()},m(s,i){ee(e,s,i),O(s,t,i),n=!0},p(s,i){const l={};i&64&&(l.tokens=s[18].tokens),i&32&&(l.renderers=s[5]),e.$set(l)},i(s){n||(E(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){te(e,s),s&&k(t)}}}function vi(r){let e,t,n;const s=[r[18]];var i=r[5].unorderedlistitem||r[5].listitem;function l(o){let a={$$slots:{default:[su]},$$scope:{ctx:o}};for(let c=0;c<s.length;c+=1)a=kt(a,s[c]);return{props:a}}return i&&(e=Ve(i,l(r))),{c(){e&&se(e.$$.fragment),t=ye()},m(o,a){e&&ee(e,o,a),O(o,t,a),n=!0},p(o,a){const c=a&64?sn(s,[rn(o[18])]):{};if(a&8388704&&(c.$$scope={dirty:a,ctx:o}),a&32&&i!==(i=o[5].unorderedlistitem||o[5].listitem)){if(e){de();const u=e;$(u.$$.fragment,1,0,()=>{te(u,1)}),he()}i?(e=Ve(i,l(o)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(o){n||(e&&E(e.$$.fragment,o),n=!0)},o(o){e&&$(e.$$.fragment,o),n=!1},d(o){o&&k(t),e&&te(e,o)}}}function ru(r){let e,t,n=r[6].items,s=[];for(let l=0;l<n.length;l+=1)s[l]=vi(hi(r,n,l));const i=l=>$(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=ye()},m(l,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,o);O(l,e,o),t=!0},p(l,o){if(o&96){n=l[6].items;let a;for(a=0;a<n.length;a+=1){const c=hi(l,n,a);s[a]?(s[a].p(c,o),E(s[a],1)):(s[a]=vi(c),s[a].c(),E(s[a],1),s[a].m(e.parentNode,e))}for(de(),a=n.length;a<s.length;a+=1)i(a);he()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)E(s[o]);t=!0}},o(l){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)$(s[o]);t=!1},d(l){ft(s,l),l&&k(e)}}}function iu(r){let e,t,n;return e=new Bt({props:{tokens:r[18].tokens,renderers:r[5]}}),{c(){se(e.$$.fragment),t=P()},m(s,i){ee(e,s,i),O(s,t,i),n=!0},p(s,i){const l={};i&64&&(l.tokens=s[18].tokens),i&32&&(l.renderers=s[5]),e.$set(l)},i(s){n||(E(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){te(e,s),s&&k(t)}}}function wi(r){let e,t,n;const s=[r[18]];var i=r[5].orderedlistitem||r[5].listitem;function l(o){let a={$$slots:{default:[iu]},$$scope:{ctx:o}};for(let c=0;c<s.length;c+=1)a=kt(a,s[c]);return{props:a}}return i&&(e=Ve(i,l(r))),{c(){e&&se(e.$$.fragment),t=ye()},m(o,a){e&&ee(e,o,a),O(o,t,a),n=!0},p(o,a){const c=a&64?sn(s,[rn(o[18])]):{};if(a&8388704&&(c.$$scope={dirty:a,ctx:o}),a&32&&i!==(i=o[5].orderedlistitem||o[5].listitem)){if(e){de();const u=e;$(u.$$.fragment,1,0,()=>{te(u,1)}),he()}i?(e=Ve(i,l(o)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else i&&e.$set(c)},i(o){n||(e&&E(e.$$.fragment,o),n=!0)},o(o){e&&$(e.$$.fragment,o),n=!1},d(o){o&&k(t),e&&te(e,o)}}}function lu(r){let e,t,n=r[6].items,s=[];for(let l=0;l<n.length;l+=1)s[l]=wi(pi(r,n,l));const i=l=>$(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=ye()},m(l,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,o);O(l,e,o),t=!0},p(l,o){if(o&96){n=l[6].items;let a;for(a=0;a<n.length;a+=1){const c=pi(l,n,a);s[a]?(s[a].p(c,o),E(s[a],1)):(s[a]=wi(c),s[a].c(),E(s[a],1),s[a].m(e.parentNode,e))}for(de(),a=n.length;a<s.length;a+=1)i(a);he()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)E(s[o]);t=!0}},o(l){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)$(s[o]);t=!1},d(l){ft(s,l),l&&k(e)}}}function ou(r){let e,t,n;return e=new Bt({props:{tokens:r[16].tokens,renderers:r[5]}}),{c(){se(e.$$.fragment),t=P()},m(s,i){ee(e,s,i),O(s,t,i),n=!0},p(s,i){const l={};i&4&&(l.tokens=s[16].tokens),i&32&&(l.renderers=s[5]),e.$set(l)},i(s){n||(E(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){te(e,s),s&&k(t)}}}function yi(r){let e,t,n;var s=r[5].tablecell;function i(l){return{props:{header:!0,align:l[6].align[l[15]]||"center",$$slots:{default:[ou]},$$scope:{ctx:l}}}}return s&&(e=Ve(s,i(r))),{c(){e&&se(e.$$.fragment),t=ye()},m(l,o){e&&ee(e,l,o),O(l,t,o),n=!0},p(l,o){const a={};if(o&64&&(a.align=l[6].align[l[15]]||"center"),o&8388644&&(a.$$scope={dirty:o,ctx:l}),o&32&&s!==(s=l[5].tablecell)){if(e){de();const c=e;$(c.$$.fragment,1,0,()=>{te(c,1)}),he()}s?(e=Ve(s,i(l)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(l){n||(e&&E(e.$$.fragment,l),n=!0)},o(l){e&&$(e.$$.fragment,l),n=!1},d(l){l&&k(t),e&&te(e,l)}}}function au(r){let e,t,n=r[2],s=[];for(let l=0;l<n.length;l+=1)s[l]=yi(_i(r,n,l));const i=l=>$(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=ye()},m(l,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,o);O(l,e,o),t=!0},p(l,o){if(o&100){n=l[2];let a;for(a=0;a<n.length;a+=1){const c=_i(l,n,a);s[a]?(s[a].p(c,o),E(s[a],1)):(s[a]=yi(c),s[a].c(),E(s[a],1),s[a].m(e.parentNode,e))}for(de(),a=n.length;a<s.length;a+=1)i(a);he()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)E(s[o]);t=!0}},o(l){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)$(s[o]);t=!1},d(l){ft(s,l),l&&k(e)}}}function cu(r){let e,t,n;var s=r[5].tablerow;function i(l){return{props:{$$slots:{default:[au]},$$scope:{ctx:l}}}}return s&&(e=Ve(s,i(r))),{c(){e&&se(e.$$.fragment),t=ye()},m(l,o){e&&ee(e,l,o),O(l,t,o),n=!0},p(l,o){const a={};if(o&8388708&&(a.$$scope={dirty:o,ctx:l}),o&32&&s!==(s=l[5].tablerow)){if(e){de();const c=e;$(c.$$.fragment,1,0,()=>{te(c,1)}),he()}s?(e=Ve(s,i(l)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(l){n||(e&&E(e.$$.fragment,l),n=!0)},o(l){e&&$(e.$$.fragment,l),n=!1},d(l){l&&k(t),e&&te(e,l)}}}function uu(r){let e,t;return e=new Bt({props:{tokens:r[13].tokens,renderers:r[5]}}),{c(){se(e.$$.fragment)},m(n,s){ee(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.tokens=n[13].tokens),s&32&&(i.renderers=n[5]),e.$set(i)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){te(e,n)}}}function ki(r){let e,t,n;var s=r[5].tablecell;function i(l){return{props:{header:!1,align:l[6].align[l[15]]||"center",$$slots:{default:[uu]},$$scope:{ctx:l}}}}return s&&(e=Ve(s,i(r))),{c(){e&&se(e.$$.fragment),t=ye()},m(l,o){e&&ee(e,l,o),O(l,t,o),n=!0},p(l,o){const a={};if(o&64&&(a.align=l[6].align[l[15]]||"center"),o&8388648&&(a.$$scope={dirty:o,ctx:l}),o&32&&s!==(s=l[5].tablecell)){if(e){de();const c=e;$(c.$$.fragment,1,0,()=>{te(c,1)}),he()}s?(e=Ve(s,i(l)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(l){n||(e&&E(e.$$.fragment,l),n=!0)},o(l){e&&$(e.$$.fragment,l),n=!1},d(l){l&&k(t),e&&te(e,l)}}}function fu(r){let e,t,n=r[10],s=[];for(let l=0;l<n.length;l+=1)s[l]=ki(gi(r,n,l));const i=l=>$(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=P()},m(l,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,o);O(l,e,o),t=!0},p(l,o){if(o&104){n=l[10];let a;for(a=0;a<n.length;a+=1){const c=gi(l,n,a);s[a]?(s[a].p(c,o),E(s[a],1)):(s[a]=ki(c),s[a].c(),E(s[a],1),s[a].m(e.parentNode,e))}for(de(),a=n.length;a<s.length;a+=1)i(a);he()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)E(s[o]);t=!0}},o(l){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)$(s[o]);t=!1},d(l){ft(s,l),l&&k(e)}}}function Oi(r){let e,t,n;var s=r[5].tablerow;function i(l){return{props:{$$slots:{default:[fu]},$$scope:{ctx:l}}}}return s&&(e=Ve(s,i(r))),{c(){e&&se(e.$$.fragment),t=ye()},m(l,o){e&&ee(e,l,o),O(l,t,o),n=!0},p(l,o){const a={};if(o&8388712&&(a.$$scope={dirty:o,ctx:l}),o&32&&s!==(s=l[5].tablerow)){if(e){de();const c=e;$(c.$$.fragment,1,0,()=>{te(c,1)}),he()}s?(e=Ve(s,i(l)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else s&&e.$set(a)},i(l){n||(e&&E(e.$$.fragment,l),n=!0)},o(l){e&&$(e.$$.fragment,l),n=!1},d(l){l&&k(t),e&&te(e,l)}}}function du(r){let e,t,n=r[3],s=[];for(let l=0;l<n.length;l+=1)s[l]=Oi(mi(r,n,l));const i=l=>$(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=ye()},m(l,o){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(l,o);O(l,e,o),t=!0},p(l,o){if(o&104){n=l[3];let a;for(a=0;a<n.length;a+=1){const c=mi(l,n,a);s[a]?(s[a].p(c,o),E(s[a],1)):(s[a]=Oi(c),s[a].c(),E(s[a],1),s[a].m(e.parentNode,e))}for(de(),a=n.length;a<s.length;a+=1)i(a);he()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)E(s[o]);t=!0}},o(l){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)$(s[o]);t=!1},d(l){ft(s,l),l&&k(e)}}}function hu(r){let e,t,n,s,i;var l=r[5].tablehead;function o(u){return{props:{$$slots:{default:[cu]},$$scope:{ctx:u}}}}l&&(e=Ve(l,o(r)));var a=r[5].tablebody;function c(u){return{props:{$$slots:{default:[du]},$$scope:{ctx:u}}}}return a&&(n=Ve(a,c(r))),{c(){e&&se(e.$$.fragment),t=P(),n&&se(n.$$.fragment),s=ye()},m(u,f){e&&ee(e,u,f),O(u,t,f),n&&ee(n,u,f),O(u,s,f),i=!0},p(u,f){const d={};if(f&8388708&&(d.$$scope={dirty:f,ctx:u}),f&32&&l!==(l=u[5].tablehead)){if(e){de();const m=e;$(m.$$.fragment,1,0,()=>{te(m,1)}),he()}l?(e=Ve(l,o(u)),se(e.$$.fragment),E(e.$$.fragment,1),ee(e,t.parentNode,t)):e=null}else l&&e.$set(d);const h={};if(f&8388712&&(h.$$scope={dirty:f,ctx:u}),f&32&&a!==(a=u[5].tablebody)){if(n){de();const m=n;$(m.$$.fragment,1,0,()=>{te(m,1)}),he()}a?(n=Ve(a,c(u)),se(n.$$.fragment),E(n.$$.fragment,1),ee(n,s.parentNode,s)):n=null}else a&&n.$set(h)},i(u){i||(e&&E(e.$$.fragment,u),n&&E(n.$$.fragment,u),i=!0)},o(u){e&&$(e.$$.fragment,u),n&&$(n.$$.fragment,u),i=!1},d(u){e&&te(e,u),u&&k(t),u&&k(s),n&&te(n,u)}}}function Si(r){let e,t;const n=[r[7],{renderers:r[5]}];let s={};for(let i=0;i<n.length;i+=1)s=kt(s,n[i]);return e=new Bt({props:s}),{c(){se(e.$$.fragment)},m(i,l){ee(e,i,l),t=!0},p(i,l){const o=l&34?sn(n,[l&2&&rn(i[7]),l&32&&{renderers:i[5]}]):{};e.$set(o)},i(i){t||(E(e.$$.fragment,i),t=!0)},o(i){$(e.$$.fragment,i),t=!1},d(i){te(e,i)}}}function pu(r){let e,t,n,s;const i=[Qc,Gc],l=[];function o(a,c){return a[0]?a[5][a[0]]?1:-1:0}return~(e=o(r))&&(t=l[e]=i[e](r)),{c(){t&&t.c(),n=ye()},m(a,c){~e&&l[e].m(a,c),O(a,n,c),s=!0},p(a,[c]){let u=e;e=o(a),e===u?~e&&l[e].p(a,c):(t&&(de(),$(l[u],1,1,()=>{l[u]=null}),he()),~e?(t=l[e],t?t.p(a,c):(t=l[e]=i[e](a),t.c()),E(t,1),t.m(n.parentNode,n)):t=null)},i(a){s||(E(t),s=!0)},o(a){$(t),s=!1},d(a){~e&&l[e].d(a),a&&k(n)}}}function mu(r,e,t){const n=["type","tokens","header","rows","ordered","renderers"];let s=rr(e,n),{type:i=void 0}=e,{tokens:l=void 0}=e,{header:o=void 0}=e,{rows:a=void 0}=e,{ordered:c=!1}=e,{renderers:u}=e;return Jc(),r.$$set=f=>{e=kt(kt({},e),ql(f)),t(6,s=rr(e,n)),"type"in f&&t(0,i=f.type),"tokens"in f&&t(1,l=f.tokens),"header"in f&&t(2,o=f.header),"rows"in f&&t(3,a=f.rows),"ordered"in f&&t(4,c=f.ordered),"renderers"in f&&t(5,u=f.renderers)},[i,l,o,a,c,u,s]}let Bt=class extends le{constructor(e){super(),ie(this,e,mu,pu,re,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}};function Al(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Lt=Al();function gu(r){Lt=r}const Pl=/[&<>"']/,_u=new RegExp(Pl.source,"g"),El=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,bu=new RegExp(El.source,"g"),vu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ai=r=>vu[r];function Qe(r,e){if(e){if(Pl.test(r))return r.replace(_u,Ai)}else if(El.test(r))return r.replace(bu,Ai);return r}const wu=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Tl(r){return r.replace(wu,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const yu=/(^|[^\[])\^/g;function Ce(r,e){r=typeof r=="string"?r:r.source,e=e||"";const t={replace:(n,s)=>(s=s.source||s,s=s.replace(yu,"$1"),r=r.replace(n,s),t),getRegex:()=>new RegExp(r,e)};return t}const ku=/[^\w:]/g,Ou=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Pi(r,e,t){if(r){let n;try{n=decodeURIComponent(Tl(t)).replace(ku,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!Ou.test(t)&&(t=Eu(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const vn={},Su=/^[^:]+:\/*[^/]*$/,Au=/^([^:]+:)[\s\S]*$/,Pu=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Eu(r,e){vn[" "+r]||(Su.test(r)?vn[" "+r]=r+"/":vn[" "+r]=Pn(r,"/",!0)),r=vn[" "+r];const t=r.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:r.replace(Au,"$1")+e:e.charAt(0)==="/"?t?e:r.replace(Pu,"$1")+e:r+e}const Un={exec:function(){}};function Ei(r,e){const t=r.replace(/\|/g,(i,l,o)=>{let a=!1,c=l;for(;--c>=0&&o[c]==="\\";)a=!a;return a?"|":" |"}),n=t.split(/ \|/);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(/\\\|/g,"|");return n}function Pn(r,e,t){const n=r.length;if(n===0)return"";let s=0;for(;s<n;){const i=r.charAt(n-s-1);if(i===e&&!t)s++;else if(i!==e&&t)s++;else break}return r.slice(0,n-s)}function Tu(r,e){if(r.indexOf(e[1])===-1)return-1;const t=r.length;let n=0,s=0;for(;s<t;s++)if(r[s]==="\\")s++;else if(r[s]===e[0])n++;else if(r[s]===e[1]&&(n--,n<0))return s;return-1}function Cu(r){r&&r.sanitize&&!r.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Ti(r,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=r),e>>=1,r+=r;return t+r}function Ci(r,e,t,n){const s=e.href,i=e.title?Qe(e.title):null,l=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:t,href:s,title:i,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,o}return{type:"image",raw:t,href:s,title:i,text:Qe(l)}}function $u(r,e){const t=r.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(s=>{const i=s.match(/^\s+/);if(i===null)return s;const[l]=i;return l.length>=n.length?s.slice(n.length):s}).join(`
`)}class Ys{constructor(e){this.options=e||Lt}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Pn(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],s=$u(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:s}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const s=Pn(n,"#");(this.options.pedantic||!s||/ $/.test(s))&&(n=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),s=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:i,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,s,i,l,o,a,c,u,f,d,h,m,b=t[1].trim();const v=b.length>1,w={type:"list",raw:"",ordered:v,start:v?+b.slice(0,-1):"",loose:!1,items:[]};b=v?`\\d{1,9}\\${b.slice(-1)}`:`\\${b}`,this.options.pedantic&&(b=v?b:"[*+-]");const S=new RegExp(`^( {0,3}${b})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(m=!1,!(!(t=S.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),u=t[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),f=e.split(`
`,1)[0],this.options.pedantic?(l=2,h=u.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,h=u.slice(l),l+=t[1].length),a=!1,!u&&/^ *$/.test(f)&&(n+=f+`
`,e=e.substring(f.length+1),m=!0),!m){const y=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),x=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),R=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),C=new RegExp(`^ {0,${Math.min(3,l-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],f=d,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(R.test(f)||C.test(f)||y.test(f)||x.test(e)));){if(f.search(/[^ ]/)>=l||!f.trim())h+=`
`+f.slice(l);else{if(a||u.search(/[^ ]/)>=4||R.test(u)||C.test(u)||x.test(u))break;h+=`
`+f}!a&&!f.trim()&&(a=!0),n+=d+`
`,e=e.substring(d.length+1),u=f.slice(l)}}w.loose||(c?w.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(h),s&&(i=s[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),w.items.push({type:"list_item",raw:n,task:!!s,checked:i,loose:!1,text:h}),w.raw+=n}w.items[w.items.length-1].raw=n.trimRight(),w.items[w.items.length-1].text=h.trimRight(),w.raw=w.raw.trimRight();const A=w.items.length;for(o=0;o<A;o++)if(this.lexer.state.top=!1,w.items[o].tokens=this.lexer.blockTokens(w.items[o].text,[]),!w.loose){const y=w.items[o].tokens.filter(R=>R.type==="space"),x=y.length>0&&y.some(R=>/\n.*\n/.test(R.raw));w.loose=x}if(w.loose)for(o=0;o<A;o++)w.items[o].loose=!0;return w}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const s=this.options.sanitizer?this.options.sanitizer(t[0]):Qe(t[0]);n.type="paragraph",n.text=s,n.tokens=this.lexer.inline(s)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:s,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:Ei(t[1]).map(s=>({text:s})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let s=n.align.length,i,l,o,a;for(i=0;i<s;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(s=n.rows.length,i=0;i<s;i++)n.rows[i]=Ei(n.rows[i],n.header.length).map(c=>({text:c}));for(s=n.header.length,l=0;l<s;l++)n.header[l].tokens=this.lexer.inline(n.header[l].text);for(s=n.rows.length,l=0;l<s;l++)for(a=n.rows[l],o=0;o<a.length;o++)a[o].tokens=this.lexer.inline(a[o].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Qe(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Qe(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const l=Pn(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{const l=Tu(t[2],"()");if(l>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let s=t[2],i="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);l&&(s=l[1],i=l[3])}else i=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(n)?s=s.slice(1):s=s.slice(1,-1)),Ci(t,{href:s&&s.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let s=(n[2]||n[1]).replace(/\s+/g," ");if(s=t[s.toLowerCase()],!s){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return Ci(n,s,n[0],this.lexer)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s||s[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=s[1]||s[2]||"";if(!i||i&&(n===""||this.rules.inline.punctuation.exec(n))){const l=s[0].length-1;let o,a,c=l,u=0;const f=s[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+l);(s=f.exec(t))!=null;){if(o=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!o)continue;if(a=o.length,s[3]||s[4]){c+=a;continue}else if((s[5]||s[6])&&l%3&&!((l+a)%3)){u+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+u);const d=e.slice(0,l+s.index+(s[0].length-o.length)+a);if(Math.min(l,a)%2){const m=d.slice(1,-1);return{type:"em",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}const h=d.slice(2,-2);return{type:"strong",raw:d,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const s=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return s&&i&&(n=n.substring(1,n.length-1)),n=Qe(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let s,i;return n[2]==="@"?(s=Qe(this.options.mangle?t(n[1]):n[1]),i="mailto:"+s):(s=Qe(n[1]),i=s),{type:"link",raw:n[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let s,i;if(n[2]==="@")s=Qe(this.options.mangle?t(n[0]):n[0]),i="mailto:"+s;else{let l;do l=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(l!==n[0]);s=Qe(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let s;return this.lexer.state.inRawBlock?s=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Qe(n[0]):n[0]:s=Qe(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:s}}}}const W={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Un,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};W._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;W._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;W.def=Ce(W.def).replace("label",W._label).replace("title",W._title).getRegex();W.bullet=/(?:[*+-]|\d{1,9}[.)])/;W.listItemStart=Ce(/^( *)(bull) */).replace("bull",W.bullet).getRegex();W.list=Ce(W.list).replace(/bull/g,W.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+W.def.source+")").getRegex();W._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";W._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;W.html=Ce(W.html,"i").replace("comment",W._comment).replace("tag",W._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();W.paragraph=Ce(W._paragraph).replace("hr",W.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",W._tag).getRegex();W.blockquote=Ce(W.blockquote).replace("paragraph",W.paragraph).getRegex();W.normal={...W};W.gfm={...W.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};W.gfm.table=Ce(W.gfm.table).replace("hr",W.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",W._tag).getRegex();W.gfm.paragraph=Ce(W._paragraph).replace("hr",W.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",W.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",W._tag).getRegex();W.pedantic={...W.normal,html:Ce(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",W._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Un,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ce(W.normal._paragraph).replace("hr",W.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",W.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const q={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Un,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Un,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};q._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";q.punctuation=Ce(q.punctuation).replace(/punctuation/g,q._punctuation).getRegex();q.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;q.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;q._comment=Ce(W._comment).replace("(?:-->|$)","-->").getRegex();q.emStrong.lDelim=Ce(q.emStrong.lDelim).replace(/punct/g,q._punctuation).getRegex();q.emStrong.rDelimAst=Ce(q.emStrong.rDelimAst,"g").replace(/punct/g,q._punctuation).getRegex();q.emStrong.rDelimUnd=Ce(q.emStrong.rDelimUnd,"g").replace(/punct/g,q._punctuation).getRegex();q._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;q._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;q._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;q.autolink=Ce(q.autolink).replace("scheme",q._scheme).replace("email",q._email).getRegex();q._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;q.tag=Ce(q.tag).replace("comment",q._comment).replace("attribute",q._attribute).getRegex();q._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;q._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;q._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;q.link=Ce(q.link).replace("label",q._label).replace("href",q._href).replace("title",q._title).getRegex();q.reflink=Ce(q.reflink).replace("label",q._label).replace("ref",W._label).getRegex();q.nolink=Ce(q.nolink).replace("ref",W._label).getRegex();q.reflinkSearch=Ce(q.reflinkSearch,"g").replace("reflink",q.reflink).replace("nolink",q.nolink).getRegex();q.normal={...q};q.pedantic={...q.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ce(/^!?\[(label)\]\((.*?)\)/).replace("label",q._label).getRegex(),reflink:Ce(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q._label).getRegex()};q.gfm={...q.normal,escape:Ce(q.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};q.gfm.url=Ce(q.gfm.url,"i").replace("email",q.gfm._extended_email).getRegex();q.breaks={...q.gfm,br:Ce(q.br).replace("{2,}","*").getRegex(),text:Ce(q.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function Ru(r){return r.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function $i(r){let e="",t,n;const s=r.length;for(t=0;t<s;t++)n=r.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class Ot{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Lt,this.options.tokenizer=this.options.tokenizer||new Ys,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:W.normal,inline:q.normal};this.options.pedantic?(t.block=W.pedantic,t.inline=q.pedantic):this.options.gfm&&(t.block=W.gfm,this.options.breaks?t.inline=q.breaks:t.inline=q.gfm),this.tokenizer.rules=t}static get rules(){return{block:W,inline:q}}static lex(e,t){return new Ot(t).lex(e)}static lexInline(e,t){return new Ot(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,a,c)=>a+"    ".repeat(c.length));let n,s,i,l;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(n=o.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+n.raw,s.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const a=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},a),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(i=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){s=t[t.length-1],l&&s.type==="paragraph"?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n),l=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,s,i,l=e,o,a,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)u.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+Ti("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,o.index)+"["+Ti("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.escapedEmSt.exec(l))!=null;)l=l.slice(0,o.index+o[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(c=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),s=t[t.length-1],s&&n.type==="text"&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),s=t[t.length-1],s&&n.type==="text"&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,l,c)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,$i)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,$i))){e=e.substring(n.raw.length),t.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(function(h){d=h.call({lexer:this},f),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(i=e.substring(0,u+1))}if(n=this.tokenizer.inlineText(i,Ru)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(c=n.raw.slice(-1)),a=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):t.push(n);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class Ws{constructor(e){this.options=e||Lt}code(e,t,n){const s=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,s);i!=null&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="'+this.options.langPrefix+Qe(s)+'">'+(n?e:Qe(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Qe(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,s){if(this.options.headerIds){const i=this.options.headerPrefix+s.slug(n);return`<h${t} id="${i}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const s=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+e+"</"+s+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=Pi(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s}image(e,t,n){if(e=Pi(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class Cl{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Ks{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,s=0;if(this.seen.hasOwnProperty(n)){s=this.seen[e];do s++,n=e+"-"+s;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=s,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class $t{constructor(e){this.options=e||Lt,this.options.renderer=this.options.renderer||new Ws,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Cl,this.slugger=new Ks}static parse(e,t){return new $t(t).parse(e)}static parseInline(e,t){return new $t(t).parseInline(e)}parse(e,t=!0){let n="",s,i,l,o,a,c,u,f,d,h,m,b,v,w,S,A,y,x,R;const C=e.length;for(s=0;s<C;s++){if(h=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(R=this.options.extensions.renderers[h.type].call({parser:this},h),R!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){n+=R||"";continue}switch(h.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(h.tokens),h.depth,Tl(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(f="",u="",o=h.header.length,i=0;i<o;i++)u+=this.renderer.tablecell(this.parseInline(h.header[i].tokens),{header:!0,align:h.align[i]});for(f+=this.renderer.tablerow(u),d="",o=h.rows.length,i=0;i<o;i++){for(c=h.rows[i],u="",a=c.length,l=0;l<a;l++)u+=this.renderer.tablecell(this.parseInline(c[l].tokens),{header:!1,align:h.align[l]});d+=this.renderer.tablerow(u)}n+=this.renderer.table(f,d);continue}case"blockquote":{d=this.parse(h.tokens),n+=this.renderer.blockquote(d);continue}case"list":{for(m=h.ordered,b=h.start,v=h.loose,o=h.items.length,d="",i=0;i<o;i++)S=h.items[i],A=S.checked,y=S.task,w="",S.task&&(x=this.renderer.checkbox(A),v?S.tokens.length>0&&S.tokens[0].type==="paragraph"?(S.tokens[0].text=x+" "+S.tokens[0].text,S.tokens[0].tokens&&S.tokens[0].tokens.length>0&&S.tokens[0].tokens[0].type==="text"&&(S.tokens[0].tokens[0].text=x+" "+S.tokens[0].tokens[0].text)):S.tokens.unshift({type:"text",text:x}):w+=x),w+=this.parse(S.tokens,v),d+=this.renderer.listitem(w,y,A);n+=this.renderer.list(d,m,b);continue}case"html":{n+=this.renderer.html(h.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(d=h.tokens?this.parseInline(h.tokens):h.text;s+1<C&&e[s+1].type==="text";)h=e[++s],d+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);n+=t?this.renderer.paragraph(d):d;continue}default:{const T='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(T);return}else throw new Error(T)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",s,i,l;const o=e.length;for(s=0;s<o;s++){if(i=e[s],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(l=this.options.extensions.renderers[i.type].call({parser:this},i),l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type))){n+=l||"";continue}switch(i.type){case"escape":{n+=t.text(i.text);break}case"html":{n+=t.html(i.text);break}case"link":{n+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break}case"image":{n+=t.image(i.href,i.title,i.text);break}case"strong":{n+=t.strong(this.parseInline(i.tokens,t));break}case"em":{n+=t.em(this.parseInline(i.tokens,t));break}case"codespan":{n+=t.codespan(i.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(i.tokens,t));break}case"text":{n+=t.text(i.text);break}default:{const a='Token with "'+i.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return n}}class Is{constructor(e){this.options=e||Lt}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function xu(r,e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const s="<p>An error occurred:</p><pre>"+Qe(n.message+"",!0)+"</pre>";if(e)return Promise.resolve(s);if(t){t(null,s);return}return s}if(e)return Promise.reject(n);if(t){t(n);return}throw n}}function $l(r,e){return(t,n,s)=>{typeof n=="function"&&(s=n,n=null);const i={...n};n={...K.defaults,...i};const l=xu(n.silent,n.async,s);if(typeof t>"u"||t===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(Cu(n),n.hooks&&(n.hooks.options=n),s){const o=n.highlight;let a;try{n.hooks&&(t=n.hooks.preprocess(t)),a=r(t,n)}catch(f){return l(f)}const c=function(f){let d;if(!f)try{n.walkTokens&&K.walkTokens(a,n.walkTokens),d=e(a,n),n.hooks&&(d=n.hooks.postprocess(d))}catch(h){f=h}return n.highlight=o,f?l(f):s(null,d)};if(!o||o.length<3||(delete n.highlight,!a.length))return c();let u=0;K.walkTokens(a,function(f){f.type==="code"&&(u++,setTimeout(()=>{o(f.text,f.lang,function(d,h){if(d)return c(d);h!=null&&h!==f.text&&(f.text=h,f.escaped=!0),u--,u===0&&c()})},0))}),u===0&&c();return}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(o=>r(o,n)).then(o=>n.walkTokens?Promise.all(K.walkTokens(o,n.walkTokens)).then(()=>o):o).then(o=>e(o,n)).then(o=>n.hooks?n.hooks.postprocess(o):o).catch(l);try{n.hooks&&(t=n.hooks.preprocess(t));const o=r(t,n);n.walkTokens&&K.walkTokens(o,n.walkTokens);let a=e(o,n);return n.hooks&&(a=n.hooks.postprocess(a)),a}catch(o){return l(o)}}}function K(r,e,t){return $l(Ot.lex,$t.parse)(r,e,t)}K.options=K.setOptions=function(r){return K.defaults={...K.defaults,...r},gu(K.defaults),K};K.getDefaults=Al;K.defaults=Lt;K.use=function(...r){const e=K.defaults.extensions||{renderers:{},childTokens:{}};r.forEach(t=>{const n={...t};if(n.async=K.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const i=e.renderers[s.name];i?e.renderers[s.name]=function(...l){let o=s.renderer.apply(this,l);return o===!1&&(o=i.apply(this,l)),o}:e.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[s.level]?e[s.level].unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),n.extensions=e),t.renderer){const s=K.defaults.renderer||new Ws;for(const i in t.renderer){const l=s[i];s[i]=(...o)=>{let a=t.renderer[i].apply(s,o);return a===!1&&(a=l.apply(s,o)),a}}n.renderer=s}if(t.tokenizer){const s=K.defaults.tokenizer||new Ys;for(const i in t.tokenizer){const l=s[i];s[i]=(...o)=>{let a=t.tokenizer[i].apply(s,o);return a===!1&&(a=l.apply(s,o)),a}}n.tokenizer=s}if(t.hooks){const s=K.defaults.hooks||new Is;for(const i in t.hooks){const l=s[i];Is.passThroughHooks.has(i)?s[i]=o=>{if(K.defaults.async)return Promise.resolve(t.hooks[i].call(s,o)).then(c=>l.call(s,c));const a=t.hooks[i].call(s,o);return l.call(s,a)}:s[i]=(...o)=>{let a=t.hooks[i].apply(s,o);return a===!1&&(a=l.apply(s,o)),a}}n.hooks=s}if(t.walkTokens){const s=K.defaults.walkTokens;n.walkTokens=function(i){let l=[];return l.push(t.walkTokens.call(this,i)),s&&(l=l.concat(s.call(this,i))),l}}K.setOptions(n)})};K.walkTokens=function(r,e){let t=[];for(const n of r)switch(t=t.concat(e.call(K,n)),n.type){case"table":{for(const s of n.header)t=t.concat(K.walkTokens(s.tokens,e));for(const s of n.rows)for(const i of s)t=t.concat(K.walkTokens(i.tokens,e));break}case"list":{t=t.concat(K.walkTokens(n.items,e));break}default:K.defaults.extensions&&K.defaults.extensions.childTokens&&K.defaults.extensions.childTokens[n.type]?K.defaults.extensions.childTokens[n.type].forEach(function(s){t=t.concat(K.walkTokens(n[s],e))}):n.tokens&&(t=t.concat(K.walkTokens(n.tokens,e)))}return t};K.parseInline=$l(Ot.lexInline,$t.parseInline);K.Parser=$t;K.parser=$t.parse;K.Renderer=Ws;K.TextRenderer=Cl;K.Lexer=Ot;K.lexer=Ot.lex;K.Tokenizer=Ys;K.Slugger=Ks;K.Hooks=Is;K.parse=K;K.options;K.setOptions;K.use;K.walkTokens;K.parseInline;$t.parse;Ot.lex;const Rl={};function Iu(r){let e;return{c(){e=X(r[1])},m(t,n){O(t,e,n)},p(t,n){n&2&&be(e,t[1])},i:N,o:N,d(t){t&&k(e)}}}function ju(r){let e,t;const n=r[5].default,s=Ae(n,r,r[4],null);return{c(){e=_("h6"),s&&s.c(),p(e,"id",r[2])},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&16)&&Ee(s,n,i,i[4],t?Pe(n,i[4],l,null):Te(i[4]),null),(!t||l&4)&&p(e,"id",i[2])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Mu(r){let e,t;const n=r[5].default,s=Ae(n,r,r[4],null);return{c(){e=_("h5"),s&&s.c(),p(e,"id",r[2])},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&16)&&Ee(s,n,i,i[4],t?Pe(n,i[4],l,null):Te(i[4]),null),(!t||l&4)&&p(e,"id",i[2])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Fu(r){let e,t;const n=r[5].default,s=Ae(n,r,r[4],null);return{c(){e=_("h4"),s&&s.c(),p(e,"id",r[2])},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&16)&&Ee(s,n,i,i[4],t?Pe(n,i[4],l,null):Te(i[4]),null),(!t||l&4)&&p(e,"id",i[2])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Vu(r){let e,t;const n=r[5].default,s=Ae(n,r,r[4],null);return{c(){e=_("h3"),s&&s.c(),p(e,"id",r[2])},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&16)&&Ee(s,n,i,i[4],t?Pe(n,i[4],l,null):Te(i[4]),null),(!t||l&4)&&p(e,"id",i[2])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Uu(r){let e,t;const n=r[5].default,s=Ae(n,r,r[4],null);return{c(){e=_("h2"),s&&s.c(),p(e,"id",r[2])},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&16)&&Ee(s,n,i,i[4],t?Pe(n,i[4],l,null):Te(i[4]),null),(!t||l&4)&&p(e,"id",i[2])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Bu(r){let e,t;const n=r[5].default,s=Ae(n,r,r[4],null);return{c(){e=_("h1"),s&&s.c(),p(e,"id",r[2])},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&16)&&Ee(s,n,i,i[4],t?Pe(n,i[4],l,null):Te(i[4]),null),(!t||l&4)&&p(e,"id",i[2])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Lu(r){let e,t,n,s;const i=[Bu,Uu,Vu,Fu,Mu,ju,Iu],l=[];function o(a,c){return a[0]===1?0:a[0]===2?1:a[0]===3?2:a[0]===4?3:a[0]===5?4:a[0]===6?5:6}return e=o(r),t=l[e]=i[e](r),{c(){t.c(),n=ye()},m(a,c){l[e].m(a,c),O(a,n,c),s=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(de(),$(l[u],1,1,()=>{l[u]=null}),he(),t=l[e],t?t.p(a,c):(t=l[e]=i[e](a),t.c()),E(t,1),t.m(n.parentNode,n))},i(a){s||(E(t),s=!0)},o(a){$(t),s=!1},d(a){l[e].d(a),a&&k(n)}}}function qu(r,e,t){let n,{$$slots:s={},$$scope:i}=e,{depth:l}=e,{raw:o}=e,{text:a}=e;const{slug:c,getOptions:u}=to(Rl),f=u();return r.$$set=d=>{"depth"in d&&t(0,l=d.depth),"raw"in d&&t(1,o=d.raw),"text"in d&&t(3,a=d.text),"$$scope"in d&&t(4,i=d.$$scope)},r.$$.update=()=>{r.$$.dirty&8&&t(2,n=f.headerIds?f.headerPrefix+c(a):void 0)},[l,o,n,a,i,s]}class Du extends le{constructor(e){super(),ie(this,e,qu,Lu,re,{depth:0,raw:1,text:3})}}function Nu(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("p"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function zu(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}let Hu=class extends le{constructor(e){super(),ie(this,e,zu,Nu,re,{})}};function Ju(r){let e;const t=r[3].default,n=Ae(t,r,r[2],null);return{c(){n&&n.c()},m(s,i){n&&n.m(s,i),e=!0},p(s,[i]){n&&n.p&&(!e||i&4)&&Ee(n,t,s,s[2],e?Pe(t,s[2],i,null):Te(s[2]),null)},i(s){e||(E(n,s),e=!0)},o(s){$(n,s),e=!1},d(s){n&&n.d(s)}}}function Gu(r,e,t){let{$$slots:n={},$$scope:s}=e,{text:i}=e,{raw:l}=e;return r.$$set=o=>{"text"in o&&t(0,i=o.text),"raw"in o&&t(1,l=o.raw),"$$scope"in o&&t(2,s=o.$$scope)},[i,l,s,n]}class Qu extends le{constructor(e){super(),ie(this,e,Gu,Ju,re,{text:0,raw:1})}}function Yu(r){let e,t;return{c(){e=_("img"),Ue(e.src,t=r[0])||p(e,"src",t),p(e,"title",r[1]),p(e,"alt",r[2])},m(n,s){O(n,e,s)},p(n,[s]){s&1&&!Ue(e.src,t=n[0])&&p(e,"src",t),s&2&&p(e,"title",n[1]),s&4&&p(e,"alt",n[2])},i:N,o:N,d(n){n&&k(e)}}}function Wu(r,e,t){let{href:n=""}=e,{title:s=void 0}=e,{text:i=""}=e;return r.$$set=l=>{"href"in l&&t(0,n=l.href),"title"in l&&t(1,s=l.title),"text"in l&&t(2,i=l.text)},[n,s,i]}class Ku extends le{constructor(e){super(),ie(this,e,Wu,Yu,re,{href:0,title:1,text:2})}}function Zu(r){let e,t;const n=r[3].default,s=Ae(n,r,r[2],null);return{c(){e=_("a"),s&&s.c(),p(e,"href",r[0]),p(e,"title",r[1])},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&4)&&Ee(s,n,i,i[2],t?Pe(n,i[2],l,null):Te(i[2]),null),(!t||l&1)&&p(e,"href",i[0]),(!t||l&2)&&p(e,"title",i[1])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Xu(r,e,t){let{$$slots:n={},$$scope:s}=e,{href:i=""}=e,{title:l=void 0}=e;return r.$$set=o=>{"href"in o&&t(0,i=o.href),"title"in o&&t(1,l=o.title),"$$scope"in o&&t(2,s=o.$$scope)},[i,l,s,n]}class ef extends le{constructor(e){super(),ie(this,e,Xu,Zu,re,{href:0,title:1})}}function tf(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("em"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function nf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}let sf=class extends le{constructor(e){super(),ie(this,e,nf,tf,re,{})}};function rf(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("del"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function lf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class of extends le{constructor(e){super(),ie(this,e,lf,rf,re,{})}}function af(r){let e,t=r[0].replace(/`/g,"")+"",n;return{c(){e=_("code"),n=X(t)},m(s,i){O(s,e,i),g(e,n)},p(s,[i]){i&1&&t!==(t=s[0].replace(/`/g,"")+"")&&be(n,t)},i:N,o:N,d(s){s&&k(e)}}}function cf(r,e,t){let{raw:n}=e;return r.$$set=s=>{"raw"in s&&t(0,n=s.raw)},[n]}class uf extends le{constructor(e){super(),ie(this,e,cf,af,re,{raw:0})}}function ff(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("strong"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function df(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class hf extends le{constructor(e){super(),ie(this,e,df,ff,re,{})}}function pf(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("table"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function mf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class gf extends le{constructor(e){super(),ie(this,e,mf,pf,re,{})}}function _f(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("thead"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function bf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class vf extends le{constructor(e){super(),ie(this,e,bf,_f,re,{})}}function wf(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("tbody"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function yf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class kf extends le{constructor(e){super(),ie(this,e,yf,wf,re,{})}}function Of(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("tr"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Sf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class Af extends le{constructor(e){super(),ie(this,e,Sf,Of,re,{})}}function Pf(r){let e,t;const n=r[3].default,s=Ae(n,r,r[2],null);return{c(){e=_("td"),s&&s.c(),p(e,"align",r[1])},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&4)&&Ee(s,n,i,i[2],t?Pe(n,i[2],l,null):Te(i[2]),null),(!t||l&2)&&p(e,"align",i[1])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Ef(r){let e,t;const n=r[3].default,s=Ae(n,r,r[2],null);return{c(){e=_("th"),s&&s.c(),p(e,"align",r[1])},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&4)&&Ee(s,n,i,i[2],t?Pe(n,i[2],l,null):Te(i[2]),null),(!t||l&2)&&p(e,"align",i[1])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Tf(r){let e,t,n,s;const i=[Ef,Pf],l=[];function o(a,c){return a[0]?0:1}return e=o(r),t=l[e]=i[e](r),{c(){t.c(),n=ye()},m(a,c){l[e].m(a,c),O(a,n,c),s=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(de(),$(l[u],1,1,()=>{l[u]=null}),he(),t=l[e],t?t.p(a,c):(t=l[e]=i[e](a),t.c()),E(t,1),t.m(n.parentNode,n))},i(a){s||(E(t),s=!0)},o(a){$(t),s=!1},d(a){l[e].d(a),a&&k(n)}}}function Cf(r,e,t){let{$$slots:n={},$$scope:s}=e,{header:i}=e,{align:l}=e;return r.$$set=o=>{"header"in o&&t(0,i=o.header),"align"in o&&t(1,l=o.align),"$$scope"in o&&t(2,s=o.$$scope)},[i,l,s,n]}class $f extends le{constructor(e){super(),ie(this,e,Cf,Tf,re,{header:0,align:1})}}function Rf(r){let e,t;const n=r[3].default,s=Ae(n,r,r[2],null);return{c(){e=_("ul"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&4)&&Ee(s,n,i,i[2],t?Pe(n,i[2],l,null):Te(i[2]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function xf(r){let e,t;const n=r[3].default,s=Ae(n,r,r[2],null);return{c(){e=_("ol"),s&&s.c(),p(e,"start",r[1])},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&4)&&Ee(s,n,i,i[2],t?Pe(n,i[2],l,null):Te(i[2]),null),(!t||l&2)&&p(e,"start",i[1])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function If(r){let e,t,n,s;const i=[xf,Rf],l=[];function o(a,c){return a[0]?0:1}return e=o(r),t=l[e]=i[e](r),{c(){t.c(),n=ye()},m(a,c){l[e].m(a,c),O(a,n,c),s=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(de(),$(l[u],1,1,()=>{l[u]=null}),he(),t=l[e],t?t.p(a,c):(t=l[e]=i[e](a),t.c()),E(t,1),t.m(n.parentNode,n))},i(a){s||(E(t),s=!0)},o(a){$(t),s=!1},d(a){l[e].d(a),a&&k(n)}}}function jf(r,e,t){let{$$slots:n={},$$scope:s}=e,{ordered:i}=e,{start:l}=e;return r.$$set=o=>{"ordered"in o&&t(0,i=o.ordered),"start"in o&&t(1,l=o.start),"$$scope"in o&&t(2,s=o.$$scope)},[i,l,s,n]}class Mf extends le{constructor(e){super(),ie(this,e,jf,If,re,{ordered:0,start:1})}}function Ff(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("li"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Vf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}let Uf=class extends le{constructor(e){super(),ie(this,e,Vf,Ff,re,{})}};function Bf(r){let e;return{c(){e=_("hr")},m(t,n){O(t,e,n)},p:N,i:N,o:N,d(t){t&&k(e)}}}class Lf extends le{constructor(e){super(),ie(this,e,null,Bf,re,{})}}function qf(r){let e,t;return{c(){e=new Gl(!1),t=ye(),e.a=t},m(n,s){e.m(r[0],n,s),O(n,t,s)},p(n,[s]){s&1&&e.p(n[0])},i:N,o:N,d(n){n&&k(t),n&&e.d()}}}function Df(r,e,t){let{text:n}=e;return r.$$set=s=>{"text"in s&&t(0,n=s.text)},[n]}let Nf=class extends le{constructor(e){super(),ie(this,e,Df,qf,re,{text:0})}};function zf(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("blockquote"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Hf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class Jf extends le{constructor(e){super(),ie(this,e,Hf,zf,re,{})}}function Gf(r){let e,t,n;return{c(){e=_("pre"),t=_("code"),n=X(r[1]),p(e,"class",r[0])},m(s,i){O(s,e,i),g(e,t),g(t,n)},p(s,[i]){i&2&&be(n,s[1]),i&1&&p(e,"class",s[0])},i:N,o:N,d(s){s&&k(e)}}}function Qf(r,e,t){let{lang:n}=e,{text:s}=e;return r.$$set=i=>{"lang"in i&&t(0,n=i.lang),"text"in i&&t(1,s=i.text)},[n,s]}let Yf=class extends le{constructor(e){super(),ie(this,e,Qf,Gf,re,{lang:0,text:1})}};function Wf(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("br"),s&&s.c()},m(i,l){O(i,e,l),s&&s.m(i,l),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function Kf(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class Zf extends le{constructor(e){super(),ie(this,e,Kf,Wf,re,{})}}const Xf={heading:Du,paragraph:Hu,text:Qu,image:Ku,link:ef,em:sf,strong:hf,codespan:uf,del:of,table:gf,tablehead:vf,tablebody:kf,tablerow:Af,tablecell:$f,list:Mf,orderedlistitem:null,unorderedlistitem:null,listitem:Uf,hr:Lf,html:Nf,blockquote:Jf,code:Yf,br:Zf},ed={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function td(r){let e,t;return e=new Bt({props:{tokens:r[0],renderers:r[1]}}),{c(){se(e.$$.fragment)},m(n,s){ee(e,n,s),t=!0},p(n,[s]){const i={};s&1&&(i.tokens=n[0]),s&2&&(i.renderers=n[1]),e.$set(i)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){te(e,n)}}}function nd(r,e,t){let n,s,i,l,{source:o=[]}=e,{renderers:a={}}=e,{options:c={}}=e,{isInline:u=!1}=e;const f=Ut();let d,h,m;return eo(Rl,{slug:b=>s?s.slug(b):"",getOptions:()=>i}),en(()=>{t(7,m=!0)}),r.$$set=b=>{"source"in b&&t(2,o=b.source),"renderers"in b&&t(3,a=b.renderers),"options"in b&&t(4,c=b.options),"isInline"in b&&t(5,u=b.isInline)},r.$$.update=()=>{r.$$.dirty&4&&t(8,n=Array.isArray(o)),r.$$.dirty&4&&(s=o?new Ks:void 0),r.$$.dirty&16&&t(9,i={...ed,...c}),r.$$.dirty&869&&(n?t(0,d=o):(t(6,h=new Ot(i)),t(0,d=u?h.inlineTokens(o):h.lex(o)),f("parsed",{tokens:d}))),r.$$.dirty&8&&t(1,l={...Xf,...a}),r.$$.dirty&385&&m&&!n&&f("parsed",{tokens:d})},[d,l,o,a,c,u,h,m,n,i]}class xl extends le{constructor(e){super(),ie(this,e,nd,td,re,{source:2,renderers:3,options:4,isInline:5})}}function sd(r){let e,t,n,s,i,l,o,a,c;return{c(){e=_("div"),t=_("div"),n=_("button"),n.textContent="Copy code",s=P(),i=_("pre"),l=_("code"),o=X(r[0]),p(n,"class","svelte-hssbda"),p(t,"class","copycode svelte-hssbda"),p(i,"class","svelte-hssbda"),ct(e,"position","relative")},m(u,f){O(u,e,f),g(e,t),g(t,n),g(e,s),g(e,i),g(i,l),g(l,o),a||(c=j(n,"click",r[1]),a=!0)},p(u,[f]){f&1&&be(o,u[0])},i:N,o:N,d(u){u&&k(e),a=!1,c()}}}function rd(r,e,t){let{text:n}=e;const s=async()=>{try{await navigator.clipboard.writeText(n)}catch(i){console.error("Error copying text: ",i)}};return r.$$set=i=>{"text"in i&&t(0,n=i.text)},[n,s]}class id extends le{constructor(e){super(),ie(this,e,rd,sd,re,{text:0})}}function ld(r){let e,t;return{c(){e=_("div"),t=X(r[0]),ct(e,"position","relative")},m(n,s){O(n,e,s),g(e,t)},p(n,[s]){s&1&&be(t,n[0])},i:N,o:N,d(n){n&&k(e)}}}function od(r,e,t){let{text:n}=e;return r.$$set=s=>{"text"in s&&t(0,n=s.text)},[n]}class ad extends le{constructor(e){super(),ie(this,e,od,ld,re,{text:0})}}function cd(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("em"),s&&s.c(),p(e,"class","svelte-djznuz")},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function ud(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class Il extends le{constructor(e){super(),ie(this,e,ud,cd,re,{})}}function fd(r){let e,t;const n=r[3].default,s=Ae(n,r,r[2],null);return{c(){e=_("ul"),s&&s.c(),p(e,"class","svelte-1dicnom")},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&4)&&Ee(s,n,i,i[2],t?Pe(n,i[2],l,null):Te(i[2]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function dd(r){let e,t;const n=r[3].default,s=Ae(n,r,r[2],null);return{c(){e=_("ol"),s&&s.c(),p(e,"start",r[1]),p(e,"class","svelte-1dicnom")},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,l){s&&s.p&&(!t||l&4)&&Ee(s,n,i,i[2],t?Pe(n,i[2],l,null):Te(i[2]),null),(!t||l&2)&&p(e,"start",i[1])},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function hd(r){let e,t,n,s;const i=[dd,fd],l=[];function o(a,c){return a[0]?0:1}return e=o(r),t=l[e]=i[e](r),{c(){t.c(),n=ye()},m(a,c){l[e].m(a,c),O(a,n,c),s=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(de(),$(l[u],1,1,()=>{l[u]=null}),he(),t=l[e],t?t.p(a,c):(t=l[e]=i[e](a),t.c()),E(t,1),t.m(n.parentNode,n))},i(a){s||(E(t),s=!0)},o(a){$(t),s=!1},d(a){l[e].d(a),a&&k(n)}}}function pd(r,e,t){let{$$slots:n={},$$scope:s}=e,{ordered:i}=e,{start:l}=e;return r.$$set=o=>{"ordered"in o&&t(0,i=o.ordered),"start"in o&&t(1,l=o.start),"$$scope"in o&&t(2,s=o.$$scope)},[i,l,s,n]}class jl extends le{constructor(e){super(),ie(this,e,pd,hd,re,{ordered:0,start:1})}}function md(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("li"),s&&s.c(),p(e,"class","svelte-fm7yqp")},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function gd(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class Ml extends le{constructor(e){super(),ie(this,e,gd,md,re,{})}}function _d(r){let e,t=r[0].replace(/`/g,"")+"",n;return{c(){e=_("code"),n=X(t),p(e,"class","svelte-we39e")},m(s,i){O(s,e,i),g(e,n)},p(s,[i]){i&1&&t!==(t=s[0].replace(/`/g,"")+"")&&be(n,t)},i:N,o:N,d(s){s&&k(e)}}}function bd(r,e,t){let{raw:n}=e;return r.$$set=s=>{"raw"in s&&t(0,n=s.raw)},[n]}class vd extends le{constructor(e){super(),ie(this,e,bd,_d,re,{raw:0})}}function wd(r){let e,t;const n=r[1].default,s=Ae(n,r,r[0],null);return{c(){e=_("p"),s&&s.c(),p(e,"class","svelte-jw73bw")},m(i,l){O(i,e,l),s&&s.m(e,null),t=!0},p(i,[l]){s&&s.p&&(!t||l&1)&&Ee(s,n,i,i[0],t?Pe(n,i[0],l,null):Te(i[0]),null)},i(i){t||(E(s,i),t=!0)},o(i){$(s,i),t=!1},d(i){i&&k(e),s&&s.d(i)}}}function yd(r,e,t){let{$$slots:n={},$$scope:s}=e;return r.$$set=i=>{"$$scope"in i&&t(0,s=i.$$scope)},[s,n]}class Fl extends le{constructor(e){super(),ie(this,e,yd,wd,re,{})}}function kd(r){let e;return{c(){e=X(r[0])},m(t,n){O(t,e,n)},p(t,[n]){n&1&&be(e,t[0])},i:N,o:N,d(t){t&&k(e)}}}function Od(r,e,t){let{text:n}=e;return r.$$set=s=>{"text"in s&&t(0,n=s.text)},[n]}class Vl extends le{constructor(e){super(),ie(this,e,Od,kd,re,{text:0})}}const Sd="/assets/delete-f3f148b5.svg",Ad="/assets/CopyIcon-a74e8127.svg",Ri="/assets/UserIcon-57b535eb.svg",xi="/assets/RobotIcon-76293781.svg",Pd="/assets/send-8e88dbd9.svg",Ed="/assets/wait-8f30b8f8.svg",Td="/assets/upload-icon-8c25e619.svg",Cd="/assets/pdf-icon-342c8e86.svg",$d="modulepreload",Rd=function(r){return"/"+r},Ii={},Ul=function(e,t,n){if(!t||t.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=Rd(i),i in Ii)return;Ii[i]=!0;const l=i.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(!!n)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===i&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":$d,l||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),l)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i})};async function xd(){const r=await Ul(()=>import("./pdf-2d11017f.js"),[]);return r.GlobalWorkerOptions.workerSrc="/workers/pdf.worker.min.mjs",r}function Id(r){const t=/^D:(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/.exec(r);if(t){const n=parseInt(t[1],10),s=parseInt(t[2],10)-1,i=parseInt(t[3],10),l=parseInt(t[4],10),o=parseInt(t[5],10),a=parseInt(t[6],10);return new Date(n,s,i,l,o,a).toISOString().split("T")[0]}return"Unknown Date"}async function jd(r){try{const e=new FileReader,t=await xd();return new Promise((n,s)=>{e.onload=async i=>{const l=new Uint8Array(i.target.result),a=await t.getDocument({data:l}).promise,c=a.numPages;let u="";for(let S=1;S<=c;S++){const y=await(await a.getPage(S)).getTextContent();u+=y.items.map(x=>"str"in x?x.str:"").join(" ")}const f=u.split(/\s+/).length,h=(await a.getMetadata()).info,m=r.name,b=h.Title||"Untitled",v=h.Author||"Unknown Author",w=h.CreationDate?Id(h.CreationDate):"Unknown Date";n(`The user uploaded a PDF titled "${b}" with a file name of "${m}". It has ${c} pages and ${f} words. File metadata includes Author: "${v}" and creation date: ${w}. The extracted text is as follows: ${u}`)},e.onerror=s,e.readAsArrayBuffer(r)})}catch(e){return console.error("Error processing PDF:",e),Promise.reject("Failed to load the PDF file.")}}async function Md(r){return new Promise((e,t)=>{const n=new FileReader;n.onload=async s=>{try{const i=await Ul(()=>import("./xlsx-ed80a9e9.js"),[]),l=new Uint8Array(s.target.result),o=i.read(l,{type:"array"});let a="";o.SheetNames.forEach(c=>{const u=o.Sheets[c],f=i.utils.sheet_to_json(u);a+=`Sheet: ${c}
`,a+=JSON.stringify(f,null,2),a+=`

`}),e(`The user uploaded a spreadsheet file named "${r.name}". The contents are as follows:

${a}`)}catch{t(new Error("Failed to process the spreadsheet file."))}},n.onerror=()=>t(new Error("Failed to read the spreadsheet file.")),n.readAsArrayBuffer(r)})}const Fd="/assets/optimize-a76506da.svg",Vd="/assets/mutate-f63a0e6b.svg";function ji(r,e,t){const n=r.slice();return n[66]=e[t][0],n[67]=e[t][1],n[68]=e,n[69]=t,n}function Mi(r,e,t){const n=r.slice();return n[70]=e[t],n[72]=t,n}function Ud(r){let e;return{c(){e=X("SmoothGPT")},m(t,n){O(t,e,n)},p:N,d(t){t&&k(e)}}}function Bd(r){let e=(r[2][r[1]].title||"SmoothGPT")+"",t;return{c(){t=X(e)},m(n,s){O(n,t,s)},p(n,s){s[0]&6&&e!==(e=(n[2][n[1]].title||"SmoothGPT")+"")&&be(t,e)},d(n){n&&k(t)}}}function Fi(r){let e,t;return e=new Rc({}),e.$on("settings-changed",tc),{c(){se(e.$$.fragment)},m(n,s){ee(e,n,s),t=!0},p:N,i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){te(e,n)}}}function Vi(r){let e,t;return e=new jc({}),{c(){se(e.$$.fragment)},m(n,s){ee(e,n,s),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){te(e,n)}}}function Ld(r){let e;return{c(){e=_("div"),e.innerHTML="<p>No conversation selected. Start a new conversation.</p>",p(e,"class","flex justify-center items-center h-full")},m(t,n){O(t,e,n)},p:N,i:N,o:N,d(t){t&&k(e)}}}function qd(r){let e,t,n,s=r[2][r[1]].history,i=[];for(let o=0;o<s.length;o+=1)i[o]=Di(Mi(r,s,o));const l=o=>$(i[o],1,1,()=>{i[o]=null});return{c(){e=_("div"),t=_("div");for(let o=0;o<i.length;o+=1)i[o].c();p(t,"class","space-y-6"),p(e,"class","flex flex-col max-w-4xl w-full pt-6 grow")},m(o,a){O(o,e,a),g(e,t);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(t,null);n=!0},p(o,a){if(a[0]&471860806){s=o[2][o[1]].history;let c;for(c=0;c<s.length;c+=1){const u=Mi(o,s,c);i[c]?(i[c].p(u,a),E(i[c],1)):(i[c]=Di(u),i[c].c(),E(i[c],1),i[c].m(t,null))}for(de(),c=s.length;c<i.length;c+=1)l(c);he()}},i(o){if(!n){for(let a=0;a<s.length;a+=1)E(i[a]);n=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)$(i[a]);n=!1},d(o){o&&k(e),ft(i,o)}}}function Ui(r){let e,t,n,s,i,l,o=r[70].role==="assistant"?"ChatGPT":"You",a,c,u,f,d,h,m;const b=[Nd,Dd],v=[];function w(S,A){return S[9]===S[72]?0:1}return u=w(r),f=v[u]=b[u](r),{c(){e=_("div"),t=_("div"),n=_("img"),i=P(),l=_("div"),a=X(o),c=P(),f.c(),d=P(),Ue(n.src,s=r[70].role==="user"?Ri:xi)||p(n,"src",s),p(n,"alt","Profile"),p(n,"class","w-10 h-10 ml-2"),p(l,"class","ml-4 font-bold text-xl"),p(t,"class","profile-picture flex items-center mb-3"),p(e,"class",h="message relative inline-block w-full p-6 flex flex-col "+(r[70].role==="user"?"bg-user-message":"bg-assistant-message")+" rounded-lg shadow-md")},m(S,A){O(S,e,A),g(e,t),g(t,n),g(t,i),g(t,l),g(l,a),g(e,c),v[u].m(e,null),g(e,d),m=!0},p(S,A){(!m||A[0]&6&&!Ue(n.src,s=S[70].role==="user"?Ri:xi))&&p(n,"src",s),(!m||A[0]&6)&&o!==(o=S[70].role==="assistant"?"ChatGPT":"You")&&be(a,o);let y=u;u=w(S),u===y?v[u].p(S,A):(de(),$(v[y],1,1,()=>{v[y]=null}),he(),f=v[u],f?f.p(S,A):(f=v[u]=b[u](S),f.c()),E(f,1),f.m(e,d)),(!m||A[0]&6&&h!==(h="message relative inline-block w-full p-6 flex flex-col "+(S[70].role==="user"?"bg-user-message":"bg-assistant-message")+" rounded-lg shadow-md"))&&p(e,"class",h)},i(S){m||(E(f),m=!0)},o(S){$(f),m=!1},d(S){S&&k(e),v[u].d()}}}function Dd(r){let e,t,n,s,i,l,o,a,c;const u=[Gd,Jd,Hd,zd],f=[];function d(b,v){return v[0]&6&&(t=null),v[0]&6&&(n=null),t==null&&(t=!!js(b[70].content)),t?0:(n==null&&(n=!!Ss(b[70])),n?1:b[70].role==="assistant"?2:3)}s=d(r,[-1,-1,-1]),i=f[s]=u[s](r);let h=r[70].role==="assistant"&&Bi(r),m=r[70].role==="user"&&qi(r);return{c(){e=_("div"),i.c(),l=P(),o=_("div"),h&&h.c(),a=P(),m&&m.c(),p(e,"class","message-display pl-16 pr-5 md:px-16 text-[1.1rem] leading-relaxed"),p(o,"class","toolbelt flex space-x-2 pl-20 mb-2 tools")},m(b,v){O(b,e,v),f[s].m(e,null),O(b,l,v),O(b,o,v),h&&h.m(o,null),g(o,a),m&&m.m(o,null),c=!0},p(b,v){let w=s;s=d(b,v),s===w?f[s].p(b,v):(de(),$(f[w],1,1,()=>{f[w]=null}),he(),i=f[s],i?i.p(b,v):(i=f[s]=u[s](b),i.c()),E(i,1),i.m(e,null)),b[70].role==="assistant"?h?h.p(b,v):(h=Bi(b),h.c(),h.m(o,a)):h&&(h.d(1),h=null),b[70].role==="user"?m?m.p(b,v):(m=qi(b),m.c(),m.m(o,null)):m&&(m.d(1),m=null)},i(b){c||(E(i),c=!0)},o(b){$(i),c=!1},d(b){b&&k(e),f[s].d(),b&&k(l),b&&k(o),h&&h.d(),m&&m.d()}}}function Nd(r){let e,t,n,s,i,l,o,a,c,u;function f(){return r[46](r[72])}return{c(){e=_("textarea"),t=P(),n=_("div"),s=_("button"),i=X("Submit"),o=P(),a=_("button"),a.textContent="Cancel",p(e,"class","message-edit-textarea mt-2 bg-gray-700 p-3 mx-10 resize-none focus:outline-none rounded-lg"),ct(e,"height","96px"),ct(e,"overflow-y","auto"),p(s,"class",l="submit-edit rounded-lg p-2 mr-2 "+(r[21]?"bg-gray-500 cursor-not-allowed hover:bg-gray-500":"hover:bg-green-500 bg-green-700")),s.disabled=r[21],p(a,"class","cancel-edit bg-gray-700 hover:bg-gray-500 rounded-lg p-2 mr-2"),p(n,"class","flex place-content-center mt-4")},m(d,h){O(d,e,h),r[44](e),_e(e,r[10]),O(d,t,h),O(d,n,h),g(n,s),g(s,i),g(n,o),g(n,a),c||(u=[j(e,"input",r[45]),j(e,"input",Bl),j(s,"click",f),j(a,"click",r[47])],c=!0)},p(d,h){r=d,h[0]&1024&&_e(e,r[10]),h[0]&2097152&&l!==(l="submit-edit rounded-lg p-2 mr-2 "+(r[21]?"bg-gray-500 cursor-not-allowed hover:bg-gray-500":"hover:bg-green-500 bg-green-700"))&&p(s,"class",l),h[0]&2097152&&(s.disabled=r[21])},i:N,o:N,d(d){d&&k(e),r[44](null),d&&k(t),d&&k(n),c=!1,Re(u)}}}function zd(r){let e,t;return e=new xl({props:{renderers:{code:ad,codespan:vd,em:Il,list:jl,listitem:Ml,paragraph:Fl,html:Vl},source:jn(r[70].content.toString())}}),{c(){se(e.$$.fragment)},m(n,s){ee(e,n,s),t=!0},p(n,s){const i={};s[0]&6&&(i.source=jn(n[70].content.toString())),e.$set(i)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){te(e,n)}}}function Hd(r){let e,t;return e=new xl({props:{renderers:{code:id,em:Il,list:jl,listitem:Ml,paragraph:Fl,html:Vl},source:jn(r[70].content.toString())}}),{c(){se(e.$$.fragment)},m(n,s){ee(e,n,s),t=!0},p(n,s){const i={};s[0]&6&&(i.source=jn(n[70].content.toString())),e.$set(i)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){te(e,n)}}}function Jd(r){let e,t,n;return t=new hc({props:{audioUrl:r[70].audioUrl}}),{c(){e=_("div"),se(t.$$.fragment),p(e,"class","pb-3")},m(s,i){O(s,e,i),ee(t,e,null),n=!0},p(s,i){const l={};i[0]&6&&(l.audioUrl=s[70].audioUrl),t.$set(l)},i(s){n||(E(t.$$.fragment,s),n=!0)},o(s){$(t.$$.fragment,s),n=!1},d(s){s&&k(e),te(t)}}}function Gd(r){let e,t,n,s;return{c(){e=_("img"),n=P(),s=_("div"),s.textContent="This image will be available for 60 minutes. Right click + save as!",Ue(e.src,t=r[70].content)||p(e,"src",t),p(e,"alt","Generated"),p(e,"class","max-w-full h-auto my-3"),p(s,"class","text-sm text-gray-500")},m(i,l){O(i,e,l),O(i,n,l),O(i,s,l)},p(i,l){l[0]&6&&!Ue(e.src,t=i[70].content)&&p(e,"src",t)},i:N,o:N,d(i){i&&k(e),i&&k(n),i&&k(s)}}}function Bi(r){let e=!Ss(r[70])&&!js(r[70].content),t,n,s,i,l,o,a=e&&Li(r);function c(){return r[49](r[72])}return{c(){a&&a.c(),t=P(),n=_("button"),s=_("img"),p(s,"class","delete-icon"),p(s,"alt","Delete"),Ue(s.src,i=Sd)||p(s,"src",i),p(n,"class","deleteButton w-5")},m(u,f){a&&a.m(u,f),O(u,t,f),O(u,n,f),g(n,s),l||(o=j(n,"click",c),l=!0)},p(u,f){r=u,f[0]&6&&(e=!Ss(r[70])&&!js(r[70].content)),e?a?a.p(r,f):(a=Li(r),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(u){a&&a.d(u),u&&k(t),u&&k(n),l=!1,o()}}}function Li(r){let e,t,n,s,i;function l(){return r[48](r[70])}return{c(){e=_("button"),t=_("img"),p(t,"class","copy-icon"),p(t,"alt","Copy"),Ue(t.src,n=Ad)||p(t,"src",n),p(e,"class","copyButton w-5")},m(o,a){O(o,e,a),g(e,t),s||(i=j(e,"click",l),s=!0)},p(o,a){r=o},d(o){o&&k(e),s=!1,i()}}}function qi(r){let e,t,n,s,i;function l(){return r[50](r[72])}return{c(){e=_("button"),t=_("img"),p(t,"class","edit-icon"),p(t,"alt","edit"),Ue(t.src,n=Qs)||p(t,"src",n),p(e,"class","editButton w-5")},m(o,a){O(o,e,a),g(e,t),s||(i=j(e,"click",l),s=!0)},p(o,a){r=o},d(o){o&&k(e),s=!1,i()}}}function Di(r){let e,t,n=r[70].role!=="system"&&Ui(r);return{c(){n&&n.c(),e=ye()},m(s,i){n&&n.m(s,i),O(s,e,i),t=!0},p(s,i){s[70].role!=="system"?n?(n.p(s,i),i[0]&6&&E(n,1)):(n=Ui(s),n.c(),E(n,1),n.m(e.parentNode,e)):n&&(de(),$(n,1,1,()=>{n=null}),he())},i(s){t||(E(n),t=!0)},o(s){$(n),t=!1},d(s){n&&n.d(s),s&&k(e)}}}function Ni(r){let e,t;return e=new Hc({props:{currentPrompt:r[4]}}),e.$on("mutate",r[35]),e.$on("cancel",r[36]),{c(){se(e.$$.fragment)},m(n,s){ee(e,n,s),t=!0},p(n,s){const i={};s[0]&16&&(i.currentPrompt=n[4]),e.$set(i)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){$(e.$$.fragment,n),t=!1},d(n){te(e,n)}}}function Qd(r){let e,t,n,s,i,l,o,a,c,u,f,d=r[11]>0&&zi(r),h=r[11]>0&&Hi(r);return{c(){e=_("div"),t=_("label"),n=_("img"),i=P(),d&&d.c(),l=P(),o=_("input"),a=P(),h&&h.c(),c=ye(),Ue(n.src,s=Cd)||p(n,"src",s),p(n,"alt","Upload"),p(n,"class","pdf-icon icon-white w-8 h-8 my-auto"),p(o,"type","file"),p(o,"id","pdfUpload"),p(o,"accept","application/pdf,.csv,.xlsx"),p(o,"class","hidden"),p(t,"for","pdfUpload"),p(t,"class","bg-chat rounded-full p-4 mx-1 cursor-pointer hover:bg-hover2 transition-colors flex items-center justify-center"),p(e,"class","flex items-center")},m(m,b){O(m,e,b),g(e,t),g(t,n),g(t,i),d&&d.m(t,null),g(t,l),g(t,o),O(m,a,b),h&&h.m(m,b),O(m,c,b),u||(f=j(o,"change",r[53]),u=!0)},p(m,b){m[11]>0?d?d.p(m,b):(d=zi(m),d.c(),d.m(t,l)):d&&(d.d(1),d=null),m[11]>0?h?h.p(m,b):(h=Hi(m),h.c(),h.m(c.parentNode,c)):h&&(h.d(1),h=null)},d(m){m&&k(e),d&&d.d(),m&&k(a),h&&h.d(m),m&&k(c),u=!1,f()}}}function Yd(r){let e,t,n,s,i,l,o;function a(d,h){return d[11]>0?Kd:Wd}let c=a(r),u=c(r),f=r[11]>0&&Ji(r);return{c(){e=_("input"),t=P(),n=_("label"),u.c(),s=P(),f&&f.c(),i=ye(),p(e,"type","file"),p(e,"id","imageUpload"),e.multiple=!0,p(e,"accept","image/*"),p(e,"class","file-input"),p(n,"for","imageUpload"),p(n,"class","file-label bg-chat rounded py-2 px-4 mx-1 cursor-pointer hover:bg-hover2 transition-colors")},m(d,h){O(d,e,h),r[52](e),O(d,t,h),O(d,n,h),u.m(n,null),O(d,s,h),f&&f.m(d,h),O(d,i,h),l||(o=j(e,"change",Za),l=!0)},p(d,h){c===(c=a(d))&&u?u.p(d,h):(u.d(1),u=c(d),u&&(u.c(),u.m(n,null))),d[11]>0?f?f.p(d,h):(f=Ji(d),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null)},d(d){d&&k(e),r[52](null),d&&k(t),d&&k(n),u.d(),d&&k(s),f&&f.d(d),d&&k(i),l=!1,o()}}}function zi(r){let e,t;return{c(){e=_("span"),t=X(r[11]),p(e,"class","absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2 bg-red-500 text-white font-bold px-2 py-1 rounded-full text-xs fileCount")},m(n,s){O(n,e,s),g(e,t)},p(n,s){s[0]&2048&&be(t,n[11])},d(n){n&&k(e)}}}function Hi(r){let e,t,n;return{c(){e=_("button"),e.textContent="X",p(e,"class","clear-btn px-4 rounded-lg bg-red-700 mx-2 hover:bg-red-500")},m(s,i){O(s,e,i),t||(n=j(e,"click",r[24]),t=!0)},p:N,d(s){s&&k(e),t=!1,n()}}}function Wd(r){let e,t;return{c(){e=_("img"),Ue(e.src,t=Td)||p(e,"src",t),p(e,"alt","Upload"),p(e,"class","upload-icon icon-white")},m(n,s){O(n,e,s)},p:N,d(n){n&&k(e)}}}function Kd(r){let e,t;return{c(){e=_("span"),t=X(r[11]),p(e,"class","fileCount")},m(n,s){O(n,e,s),g(e,t)},p(n,s){s[0]&2048&&be(t,n[11])},d(n){n&&k(e)}}}function Ji(r){let e,t,n;return{c(){e=_("button"),e.textContent="X",p(e,"class","clear-btn")},m(s,i){O(s,e,i),t||(n=j(e,"click",r[24]),t=!0)},p:N,d(s){s&&k(e),t=!1,n()}}}function Zd(r){let e,t;return{c(){e=_("img"),p(e,"class","icon-white w-7 h-7"),p(e,"alt","Send"),Ue(e.src,t=Pd)||p(e,"src",t)},m(n,s){O(n,e,s)},p:N,d(n){n&&k(e)}}}function Xd(r){let e,t;return{c(){e=_("img"),p(e,"class","icon-white w-7 h-7 animate-spin"),p(e,"alt","Wait"),Ue(e.src,t=Ed)||p(e,"src",t)},m(n,s){O(n,e,s)},p:N,d(n){n&&k(e)}}}function Gi(r){let e,t,n,s,i,l,o,a=Object.entries(r[17]),c=[];for(let u=0;u<a.length;u+=1)c[u]=Qi(ji(r,a,u));return{c(){e=_("div"),t=_("h3"),t.textContent="Fill in the variables:",n=P();for(let u=0;u<c.length;u+=1)c[u].c();s=P(),i=_("button"),i.textContent="Use Variable Prompt",p(t,"class","text-lg font-bold mb-2"),p(i,"class","mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"),p(e,"class","fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-primary p-4 rounded-lg shadow-lg")},m(u,f){O(u,e,f),g(e,t),g(e,n);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(e,null);g(e,s),g(e,i),l||(o=j(i,"click",r[33]),l=!0)},p(u,f){if(f[0]&131072){a=Object.entries(u[17]);let d;for(d=0;d<a.length;d+=1){const h=ji(u,a,d);c[d]?c[d].p(h,f):(c[d]=Qi(h),c[d].c(),c[d].m(e,s))}for(;d<c.length;d+=1)c[d].d(1);c.length=a.length}},d(u){u&&k(e),ft(c,u),l=!1,o()}}}function Qi(r){let e,t,n=r[66]+"",s,i,l,o,a,c,u;function f(){r[58].call(o,r[66])}return{c(){e=_("div"),t=_("label"),s=X(n),l=P(),o=_("input"),p(t,"for",i=r[66]),p(t,"class","block text-sm font-medium text-gray-700"),p(o,"type","text"),p(o,"id",a=r[66]),p(o,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-black"),p(e,"class","mb-2")},m(d,h){O(d,e,h),g(e,t),g(t,s),g(e,l),g(e,o),_e(o,r[17][r[66]]),c||(u=j(o,"input",f),c=!0)},p(d,h){r=d,h[0]&131072&&n!==(n=r[66]+"")&&be(s,n),h[0]&131072&&i!==(i=r[66])&&p(t,"for",i),h[0]&131072&&a!==(a=r[66])&&p(o,"id",a),h[0]&131072&&o.value!==r[17][r[66]]&&_e(o,r[17][r[66]])},d(d){d&&k(e),c=!1,u()}}}function eh(r){let e,t,n,s,i,l,o,a,c,u,f,d,h,m,b,v,w,S,A,y,x,R,C,T,B,V,L,J,U,Y,Q,fe,z,ne,M,Z,me,H,oe,we,ke,ht,G,xe,$e,Oe,qe,De,St,Ze,lt,dt,Xe;function mt(F,ce){return F[2].length>0&&F[2][F[1]]?Bd:Ud}let bt=mt(r),He=bt(r),je=r[19]&&Fi(),Be=r[20]&&Vi();o=new Tc({}),o.$on("toggle-sidebar",r[22]);function vt(F){r[42](F)}let xt={};r[8]!==void 0&&(xt.conversation_title=r[8]),u=new vc({props:xt}),Et.push(()=>co(u,"conversation_title",vt)),u.$on("update-title",r[43]);const wt=[qd,Ld],tt=[];function It(F,ce){return F[2].length>0&&F[2][F[1]]?0:1}x=It(r),R=tt[x]=wt[x](r);let Ie=r[14]&&Ni(r);function jt(F,ce){if(F[16])return Yd;if(F[15])return Qd}let ot=jt(r),Me=ot&&ot(r);function I(F,ce){return F[21]?Xd:Zd}let ae=I(r),ve=ae(r);$e=new Vc({}),$e.$on("use-prompt",r[31]),De=new Lc({}),De.$on("use-variable-prompt",r[32]);let Fe=r[18]&&Gi(r);return{c(){e=_("title"),He.c(),t=P(),je&&je.c(),n=P(),Be&&Be.c(),s=P(),i=_("main"),l=_("div"),se(o.$$.fragment),a=P(),c=_("div"),se(u.$$.fragment),d=P(),h=_("div"),m=_("div"),b=_("div"),v=_("button"),v.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>',w=P(),S=_("button"),S.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><path d="M4 21v-7m0 0V5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm0 0h16"></path></svg>',A=P(),y=_("div"),R.c(),C=P(),T=_("div"),B=_("div"),V=_("button"),L=_("img"),U=P(),Y=_("button"),Q=_("img"),z=P(),Ie&&Ie.c(),ne=P(),M=_("div"),Z=_("div"),Me&&Me.c(),me=P(),H=_("div"),oe=_("textarea"),we=P(),ke=_("button"),ve.c(),G=P(),xe=_("div"),se($e.$$.fragment),Oe=P(),qe=_("div"),se(De.$$.fragment),St=P(),Fe&&Fe.c(),Ze=ye(),p(v,"class","bg-primary text-white p-2 rounded-full flex items-center justify-center shadow-lg hover:bg-hover transition-colors duration-200 tooltip-left svelte-ssz9fc"),p(v,"data-tooltip","Prompt Library"),p(S,"class","bg-primary text-white p-2 rounded-full flex items-center justify-center shadow-lg hover:bg-hover transition-colors duration-200 tooltip-left svelte-ssz9fc"),p(S,"data-tooltip","Variable Prompting"),p(b,"class","absolute top-4 right-4 flex flex-col space-y-4 z-50"),p(y,"class","flex bg-primary overflow-y-auto overflow-x-hidden justify-center grow px-4 relative"),Ue(L.src,J=Vd)||p(L,"src",J),p(L,"alt","Mutate"),p(L,"class","w-5 h-5"),p(V,"class","p-2 rounded-full bg-green-500 hover:bg-green-600 transition duration-200 tooltip-bottom svelte-ssz9fc"),p(V,"data-tooltip","Mutate Prompt"),Ue(Q.src,fe=Fd)||p(Q,"src",fe),p(Q,"alt","Optimize"),p(Q,"class","w-5 h-5"),p(Y,"class","p-2 rounded-full bg-blue-500 hover:bg-blue-600 transition duration-200 tooltip-bottom svelte-ssz9fc"),p(Y,"data-tooltip","Optimize Prompt"),p(B,"class","flex justify-center space-x-4 mb-4"),p(oe,"class","w-full min-h-[56px] max-h-[200px] rounded-xl p-4 mr-4 bg-primary text-black resize-none focus:outline-none focus:ring-2 focus:ring-accent transition-all duration-200 text-lg"),p(oe,"placeholder","Type your message..."),p(ke,"class","bg-accent hover:bg-blue-600 rounded-full p-4 cursor-pointer transition-all duration-200 transform hover:scale-105 flex-shrink-0"),ke.disabled=ht=!r[21]&&!r[4].trim().length,p(H,"class","input-area flex items-center bg-chat rounded-xl p-4 shadow-lg w-full"),p(Z,"class","inputbox flex flex-1 bg-primary mx-auto max-w-5xl"),p(M,"class","inputbox-container w-full flex justify-center items-center"),p(T,"class","flex flex-col items-center justify-end bg-primary pt-4 pb-6"),p(m,"class","flex-grow flex flex-col relative"),p(xe,"class","h-full bg-secondary transition-all duration-300 ease-in-out overflow-hidden flex"),ct(xe,"width",r[12]?"auto":"0px"),p(qe,"class","h-full bg-secondary transition-all duration-300 ease-in-out overflow-hidden flex"),ct(qe,"width",r[13]?"300px":"0px"),p(h,"class","flex flex-grow overflow-hidden"),p(c,"class","flex-grow flex flex-col bg-secondary text-white/80 height-manager transition-all duration-300"),ct(c,"margin-left",r[3]?"60px":"280px"),p(l,"class","flex flex-grow overflow-hidden"),p(i,"class","bg-primary overflow-hidden flex flex-col h-screen")},m(F,ce){O(F,e,ce),He.m(e,null),O(F,t,ce),je&&je.m(F,ce),O(F,n,ce),Be&&Be.m(F,ce),O(F,s,ce),O(F,i,ce),g(i,l),ee(o,l,null),g(l,a),g(l,c),ee(u,c,null),g(c,d),g(c,h),g(h,m),g(m,b),g(b,v),g(b,w),g(b,S),g(m,A),g(m,y),tt[x].m(y,null),r[51](y),g(m,C),g(m,T),g(T,B),g(B,V),g(V,L),g(B,U),g(B,Y),g(Y,Q),g(T,z),Ie&&Ie.m(T,null),g(T,ne),g(T,M),g(M,Z),Me&&Me.m(Z,null),g(Z,me),g(Z,H),g(H,oe),r[54](oe),_e(oe,r[4]),g(H,we),g(H,ke),ve.m(ke,null),g(h,G),g(h,xe),ee($e,xe,null),g(h,Oe),g(h,qe),ee(De,qe,null),O(F,St,ce),Fe&&Fe.m(F,ce),O(F,Ze,ce),lt=!0,dt||(Xe=[j(v,"click",r[29]),j(S,"click",r[30]),j(V,"click",r[34]),j(Y,"click",nh),j(oe,"input",r[55]),j(oe,"input",Bl),j(oe,"keydown",r[56]),j(ke,"click",r[57])],dt=!0)},p(F,ce){bt===(bt=mt(F))&&He?He.p(F,ce):(He.d(1),He=bt(F),He&&(He.c(),He.m(e,null))),F[19]?je?(je.p(F,ce),ce[0]&524288&&E(je,1)):(je=Fi(),je.c(),E(je,1),je.m(n.parentNode,n)):je&&(de(),$(je,1,1,()=>{je=null}),he()),F[20]?Be?ce[0]&1048576&&E(Be,1):(Be=Vi(),Be.c(),E(Be,1),Be.m(s.parentNode,s)):Be&&(de(),$(Be,1,1,()=>{Be=null}),he());const ln={};!f&&ce[0]&256&&(f=!0,ln.conversation_title=F[8],ro(()=>f=!1)),u.$set(ln);let At=x;x=It(F),x===At?tt[x].p(F,ce):(de(),$(tt[At],1,1,()=>{tt[At]=null}),he(),R=tt[x],R?R.p(F,ce):(R=tt[x]=wt[x](F),R.c()),E(R,1),R.m(y,null)),F[14]?Ie?(Ie.p(F,ce),ce[0]&16384&&E(Ie,1)):(Ie=Ni(F),Ie.c(),E(Ie,1),Ie.m(T,ne)):Ie&&(de(),$(Ie,1,1,()=>{Ie=null}),he()),ot===(ot=jt(F))&&Me?Me.p(F,ce):(Me&&Me.d(1),Me=ot&&ot(F),Me&&(Me.c(),Me.m(Z,me))),ce[0]&16&&_e(oe,F[4]),ae===(ae=I(F))&&ve?ve.p(F,ce):(ve.d(1),ve=ae(F),ve&&(ve.c(),ve.m(ke,null))),(!lt||ce[0]&2097168&&ht!==(ht=!F[21]&&!F[4].trim().length))&&(ke.disabled=ht),(!lt||ce[0]&4096)&&ct(xe,"width",F[12]?"auto":"0px"),(!lt||ce[0]&8192)&&ct(qe,"width",F[13]?"300px":"0px"),(!lt||ce[0]&8)&&ct(c,"margin-left",F[3]?"60px":"280px"),F[18]?Fe?Fe.p(F,ce):(Fe=Gi(F),Fe.c(),Fe.m(Ze.parentNode,Ze)):Fe&&(Fe.d(1),Fe=null)},i(F){lt||(E(je),E(Be),E(o.$$.fragment,F),E(u.$$.fragment,F),E(R),E(Ie),E($e.$$.fragment,F),E(De.$$.fragment,F),lt=!0)},o(F){$(je),$(Be),$(o.$$.fragment,F),$(u.$$.fragment,F),$(R),$(Ie),$($e.$$.fragment,F),$(De.$$.fragment,F),lt=!1},d(F){F&&k(e),He.d(),F&&k(t),je&&je.d(F),F&&k(n),Be&&Be.d(F),F&&k(s),F&&k(i),te(o),te(u),tt[x].d(),r[51](null),Ie&&Ie.d(),Me&&Me.d(),r[54](null),ve.d(),te($e),te(De),F&&k(St),Fe&&Fe.d(F),F&&k(Ze),dt=!1,Re(Xe)}}}const th=300;function Bl(r){r.target.style.height="inherit";const e=window.getComputedStyle(r.target),t=parseInt(e.getPropertyValue("border-top-width"),10)+r.target.scrollHeight+parseInt(e.getPropertyValue("border-bottom-width"),10);r.target.style.height=`${Math.min(t,th)}px`}function js(r){return!/\s/.test(r)&&r.includes("blob.core.windows.net")&&/rsct=image\/(jpeg|jpg|gif|png|bmp)/i.test(r)}function nh(){console.log("Optimize button clicked")}function sh(r,e,t){let n,s,i,l,o,a,c,u,f,d,h,m;ge(r,Yt,I=>t(17,i=I)),ge(r,An,I=>t(18,l=I)),ge(r,We,I=>t(1,o=I)),ge(r,pe,I=>t(2,a=I)),ge(r,tn,I=>t(39,c=I)),ge(r,Mt,I=>t(40,u=I)),ge(r,Os,I=>t(41,f=I)),ge(r,$n,I=>t(19,d=I)),ge(r,Rn,I=>t(20,h=I)),ge(r,Ke,I=>t(21,m=I));const b="SmoothGPT";let v=!1;function w(I){t(3,v=I.detail.isCollapsed)}let S,A="",y,x,R,C="",T,B="",V=null,L="";async function J(I){const ae=I.target;ae.files&&ae.files.length>0&&(R=ae.files[0],R&&(R.type==="application/pdf"?t(38,C=await jd(R)):(R.type==="text/csv"||R.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")&&t(38,C=await Md(R)),console.log(C)))}function U(){tn.set([]),R=null,t(38,C=""),t(0,S.value="",S)}let Y=null;function Q(){if(!T)return;const I={childList:!0,subtree:!0,characterData:!0};Y=new MutationObserver((ae,ve)=>{fe()}),Y.observe(T,I)}en(async()=>{await cc(),Q()}),Xl(()=>{Y&&(Y.disconnect(),Y=null),uc()});function fe(){T&&T.scrollHeight-T.scrollTop-150<=T.clientHeight&&t(7,T.scrollTop=T.scrollHeight,T)}function z(){Br(A,o,C),t(4,A=""),U(),t(5,y.style.height="96px",y)}function ne(){T&&t(7,T.scrollTop=T.scrollHeight,T)}let M=0;Zl(()=>{const I=a[o]?.history.length||0;I>M&&ne(),M=I});let Z=0;function me(I){t(9,V=I),t(10,L=a[o].history[I].content)}function H(){t(9,V=null),t(10,L=""),t(6,x.style.height="96px",x)}function oe(I){const ae=L,ve=a[o].history.length-I;for(let F=0;F<ve;F++)Ur(a[o].history.length-1);Br(ae,o,C),H()}let we=!1,ke=!1;function ht(){t(12,we=!we),we&&t(13,ke=!1)}function G(){t(13,ke=!ke),ke&&t(12,we=!1)}function xe(I){t(4,A=I.detail.text)}function $e(I){const{template:ae,variables:ve}=I.detail;an(An,l={id:"",name:"",template:ae,variables:ve},l),an(Yt,i={},i),ve.forEach(Fe=>{an(Yt,i[Fe]="",i)})}function Oe(){if(l){let I=l.template;Object.entries(i).forEach(([ae,ve])=>{I=I.replace(new RegExp(`::${ae}::`,"g"),ve)}),t(4,A=I),an(An,l=null,l),an(Yt,i={},i)}}en(()=>{y&&t(5,y.style.color="black",y)});let qe=!1;function De(){t(14,qe=!0)}async function St(I){const{mutationInstructions:ae}=I.detail;try{const ve=await nc(A,ae);t(4,A=ve),t(14,qe=!1)}catch(ve){console.error("Error mutating prompt:",ve)}}function Ze(){t(14,qe=!1)}function lt(I){B=I,t(8,B),t(1,o),t(2,a)}const dt=I=>{let ae=I.detail;pe.update(ve=>{let Fe=[...ve];return Fe[o].title=ae,Fe}),t(8,B=ae)};function Xe(I){Et[I?"unshift":"push"](()=>{x=I,t(6,x)})}function mt(){L=this.value,t(10,L)}const bt=I=>oe(I),He=()=>H(),je=I=>Fa(I.content),Be=I=>Ur(I),vt=I=>me(I);function xt(I){Et[I?"unshift":"push"](()=>{T=I,t(7,T)})}function wt(I){Et[I?"unshift":"push"](()=>{S=I,t(0,S),t(41,f)})}const tt=I=>J(I);function It(I){Et[I?"unshift":"push"](()=>{y=I,t(5,y)})}function Ie(){A=this.value,t(4,A)}const jt=I=>{const ae=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);!m&&I.key==="Enter"&&!I.shiftKey&&!I.ctrlKey&&!I.metaKey&&!ae&&(I.preventDefault(),z())},ot=()=>{m?Xa():z()};function Me(I){i[I]=this.value,Yt.set(i)}return r.$$.update=()=>{if(r.$$.dirty[0]&1|r.$$.dirty[1]&1024&&f&&S&&(t(0,S.value="",S),Os.set(!1)),r.$$.dirty[0]&6){const I=o,ae=a,ve=a.length;I!==void 0&&ae[I]&&t(8,B=ae[I].title||"New Conversation"),(I==null||I<0||I>=ve)&&(console.log("changing conversation from ID",o),We.set(ve>0?ve-1:null),console.log("to ID",o))}r.$$.dirty[1]&512&&t(16,n=u.includes("Vision")),r.$$.dirty[1]&512&&t(15,s=u.includes("GPT")),r.$$.dirty[0]&6&&t(8,B=a[o]?a[o].title:"ChatGPT"),r.$$.dirty[1]&256&&t(11,Z=c.length),r.$$.dirty[1]&128},[S,o,a,v,A,y,x,T,B,V,L,Z,we,ke,qe,s,n,i,l,d,h,m,w,J,U,z,me,H,oe,ht,G,xe,$e,Oe,De,St,Ze,b,C,c,u,f,lt,dt,Xe,mt,bt,He,je,Be,vt,xt,wt,tt,It,Ie,jt,ot,Me]}class rh extends le{constructor(e){super(),ie(this,e,sh,eh,re,{name:37},null,[-1,-1,-1])}get name(){return this.$$.ctx[37]}}const ih="/assets/chat-431b71cc.svg";new rh({target:document.getElementById("app")});window.addEventListener("load",()=>{const r=document.querySelector('link[rel="icon"]');r&&r.setAttribute("href",ih)});export{Ul as _};
